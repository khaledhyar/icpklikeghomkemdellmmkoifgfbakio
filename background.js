require=function e(t,r,o){function n(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,(function(e){return n(t[s][1][e]||e)}),c,c.exports,e,t,r,o)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(e,t,r){"use strict";t.exports={version:56,countries:{at:{timezoneOffset:120,premium_servers:[{host:"at1.lunrac.com",port:443},{host:"at2.lunrac.com",port:443},{host:"at3.lunrac.com",port:443},{host:"at4.lunrac.com",port:443},{host:"at5.lunrac.com",port:443},{host:"at6.lunrac.com",port:443},{host:"at7.lunrac.com",port:443}]},au:{timezoneOffset:525,premium_servers:[{host:"au2.lunrac.com",port:443},{host:"au3.lunrac.com",port:443}]},be:{timezoneOffset:120,premium_servers:[{host:"be1.lunrac.com",port:443},{host:"be2.lunrac.com",port:443},{host:"be3.lunrac.com",port:443},{host:"be4.lunrac.com",port:443},{host:"be5.lunrac.com",port:443},{host:"be6.lunrac.com",port:443},{host:"be7.lunrac.com",port:443}]},bg:{timezoneOffset:180,premium_servers:[{host:"bg1.lunrac.com",port:443},{host:"bg2.lunrac.com",port:443}]},ca:{timezoneOffset:-420,premium_servers:[{host:"ca1.lunrac.com",port:443}]},ch:{timezoneOffset:120,premium_servers:[{host:"ch1.lunrac.com",port:443}]},de:{timezoneOffset:120,premium_servers:[{host:"de1.lunrac.com",port:443},{host:"de2.lunrac.com",port:443},{host:"de3.lunrac.com",port:443}]},dk:{timezoneOffset:120,premium_servers:[{host:"dk1.lunrac.com",port:443},{host:"dk2.lunrac.com",port:443}]},es:{timezoneOffset:120,premium_servers:[{host:"es1.lunrac.com",port:443}]},fi:{timezoneOffset:180,premium_servers:[{host:"fi1.lunrac.com",port:443},{host:"fi2.lunrac.com",port:443},{host:"fi3.lunrac.com",port:443},{host:"fi4.lunrac.com",port:443}]},fr:{timezoneOffset:120,premium_servers:[{host:"fr1.lunrac.com",port:443},{host:"fr2.lunrac.com",port:443}]},hk:{timezoneOffset:480,premium_servers:[{host:"hk1.lunrac.com",port:443},{host:"hk2.lunrac.com",port:443},{host:"hk3.lunrac.com",port:443},{host:"hk4.lunrac.com",port:443},{host:"hk5.lunrac.com",port:443}]},ie:{timezoneOffset:60,premium_servers:[{host:"ie1.lunrac.com",port:443},{host:"ie2.lunrac.com",port:443}]},in:{timezoneOffset:330,premium_servers:[{host:"in1.lunrac.com",port:443},{host:"in2.lunrac.com",port:443}]},it:{timezoneOffset:120,premium_servers:[{host:"it3.lunrac.com",port:443}]},jp:{timezoneOffset:540,premium_servers:[{host:"jp1.lunrac.com",port:443},{host:"jp2.lunrac.com",port:443},{host:"jp3.lunrac.com",port:443},{host:"jp4.lunrac.com",port:443},{host:"jp5.lunrac.com",port:443},{host:"jp6.lunrac.com",port:443},{host:"jp7.lunrac.com",port:443},{host:"jp8.lunrac.com",port:443}]},kr:{timezoneOffset:540,premium_servers:[{host:"kr1.lunrac.com",port:443}]},lt:{timezoneOffset:180,premium_servers:[{host:"lt1.lunrac.com",port:443},{host:"lt2.lunrac.com",port:443}]},lu:{timezoneOffset:120,premium_servers:[{host:"lu1.lunrac.com",port:443}]},lv:{timezoneOffset:180,premium_servers:[{host:"lv1.lunrac.com",port:443}]},mx:{timezoneOffset:-300,premium_servers:[{host:"mx1.lunrac.com",port:443}]},nl:{timezoneOffset:120,servers:[{host:"nl1.postls.com",port:443},{host:"nl2.postls.com",port:443},{host:"nl3.postls.com",port:443},{host:"nl4.postls.com",port:443},{host:"nl5.postls.com",port:443},{host:"nl6.postls.com",port:443},{host:"nl7.postls.com",port:443},{host:"nl8.postls.com",port:443},{host:"nl9.postls.com",port:443},{host:"nl10.postls.com",port:443},{host:"nl11.postls.com",port:443},{host:"nl12.postls.com",port:443},{host:"nl13.postls.com",port:443},{host:"nl14.postls.com",port:443},{host:"nl15.postls.com",port:443},{host:"nl16.postls.com",port:443},{host:"nl17.postls.com",port:443},{host:"nl18.postls.com",port:443},{host:"nl19.postls.com",port:443},{host:"nl20.postls.com",port:443},{host:"nl21.postls.com",port:443},{host:"nl22.postls.com",port:443},{host:"nl23.postls.com",port:443},{host:"nl26.postls.com",port:443},{host:"nl27.postls.com",port:443},{host:"nl28.postls.com",port:443},{host:"nl29.postls.com",port:443},{host:"nl30.postls.com",port:443},{host:"nl31.postls.com",port:443},{host:"nl32.postls.com",port:443},{host:"nl33.postls.com",port:443},{host:"nl34.postls.com",port:443},{host:"nl35.postls.com",port:443},{host:"nl36.postls.com",port:443},{host:"nl37.postls.com",port:443},{host:"nl38.postls.com",port:443},{host:"nl39.postls.com",port:443},{host:"nl40.postls.com",port:443},{host:"nl41.postls.com",port:443},{host:"nl42.postls.com",port:443},{host:"nl43.postls.com",port:443},{host:"nl44.postls.com",port:443},{host:"nl45.postls.com",port:443}],premium_servers:[{host:"nl1.lunrac.com",port:443},{host:"nl2.lunrac.com",port:443},{host:"nl3.lunrac.com",port:443},{host:"nl4.lunrac.com",port:443},{host:"nl5.lunrac.com",port:443},{host:"nl6.lunrac.com",port:443},{host:"nl7.lunrac.com",port:443},{host:"nl8.lunrac.com",port:443}]},no:{timezoneOffset:120,premium_servers:[{host:"no1.lunrac.com",port:443},{host:"no2.lunrac.com",port:443}]},nz:{timezoneOffset:720,premium_servers:[{host:"nz1.lunrac.com",port:443}]},ro:{timezoneOffset:180,premium_servers:[{host:"ro1.lunrac.com",port:443},{host:"ro2.lunrac.com",port:443}]},ru:{timezoneOffset:180,premium_servers:[{host:"ru6.lunrac.com",port:443},{host:"ru7.lunrac.com",port:443},{host:"ru8.lunrac.com",port:443},{host:"ru9.lunrac.com",port:443},{host:"ru10.lunrac.com",port:443},{host:"ru11.lunrac.com",port:443},{host:"ru12.lunrac.com",port:443},{host:"ru13.lunrac.com",port:443},{host:"ru14.lunrac.com",port:443}]},se:{timezoneOffset:120,premium_servers:[{host:"se1.lunrac.com",port:443},{host:"se2.lunrac.com",port:443},{host:"se3.lunrac.com",port:443},{host:"se4.lunrac.com",port:443}]},sg:{timezoneOffset:480,servers:[{host:"sg1.postls.com",port:443},{host:"sg2.postls.com",port:443},{host:"sg3.postls.com",port:443},{host:"sg4.postls.com",port:443},{host:"sg5.postls.com",port:443},{host:"sg6.postls.com",port:443},{host:"sg7.postls.com",port:443},{host:"sg8.postls.com",port:443},{host:"sg9.postls.com",port:443},{host:"sg10.postls.com",port:443},{host:"sg11.postls.com",port:443},{host:"sg12.postls.com",port:443},{host:"sg13.postls.com",port:443}],premium_servers:[{host:"sg1.lunrac.com",port:443},{host:"sg2.lunrac.com",port:443},{host:"sg3.lunrac.com",port:443},{host:"sg4.lunrac.com",port:443}]},tr:{timezoneOffset:180,premium_servers:[{host:"tr1.lunrac.com",port:443},{host:"tr2.lunrac.com",port:443},{host:"tr3.lunrac.com",port:443},{host:"tr4.lunrac.com",port:443},{host:"tr5.lunrac.com",port:443},{host:"tr6.lunrac.com",port:443}]},ua:{timezoneOffset:180,premium_servers:[{host:"ua1.lunrac.com",port:443}]},uk:{timezoneOffset:60,servers:[{host:"uk1.postls.com",port:443},{host:"uk2.postls.com",port:443},{host:"uk4.postls.com",port:443},{host:"uk5.postls.com",port:443},{host:"uk6.postls.com",port:443},{host:"uk7.postls.com",port:443},{host:"uk8.postls.com",port:443},{host:"uk9.postls.com",port:443},{host:"uk10.postls.com",port:443},{host:"uk11.postls.com",port:443},{host:"uk12.postls.com",port:443},{host:"uk13.postls.com",port:443},{host:"uk14.postls.com",port:443},{host:"uk15.postls.com",port:443},{host:"uk16.postls.com",port:443},{host:"uk17.postls.com",port:443},{host:"uk18.postls.com",port:443},{host:"uk19.postls.com",port:443},{host:"uk20.postls.com",port:443},{host:"uk21.postls.com",port:443}],premium_servers:[{host:"uk1.lunrac.com",port:443},{host:"uk2.lunrac.com",port:443},{host:"uk3.lunrac.com",port:443},{host:"uk4.lunrac.com",port:443},{host:"uk5.lunrac.com",port:443},{host:"uk6.lunrac.com",port:443},{host:"uk7.lunrac.com",port:443},{host:"uk8.lunrac.com",port:443},{host:"uk9.lunrac.com",port:443},{host:"uk10.lunrac.com",port:443},{host:"uk11.lunrac.com",port:443}]},us:{timezoneOffset:-240,servers:[{host:"us1.postls.com",port:443},{host:"us2.postls.com",port:443},{host:"us3.postls.com",port:443},{host:"us4.postls.com",port:443},{host:"us5.postls.com",port:443},{host:"us6.postls.com",port:443},{host:"us7.postls.com",port:443},{host:"us8.postls.com",port:443},{host:"us9.postls.com",port:443},{host:"us10.postls.com",port:443},{host:"us11.postls.com",port:443},{host:"us13.postls.com",port:443},{host:"us14.postls.com",port:443},{host:"us15.postls.com",port:443},{host:"us16.postls.com",port:443},{host:"us17.postls.com",port:443},{host:"us18.postls.com",port:443},{host:"us19.postls.com",port:443},{host:"us20.postls.com",port:443},{host:"us21.postls.com",port:443},{host:"us22.postls.com",port:443},{host:"us23.postls.com",port:443},{host:"us27.postls.com",port:443},{host:"us31.postls.com",port:443},{host:"us32.postls.com",port:443}],premium_servers:[{host:"us3.lunrac.com",port:443},{host:"us4.lunrac.com",port:443},{host:"us5.lunrac.com",port:443},{host:"us6.lunrac.com",port:443},{host:"us8.lunrac.com",port:443},{host:"us9.lunrac.com",port:443}]},usw:{timezoneOffset:-420,premium_servers:[{host:"usw10.lunrac.com",port:443},{host:"usw11.lunrac.com",port:443},{host:"usw12.lunrac.com",port:443},{host:"usw13.lunrac.com",port:443},{host:"usw14.lunrac.com",port:443},{host:"usw15.lunrac.com",port:443}]},za:{timezoneOffset:120,premium_servers:[{host:"za1.lunrac.com",port:443}]}}}},{}],2:[function(e,t,r){var o=e("./_root").Symbol;t.exports=o},{"./_root":9}],3:[function(e,t,r){var o=e("./_Symbol"),n=e("./_getRawTag"),i=e("./_objectToString"),s=o?o.toStringTag:void 0;t.exports=function(e){if(null==e)return void 0===e?"[object Undefined]":"[object Null]";else return s&&s in Object(e)?n(e):i(e)}},{"./_Symbol":2,"./_getRawTag":6,"./_objectToString":7}],4:[function(e,t,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,r){var o=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=o},{"./_overArg":8}],6:[function(e,t,r){var o=e("./_Symbol"),n=Object.prototype,i=n.hasOwnProperty,s=n.toString,a=o?o.toStringTag:void 0;t.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var o=!0}catch(e){}var n=s.call(e);if(o)if(t)e[a]=r;else delete e[a];return n}},{"./_Symbol":2}],7:[function(e,t,r){var o=Object.prototype.toString;t.exports=function(e){return o.call(e)}},{}],8:[function(e,t,r){t.exports=function(e,t){return function(r){return e(t(r))}}},{}],9:[function(e,t,r){var o=e("./_freeGlobal"),n="object"==typeof self&&self&&self.Object===Object&&self,i=o||n||Function("return this")();t.exports=i},{"./_freeGlobal":4}],10:[function(e,t,r){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],11:[function(e,t,r){var o=e("./_baseGetTag"),n=e("./_getPrototype"),i=e("./isObjectLike"),s=Function.prototype,a=Object.prototype,u=s.toString,l=a.hasOwnProperty,c=u.call(Object);t.exports=function(e){if(!i(e)||"[object Object]"!=o(e))return!1;var t=n(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==c}},{"./_baseGetTag":3,"./_getPrototype":5,"./isObjectLike":10}],12:[function(e,t,r){var o,n,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(o===setTimeout)return setTimeout(e,0);if((o===s||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{if("function"==typeof setTimeout)o=setTimeout;else o=s}catch(e){o=s}try{if("function"==typeof clearTimeout)n=clearTimeout;else n=a}catch(e){n=a}}();var l,c=[],d=!1,f=-1;function p(){if(d&&l){if(d=!1,l.length)c=l.concat(c);else f=-1;if(c.length)m()}}function m(){if(!d){var e=u(p);d=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)if(l)l[f].run();f=-1,t=c.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(c.push(new h(e,t)),1===c.length&&!d)u(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],13:[function(e,t,r){(function(e){!function(o){var n="object"==typeof r&&r&&!r.nodeType&&r,i="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e;if(s.global===s||s.window===s||s.self===s)o=s;var a,u,l=2147483647,c=/^xn--/,d=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,h=String.fromCharCode;function g(e){throw new RangeError(p[e])}function v(e,t){for(var r=e.length,o=[];r--;)o[r]=t(e[r]);return o}function y(e,t){var r=e.split("@"),o="";if(r.length>1)o=r[0]+"@",e=r[1];return o+v((e=e.replace(f,".")).split("."),t).join(".")}function b(e){for(var t,r,o=[],n=0,i=e.length;n<i;)if((t=e.charCodeAt(n++))>=55296&&t<=56319&&n<i)if(56320==(64512&(r=e.charCodeAt(n++))))o.push(((1023&t)<<10)+(1023&r)+65536);else o.push(t),n--;else o.push(t);return o}function w(e){return v(e,(function(e){var t="";if(e>65535)t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e;return t+=h(e)})).join("")}function _(e){if(e-48<10)return e-22;if(e-65<26)return e-65;if(e-97<26)return e-97;else return 36}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,r){var o=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;o+=36)e=m(e/35);return m(o+36*e/(e+38))}function S(e){var t,r,o,n,i,s,a,u,c,d,f=[],p=e.length,h=0,v=128,y=72;if((r=e.lastIndexOf("-"))<0)r=0;for(o=0;o<r;++o){if(e.charCodeAt(o)>=128)g("not-basic");f.push(e.charCodeAt(o))}for(n=r>0?r+1:0;n<p;){for(i=h,s=1,a=36;;a+=36){if(n>=p)g("invalid-input");if((u=_(e.charCodeAt(n++)))>=36||u>m((l-h)/s))g("overflow");if(h+=u*s,u<(c=a<=y?1:a>=y+26?26:a-y))break;if(s>m(l/(d=36-c)))g("overflow");s*=d}if(y=k(h-i,t=f.length+1,0==i),m(h/t)>l-v)g("overflow");v+=m(h/t),h%=t,f.splice(h++,0,v)}return w(f)}function P(e){var t,r,o,n,i,s,a,u,c,d,f,p,v,y,w,_=[];for(p=(e=b(e)).length,t=128,r=0,i=72,s=0;s<p;++s)if((f=e[s])<128)_.push(h(f));if(o=n=_.length,n)_.push("-");for(;o<p;){for(a=l,s=0;s<p;++s)if((f=e[s])>=t&&f<a)a=f;if(a-t>m((l-r)/(v=o+1)))g("overflow");for(r+=(a-t)*v,t=a,s=0;s<p;++s){if((f=e[s])<t&&++r>l)g("overflow");if(f==t){for(u=r,c=36;!(u<(d=c<=i?1:c>=i+26?26:c-i));c+=36)w=u-d,y=36-d,_.push(h(x(d+w%y,0))),u=m(w/y);_.push(h(x(u,0))),i=k(r,v,o==n),r=0,++o}}++r,++t}return _.join("")}if(a={version:"1.4.1",ucs2:{decode:b,encode:w},decode:S,encode:P,toASCII:function(e){return y(e,(function(e){return d.test(e)?"xn--"+P(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?S(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return a}));else if(n&&i)if(t.exports==n)i.exports=a;else for(u in a)a.hasOwnProperty(u)&&(n[u]=a[u]);else o.punycode=a}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,r){"use strict";r.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};r.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,i){var a,u=e(r,n,i),l=u.dispatch,c={getState:u.getState,dispatch:function(e){return l(e)}};return a=t.map((function(e){return e(c)})),l=s.default.apply(void 0,a)(u.dispatch),o({},u,{dispatch:l})}}};var n,i=e("./compose"),s=(n=i)&&n.__esModule?n:{default:n}},{"./compose":17}],15:[function(e,t,r){"use strict";function o(e,t){return function(){return t(e.apply(void 0,arguments))}}r.__esModule=!0,r.default=function(e,t){if("function"==typeof e)return o(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},i=0;i<r.length;i++){var s=r[i],a=e[s];if("function"==typeof a)n[s]=o(a,t)}return n}},{}],16:[function(e,t,r){(function(t){"use strict";r.__esModule=!0,r.default=function(e){for(var r=Object.keys(e),n={},s=0;s<r.length;s++){var l=r[s];if("production"!==t.env.NODE_ENV)if(void 0===e[l])(0,i.default)('No reducer provided for key "'+l+'"');if("function"==typeof e[l])n[l]=e[l]}var c=Object.keys(n),d=void 0;if("production"!==t.env.NODE_ENV)d={};var f=void 0;try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:o.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){f=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];if(f)throw f;if("production"!==t.env.NODE_ENV){var o=u(e,n,r,d);if(o)(0,i.default)(o)}for(var s=!1,l={},p=0;p<c.length;p++){var m=c[p],h=n[m],g=e[m],v=h(g,r);if(void 0===v){var y=a(m,r);throw new Error(y)}l[m]=v,s=s||v!==g}return s?l:e}};var o=e("./createStore"),n=s(e("lodash/isPlainObject")),i=s(e("./utils/warning"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e,t,r,i){var s=Object.keys(t),a=r&&r.type===o.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===s.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,n.default)(e))return"The "+a+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+s.join('", "')+'"';var u=Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)&&!i[e]}));if(u.forEach((function(e){i[e]=!0})),u.length>0)return"Unexpected "+(u.length>1?"keys":"key")+' "'+u.join('", "')+'" found in '+a+'. Expected to find one of the known reducer keys instead: "'+s.join('", "')+'". Unexpected keys will be ignored.';else return}}).call(this,e("_process"))},{"./createStore":18,"./utils/warning":20,_process:12,"lodash/isPlainObject":11}],17:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];return t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}},{}],18:[function(e,t,r){"use strict";r.__esModule=!0,r.ActionTypes=void 0,r.default=function e(t,r,i){var a;if("function"==typeof r&&void 0===i)i=r,r=void 0;if(void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,r)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var u=t,l=r,c=[],d=c,f=!1;function p(){if(d===c)d=c.slice()}function m(){return l}function h(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return p(),d.push(e),function(){if(t){t=!1,p();var r=d.indexOf(e);d.splice(r,1)}}}function g(e){if(!(0,o.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=u(l,e)}finally{f=!1}for(var t=c=d,r=0;r<t.length;r++){(0,t[r])()}return e}return g({type:s.INIT}),(a={dispatch:g,subscribe:h,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,g({type:s.INIT})}})[n.default]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function r(){if(e.next)e.next(m())}return r(),{unsubscribe:t(r)}}})[n.default]=function(){return this},e},a};var o=i(e("lodash/isPlainObject")),n=i(e("symbol-observable"));function i(e){return e&&e.__esModule?e:{default:e}}var s=r.ActionTypes={INIT:"@@redux/INIT"}},{"lodash/isPlainObject":11,"symbol-observable":21}],19:[function(e,t,r){(function(t){"use strict";r.__esModule=!0,r.compose=r.applyMiddleware=r.bindActionCreators=r.combineReducers=r.createStore=void 0;var o=l(e("./createStore")),n=l(e("./combineReducers")),i=l(e("./bindActionCreators")),s=l(e("./applyMiddleware")),a=l(e("./compose")),u=l(e("./utils/warning"));function l(e){return e&&e.__esModule?e:{default:e}}function c(){}if("production"!==t.env.NODE_ENV&&"string"==typeof c.name&&"isCrushed"!==c.name)(0,u.default)("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build.");r.createStore=o.default,r.combineReducers=n.default,r.bindActionCreators=i.default,r.applyMiddleware=s.default,r.compose=a.default}).call(this,e("_process"))},{"./applyMiddleware":14,"./bindActionCreators":15,"./combineReducers":16,"./compose":17,"./createStore":18,"./utils/warning":20,_process:12}],20:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){if("undefined"!=typeof console&&"function"==typeof console.error)console.error(e);try{throw new Error(e)}catch(e){}}},{}],21:[function(e,t,r){(function(o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i,s=e("./ponyfill.js"),a=(n=s)&&n.__esModule?n:{default:n};if("undefined"!=typeof self)i=self;else if("undefined"!=typeof window)i=window;else if(void 0!==o)i=o;else if(void 0!==t)i=t;else i=Function("return this")();var u=(0,a.default)(i);r.default=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":22}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t,r=e.Symbol;if("function"==typeof r)if(r.observable)t=r.observable;else t=r("observable"),r.observable=t;else t="@@observable";return t}},{}],23:[function(e,t,r){"use strict";e("polyfills/Promise.prototype.finally"),e("polyfills/regeneratorRuntime"),e("polyfills/String.prototype.padEnd"),e("polyfills/String.prototype.padStart");var o=q(e("core/browser")),n=q(e("core/account")),i=q(e("core/actions")),s=q(e("core/ajaxes")),a=q(e("core/availableServer")),u=q(e("config")),l=q(e("core/Counters")),c=q(e("tools/createElement")),d=q(e("core/log/db")),f=q(e("tools/Deferred")),p=q(e("core/DelayRecord")),m=q(e("core/Diagnostics")),h=q(e("core/domainZoneList")),g=q(e("core/ga")),v=q(e("tools/internationalize")),y=q(e("core/log")),b=q(e("core/runtime.onInstalled")),w=q(e("core/runtime.onMessage")),_=q(e("core/permissions")),x=q(e("core/ping")),k=q(e("core/promotions")),S=q(e("core/pac")),P=q(e("punycode")),j=q(e("core/ShowedOffers")),O=q(e("core/Statistics")),M=q(e("core/store")),C=q(e("core/storage")),A=q(e("timezoneChange/index")),R=q(e("tools/urlModifyParameters")),T=q(e("tools/urlToDomain")),L=q(e("core/UserPropertiesObserver")),E=q(e("core/webRequest")),D=q(e("core/webrtc")),I=q(e("tools/weightedRandom"));function q(e){return e&&e.__esModule?e:{default:e}}function z(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){z(i,o,n,s,a,"next",e)}function a(e){z(i,o,n,s,a,"throw",e)}s(void 0)}))}}e("core/browserIcon"),e("core/chromeOnAuthProblemResolver"),e("core/contentScripts"),e("core/daysAfterInstall"),e("core/FirstPremiumBuy"),e("core/popupListeners"),e("core/runtime.onConnect"),e("core/serverListUpdate"),e("core/urlListener"),e("timezoneChange/messageSystem"),e("notification/messageSystem");const N=window._;(0,y.default)("Background start");if(Object.assign(window,{account:n.default,actions:i.default,ajaxes:s.default,availableServer:a.default,Browser:o.default,config:u.default,db:d.default,Diagnostics:m.default,domainZoneList:h.default,ga:g.default,permissions:_.default,ping:x.default,promotions:k.default,proxy:S.default,punycode:P.default,ShowedOffers:j.default,UserPropertiesObserver:L.default,Statistics:O.default,storage:C.default,store:M.default,timezoneChange:A.default,tools:{createElement:c.default,Deferred:f.default,internationalize:v.default,urlModifyParameters:R.default,urlToDomain:T.default,weightedRandom:I.default},webrtc:D.default}),o.default.proxy)o.default.proxy.onError.addListener(function(){var e=B((function*(e){yield M.default.ready,(0,y.default)("proxy.onError",e),l.default.increase("proxy errors")}));return function(t){return e.apply(this,arguments)}}());let U=B((function*(){yield M.default.ready;let e=B((function*(){try{return yield n.default.load()}catch(e){return a.default.initialRequestComplete.then(()=>{n.default.load()}),M.default.getState().user}}))(),[t]=yield Promise.all([e,S.default.promise]);return yield S.default.refresh(),t}))();(0,E.default)(U),U.then(()=>{M.default.compare(({user:{email:e,premium:t}})=>({logined:Boolean(e),premiumUser:t}),function(){var e=B((function*({logined:e,premiumUser:t},{logined:r,premiumUser:o}){if(e!==r)return;let n=`Proxy: switching ${(!t&&o?"From free to premium":"From premium to free").toLowerCase()} servers`,i=new p.default(n);yield S.default.refresh(),i.end()}));return function(t,r){return e.apply(this,arguments)}}())}),(0,b.default)(),o.default.runtime.onStartup.addListener(()=>{(0,y.default)("browser.runtime.onStartup"),(0,g.default)("extension","start",o.default.runtime.getManifest().version)}),B((function*(){try{yield o.default.storage.local.set({file_system_state:!0}),yield o.default.storage.local.get("file_system_state"),(0,y.default)("File system OK")}catch(e){y.default.error("File system broken")}}))(),M.default.ready.then(()=>{w.default.addListener({type:"auth",callback:({account:e},t)=>{let r=[t.url,u.default.baseUrl].map(e=>new URL(e).origin);if(r[0]===r[1]){if(!(e=>{if(!0===e.guest)return!0;let t=N.get(e,"credentials.access_token");return Boolean(t&&t.match(/^[a-zA-Z0-9]{20}$/))})(e))throw new Error("invalid credentials: "+JSON.stringify(e));M.default.dispatch({type:"User data change",data:e})}else y.default.warn("Message from an untrusted sender: "+t)}}),w.default.addListener({type:"reload",callback:(e,t)=>{let r=[t.url,u.default.baseUrl].map(e=>new URL(e).origin);if(r[0]===r[1])n.default.reload();else y.default.warn("Message from an untrusted sender: "+t)}})})},{config:"config","core/Counters":25,"core/DelayRecord":27,"core/Diagnostics":31,"core/FirstPremiumBuy":42,"core/ShowedOffers":45,"core/Statistics":47,"core/UserPropertiesObserver":49,"core/account":50,"core/actions":52,"core/ajaxes":57,"core/availableServer":66,"core/browser":71,"core/browserIcon":72,"core/chromeOnAuthProblemResolver":74,"core/contentScripts":76,"core/daysAfterInstall":77,"core/domainZoneList":80,"core/ga":85,"core/log":92,"core/log/db":86,"core/pac":101,"core/permissions":103,"core/ping":109,"core/popupListeners":123,"core/promotions":143,"core/runtime.onConnect":146,"core/runtime.onInstalled":147,"core/runtime.onMessage":148,"core/serverListUpdate":150,"core/storage":151,"core/store":154,"core/urlListener":156,"core/webRequest":158,"core/webrtc":162,"notification/messageSystem":241,"polyfills/Promise.prototype.finally":244,"polyfills/String.prototype.padEnd":245,"polyfills/String.prototype.padStart":246,"polyfills/regeneratorRuntime":247,punycode:13,"timezoneChange/index":249,"timezoneChange/messageSystem":250,"tools/Deferred":251,"tools/createElement":255,"tools/internationalize":261,"tools/urlModifyParameters":265,"tools/urlToDomain":266,"tools/weightedRandom":269}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/storage"))&&o.__esModule?o:{default:o};r.default=()=>{let e=n.default.getItem("statistics");if(!e)return{};else return{"country changes":e.countryChanges||0,"icon clicks":e.iconClicks||0,"popup: location page shows":e.locationPageShows||0,"popup: proxy on":e.proxyOn||0,"proxied pages":e.proxiedPages||0,"proxy errors":e.proxyErrors||0,"user login":e.userLoginCount||0}}},{"core/storage":151}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("config")),n=u(e("./getDefaultState")),i=u(e("./listeners")),s=u(e("core/log")),a=u(e("core/storage"));function u(e){return e&&e.__esModule?e:{default:e}}const l=window._;var c=new function(){a.default.ready.then(()=>{this.state=a.default.get("counters")||(0,n.default)(),this.state});let e=[];this.addListener=(t,r)=>{e.push({listener:r,property:t})},this.removeListener=t=>{if("string"!=typeof t)l.remove(e,({listener:e})=>e===t);else l.remove(e,({property:e})=>e===t)},this.get=e=>this.state[e]||0,this.increase=t=>{if(!this.state[t])this.state[t]=0;if(this.state[t]++,"development"===o.default.type)(0,s.default)(`Counters. Increase ${t}. New value: `,this.state[t]);return a.default.set("counters",this.state),e.forEach(({listener:e,property:r})=>{if(r===t)e(this.state[t])}),this.state[t]},(0,i.default)(this)};r.default=c},{"./getDefaultState":24,"./listeners":26,config:"config","core/log":92,"core/storage":151}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/store"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var s=function(){var e,t=(e=function*(e){yield n.default.ready,n.default.compare(({pac:{mode:e,country:t}})=>({enabled:"proxy"===e,country:t}),({enabled:t,country:r},{country:o})=>{if(t)if(r!==o)e.increase("country changes")}),n.default.compare(({pac:e})=>"proxy"===e.mode,t=>{if(t)e.increase("popup: proxy on")}),n.default.compare(({user:{email:e}})=>Boolean(e),t=>{if(t)e.increase("user login")})},function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=s},{"core/store":154}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function e(t){if(!(this instanceof e))throw new Error("DelayRecord called without new");let r=i[t]||0;i[t]=r+1,(0,n.default)(`Delay. ${t} #${r} started`);let o=performance.now();Object.defineProperty(this,"startStamp",{get:()=>o}),this.end=()=>{let e=Math.round(performance.now()-o);return(0,n.default)(`Delay. ${t} #${r} ended: ${e} milliseconds`),e}};var o,n=(o=e("core/log"))&&o.__esModule?o:{default:o};let i={}},{"core/log":92}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return u.apply(this,arguments)};var o,n=(o=e("core/browser"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))}}const a=n.default.runtime.getURL("/pages/diagnostics/diagnostics.html");function u(){return(u=s((function*(){if("undefined"!=typeof browser){let e=(yield n.default.tabs.query()).filter(({url:e})=>e===a).map(({id:e})=>e);if(e.length)n.default.tabs.remove(e);return}n.default.extension.getViews({type:"tab"}).filter(({location:e})=>e.href===a).forEach(e=>{e.close()})}))).apply(this,arguments)}},{"core/browser":71}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("tools/ajax")),n=i(e("core/browser"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)}))}}const u=window._;var l=function(){var e=a((function*(e){let t=e.map(e=>e+"?_="+Math.floor(1e9*Math.random())),r=[],i=({error:e,url:o})=>{if(t.includes(o))r.push("Browser internal: "+e)};n.default.webRequest.onErrorOccurred.addListener(i,{urls:["<all_urls>"]});let s=yield Promise.all(t.map(e=>new Promise(t=>{let n=!1;a((function*(){try{yield(0,o.default)(e,{method:"GET"}),n=!0,t(!0)}catch(o){let{message:i,status:s}=o;r.push(`Browser external error |${s||"no status"}| for domain ${e}: `+i),n=!0,t(!1)}}))(),setTimeout(()=>{if(!n)r.push("Browsec: timeout reached"),t(!1)},3e4)})));n.default.webRequest.onErrorOccurred.removeListener(i);let l={total:s.length,success:s.filter(e=>e).length},c=(()=>{if(!l.success)return"error";if(l.success===l.total)return"success";else return"warning"})();return r=u.uniq(r),{errors:r,requests:l,state:c}}));return function(t){return e.apply(this,arguments)}}();r.default=l},{"core/browser":71,"tools/ajax":253}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/browser"))&&o.__esModule?o:{default:o};const i=window._;r.default=e=>{if(!e)return[];else return e.reduce((e,{enabled:t,icons:r,id:o,name:s,permissions:a})=>{if(!(t&&a.includes("proxy")&&n.default.runtime.id!==o))return e;let u={id:o,name:s};if(i.get(r[1]||r[0],"url"))u.icon=`chrome://favicon/size/38/chrome-extension://${o}/`;return e.push(u),e},[])}},{"core/browser":71}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("./close")),n=a(e("./open")),i=a(e("./possibleSteps")),s=a(e("./start"));function a(e){return e&&e.__esModule?e:{default:e}}const u=window._;var l=new function(){this._listeners=[],this._states,this._states=i.default.map(e=>({name:e,state:"not started"})),this._stamp=Math.floor(1e9*Math.random()),this.close=o.default.bind(this),this.open=n.default.bind(this),this.start=s.default.bind(this),this.terminate=()=>{this._states=i.default.map(e=>({name:e,state:"not started"})),this._listeners.forEach(e=>{e(this._states)}),this._stamp=Math.floor(1e9*Math.random())},this.getSteps=()=>i.default,this.getState=()=>this._states,this.addListener=e=>{this._listeners.push(e)},this.removeListener=e=>{u.pull(this._listeners,e)}};r.default=l},{"./close":28,"./open":32,"./possibleSteps":33,"./start":34}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return u.apply(this,arguments)};var o,n=(o=e("core/browser"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))}}const a=n.default.runtime.getURL("/pages/diagnostics/diagnostics.html");function u(){return(u=s((function*(){if(!n.default.extension.getViews({type:"tab"}).some(({location:e})=>e.href===a))this.terminate(),n.default.tabs.create("/pages/diagnostics/diagnostics.html");else{let e=yield n.default.tabs.query({url:a});if(e.length)n.default.tabs.update(e[0].id,{active:!0,highlighted:!0})}}))).apply(this,arguments)}},{"core/browser":71}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const o="undefined"==typeof browser?["proxyApi","noProxyExtensions","httpConnection","httpsConnection","browsecApi","httpProxyConnection","httpsProxyConnection"]:["httpConnection","httpsConnection","browsecApi"];var n=Object.freeze(o);r.default=n},{}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=this;let r=e=>{let t=e.name,r=this._states.findIndex(e=>e.name===t);this._states[r]=e,this._listeners.forEach(e=>{e(this._states)})},p=this._stamp,m=i.default.reduce((e,t)=>{let n=(0,o.default)();return n.then(()=>{r({name:t,state:"in process"})}),e[t]=n,e},{}),g=i.default.reduce((e,t)=>{let n=(0,o.default)();return n.then(e=>{r(Object.assign({name:t},e))}),e[t]=n,e},{}),v=e=>({index:i.default.indexOf(e),deferred:{start:m[e],end:g[e]}});if(i.default.includes("proxyApi")){let{index:r,deferred:o}=v("proxyApi");h((function*(){yield o.start;let s=yield(0,l.default)(e);if(p!==t._stamp)return;o.end.resolve(s),(0,n.default)("Diagnostics. Proxy API: ",s);let a=i.default[r+1];if(a)o.end.then(()=>{m[a].resolve()})}))()}if(i.default.includes("noProxyExtensions")){let{index:r,deferred:o}=v("noProxyExtensions");h((function*(){yield o.start;let s=yield(0,c.default)(e,"error"!==t._states.find(({name:e})=>"proxyApi"===e).state);if(p!==t._stamp)return;o.end.resolve(s),(0,n.default)("Diagnostics. No other proxy extensions: ",s);let a=i.default[r+1];if(a)o.end.then(()=>{m[a].resolve()})}))()}if(i.default.includes("httpConnection")){let{index:e,deferred:r}=v("httpConnection");h((function*(){yield r.start;let o,a=t._states.find(({name:e})=>"proxyApi"===e);if(!a||"error"!==a.state)o=yield(0,s.default)();else o={state:"skip"};if(p!==t._stamp)return;r.end.resolve(o),(0,n.default)("Diagnostics. HTTP connection: ",o);let u=i.default[e+1];if(u)r.end.then(()=>{m[u].resolve()})}))()}if(i.default.includes("httpsConnection")){let{index:e,deferred:r}=v("httpsConnection");h((function*(){yield r.start;let o,s=t._states.find(({name:e})=>"proxyApi"===e);if(!s||"error"!==s.state)o=yield(0,a.default)();else o={state:"skip"};if(p!==t._stamp)return;r.end.resolve(o),(0,n.default)("Diagnostics. HTTPS connection: ",o);let u=i.default[e+1];if(u)r.end.then(()=>{m[u].resolve()})}))()}if(i.default.includes("browsecApi")){let{index:e,deferred:t}=v("browsecApi");t.start.then(()=>["httpConnection","httpsConnection"].map(e=>{let t=this._states.find(({name:t})=>t===e).state;return!["error","skip"].includes(t)}).some(e=>e)?(0,u.default)():{state:"skip"}).then(r=>{if(p!==this._stamp)return;t.end.resolve(r),(0,n.default)("Diagnostics. Browsec API: ",r);let o=i.default[e+1];if(o)t.end.then(()=>{m[o].resolve()})})}if(i.default.includes("httpProxyConnection")){let{index:e,deferred:t}=v("httpProxyConnection");t.start.then(()=>["noProxyExtensions","proxyApi"].map(e=>"error"!==this._states.find(({name:t})=>t===e).state).every(e=>e)?(0,d.default)():{state:"skip"}).then(r=>{if(p!==this._stamp)return;t.end.resolve(r),(0,n.default)("Diagnostics. Connect to proxy and make ajax request: ",r);let o=i.default[e+1];if(o)t.end.then(()=>{m[o].resolve()})})}if(i.default.includes("httpsProxyConnection")){let{index:e,deferred:t}=v("httpsProxyConnection");t.start.then(()=>["noProxyExtensions","proxyApi"].map(e=>"error"!==this._states.find(({name:t})=>t===e).state).every(e=>e)?(0,f.default)():{state:"skip"}).then(r=>{if(p!==this._stamp)return;t.end.resolve(r),(0,n.default)("Diagnostics. Connect to proxy and make ajax request: ",r);let o=i.default[e+1];if(o)t.end.then(()=>{m[o].resolve()})})}m[i.default[0]].resolve()};var o=p(e("tools/Deferred")),n=p(e("core/log")),i=p(e("./possibleSteps")),s=p(e("./steps/httpConnection")),a=p(e("./steps/httpsConnection")),u=p(e("./steps/browsecApi")),l=p(e("./steps/proxyApi")),c=p(e("./steps/noProxyExtensions")),d=p(e("./steps/httpProxyConnection")),f=p(e("./steps/httpsProxyConnection"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){m(i,o,n,s,a,"next",e)}function a(e){m(i,o,n,s,a,"throw",e)}s(void 0)}))}}},{"./possibleSteps":33,"./steps/browsecApi":35,"./steps/httpConnection":36,"./steps/httpProxyConnection":37,"./steps/httpsConnection":38,"./steps/httpsProxyConnection":39,"./steps/noProxyExtensions":40,"./steps/proxyApi":41,"core/log":92,"tools/Deferred":251}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("core/availableServer")),n=a(e("../domainsRequest")),i=a(e("core/pac")),s=a(e("core/store"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){u(i,o,n,s,a,"next",e)}function a(e){u(i,o,n,s,a,"throw",e)}s(void 0)}))}}var c=l((function*(){let e=yield o.default.getServer(),t=s.default.getState().pac;yield i.default.setState({mode:"direct",country:t.country,filters:[]});let r=yield(0,n.default)([e+"/servers"]);return yield i.default.setState(t),r}));r.default=c},{"../domainsRequest":29,"core/availableServer":66,"core/pac":101,"core/store":154}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("../domainsRequest")),n=s(e("core/pac")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))}}const l=Object.freeze(["http://example.com","http://www.root-servers.org/"]);var c=u((function*(){let e=i.default.getState().pac;yield n.default.setState({mode:"direct",country:e.country,filters:[]});let t=yield(0,o.default)(l);return yield n.default.setState(e),t}));r.default=c},{"../domainsRequest":29,"core/pac":101,"core/store":154}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("../domainsRequest")),n=s(e("core/pac")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))}}const l=Object.freeze(["http://example.com","http://www.root-servers.org/"]);var c=u((function*(){if("undefined"!=typeof browser)return{state:"skip"};let e=i.default.getState().pac;yield n.default.setState({mode:"proxy",country:"nl",filters:[]});let t=yield(0,o.default)(l);return yield n.default.setState(e),t}));r.default=c},{"../domainsRequest":29,"core/pac":101,"core/store":154}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("../domainsRequest")),n=s(e("core/pac")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))}}const l=Object.freeze(["https://example.com","https://www.iana.org/favicon.ico","https://www.ripe.net/favicon.ico","https://www.mozilla.org/favicon.ico"]);var c=u((function*(){let e=i.default.getState().pac;yield n.default.setState({mode:"direct",country:e.country,filters:[]});let t=yield(0,o.default)(l);return yield n.default.setState(e),t}));r.default=c},{"../domainsRequest":29,"core/pac":101,"core/store":154}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("../domainsRequest")),n=s(e("core/pac")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))}}const l=Object.freeze(["https://example.com","https://www.iana.org/favicon.ico","https://www.ripe.net/favicon.ico","https://www.mozilla.org/favicon.ico"]);var c=u((function*(){if("undefined"!=typeof browser)return{state:"skip"};let e=i.default.getState().pac;yield n.default.setState({mode:"proxy",country:"nl",filters:[]});let t=yield(0,o.default)(l);return yield n.default.setState(e),t}));r.default=c},{"../domainsRequest":29,"core/pac":101,"core/store":154}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("../filterProxyExtensions"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var s=function(){var e,t=(e=function*(e,t){if("undefined"!=typeof browser||t)return{state:"skip"};let r=(0,n.default)(e);return{state:r.length?"warning":"success",extensions:r}},function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();r.default=s},{"../filterProxyExtensions":30}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("../filterProxyExtensions")),n=i(e("core/pac"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var a=function(){var e,t=(e=function*(e){if("undefined"!=typeof browser)return{state:"success"};if(yield n.default.getControlState())return{state:"success"};else return{state:"error",extensions:(0,o.default)(e)}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=a},{"../filterProxyExtensions":30,"core/pac":101}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("config")),n=u(e("./request")),i=u(e("core/Statistics")),s=u(e("core/storage")),a=u(e("core/store"));function u(e){return e&&e.__esModule?e:{default:e}}let l=o.default.ga.firstPremiumBuy,c=new class{constructor(){Object.getOwnPropertyNames(this.constructor.prototype).filter(e=>"constructor"!==e).forEach(e=>{this[e]=this[e].bind(this)})}initiate(){this.called="-"!==s.default.getItem("FirstPremiumBuy")}call(){if(!l||this.called)return;let e=i.default.get("installDate");if(!e)return;let t=Math.floor((Date.now()-e)/864e5);s.default.set("FirstPremiumBuy",String(t)),this.called=!0,(0,n.default)({days:t,gaId:l})}};a.default.ready.then(()=>{if(!s.default.get("FirstPremiumBuy"))s.default.set("FirstPremiumBuy",a.default.getState().user.premium?"before":"-");c.initiate(),a.default.compare(({user:{email:e,premium:t}})=>({email:e,premium:t}),(e,t)=>{if(e.email&&t.email)if(e.premium||!t.premium)c.call()})});var d=c;r.default=d},{"./request":44,config:"config","core/Statistics":47,"core/storage":151,"core/store":154}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("tools/ajax")),n=i(e("tools/generateRfc4122Id"));function i(e){return e&&e.__esModule?e:{default:e}}r.default=({gaId:e,days:t})=>(0,o.default)("https://www.google-analytics.com/collect",{mode:"cors",data:{v:"1",tid:e,cid:(0,n.default)(),t:"event",ec:"Payment",ea:"Payment",el:String(t)}})},{"tools/ajax":253,"tools/generateRfc4122Id":259}],44:[function(e,t,r){"use strict";t.exports="undefined"!=typeof browser?e("./firefox"):e("./chrome")},{"./chrome":43,"./firefox":void 0}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/storage"))&&o.__esModule?o:{default:o};var i=new function(){this.state,this.push=(...e)=>(e.forEach(e=>{this.state.add(e)}),n.default.set("showedOffers",Array.from(this.state)),this.state.size),this.pull=(...e)=>{e.forEach(e=>{this.state.delete(e)}),n.default.set("showedOffers",Array.from(this.state))},this.includes=e=>this.state.has(e),n.default.ready.then(()=>{this.state=new Set(n.default.get("showedOffers")||[])})};r.default=i},{"core/storage":151}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("core/Counters")),n=s(e("core/storage")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}r.default=()=>{let e=n.default.get("statistics")||{daysLive:null,installDate:null,userLogined:Boolean(i.default.getState().user.email)};return e.countryChanges=o.default.get("country changes"),e.iconClicks=o.default.get("icon clicks"),e.locationPageShows=o.default.get("popup: location page shows"),e.proxiedPages=o.default.get("proxied pages"),e.proxyErrors=o.default.get("proxy errors"),e.proxyOn=o.default.get("popup: proxy on"),e.userLoginCount=o.default.get("user login"),e}},{"core/Counters":25,"core/storage":151,"core/store":154}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=d(e("config")),n=d(e("./getInitialState")),i=d(e("./listeners")),s=d(e("core/log")),a=d(e("core/runtime.setUninstallURL")),u=d(e("core/storage")),l=d(e("core/store")),c=d(e("tools/urlModifyParameters"));function d(e){return e&&e.__esModule?e:{default:e}}const f=window._;var p=new class{constructor(){u.default.ready.then(()=>{this.state=(0,n.default)(),this.setUninstallUrl(),l.default.ready.then(()=>{(0,i.default)(this)})})}setUninstallUrl(){let e=f.transform(this.state,(e,t,r)=>{switch(r){case"countryChanges":e.cl=t;break;case"daysLive":if(null===t)break;e.dbu=t;break;case"iconClicks":e.bac=t;break;case"installDate":if(!t)break;e.id=(o=new Date(t)).getUTCFullYear()+String(o.getUTCMonth()+1).padStart(2,"0")+String(o.getUTCDate()).padStart(2,"0")+String(o.getUTCHours()).padStart(2,"0")+String(o.getUTCMinutes()).padStart(2,"0");break;case"language":if(!t)break;e.l=t;break;case"locationPageShows":e.clo=t;break;case"userLoginCount":e.lit=t;break;case"userLogined":e.li=t?"1":"0";break;case"proxiedPages":e.s=t;break;case"proxyErrors":e.pe=t;break;case"proxyOn":e.to=t}var o},{});(0,a.default)((0,c.default)("http://browsec-uninstall.s3-website.eu-central-1.amazonaws.com/",t=>Object.assign(t,e)))}get(e){return this.state[e]}set(e,t){if(this.state[e]=t,"development"===o.default.type)(0,s.default)(`Statistics. Set ${e}. New value: `,t);u.default.setItem("statistics",this.state),this.setUninstallUrl()}increase(e){if("number"==typeof this.state[e]){if(this.state[e]++,"development"===o.default.type)(0,s.default)(`Statistics. Increase ${e}. New value: `,this.state[e]);u.default.setItem("statistics",this.state),this.setUninstallUrl()}}};r.default=p},{"./getInitialState":46,"./listeners":48,config:"config","core/log":92,"core/runtime.setUninstallURL":149,"core/storage":151,"core/store":154,"tools/urlModifyParameters":265}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("core/browser")),n=s(e("core/Counters")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}r.default=e=>{e.set("language",o.default.i18n.getUILanguage().slice(0,2).toLowerCase()),n.default.addListener("country changes",t=>{e.set("countryChanges",t)}),n.default.addListener("icon clicks",t=>{e.set("iconClicks",t)}),n.default.addListener("popup: location page shows",t=>{e.set("locationPageShows",t)}),n.default.addListener("popup: proxy on",t=>{e.set("proxyOn",t)}),n.default.addListener("proxied pages",t=>{e.set("proxiedPages",t)}),n.default.addListener("proxy errors",t=>{e.set("proxyErrors",t)}),n.default.addListener("user login",t=>{e.set("userLoginCount",t)}),i.default.compare(({user:{email:e}})=>Boolean(e),t=>{e.set("userLogined",t)});let t=()=>{let r=e.get("installDate");if(r){let t=Math.floor((Date.now()-r)/864e5);if(t<0)t=0;e.set("daysLive",t)}setTimeout(t,36e5)};setTimeout(t,3e4)}},{"core/Counters":25,"core/browser":71,"core/store":154}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("core/ajaxes")),n=l(e("config")),i=l(e("core/log")),s=l(e("core/pac")),a=l(e("core/storage")),u=l(e("core/store"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))}}const f=window._;let p=({filters:e,premiumUser:t,setProxyState:r})=>{if(e=f.cloneDeep(e),t){if(e.filter(({disabled:e})=>e).length)e.forEach(e=>{e.disabled=!1}),r({filters:e})}else if(e.filter(({disabled:e})=>!e).length>1)e.slice(1).forEach(e=>{e.disabled=!0}),r({filters:e})},m=e=>{if(!["qa","development"].includes(n.default.type))return;let t=JSON.stringify(u.default.getState().pac.filters);if(e)(0,i.default)("371: "+e,t);else(0,i.default)(t)},h=({credentials:e,properties:{favorites:t,filters:r,promotionsBlock:n,timezoneChange:i,webrtcBlock:l}})=>{let c=u.default.getState();if("boolean"!=typeof n)n=a.default.get("promotionsBlock")||!1,o.default.setPromotionsBlock({credentials:e,promotionsBlock:n});let d=c.favorites,p=c.pac.filters,m=c.promotionsBlock,h=c.timezoneChange,g=c.webrtcBlock;if(!f.isEqual(d,t))u.default.dispatch({type:"Favorites",data:t});if(m!==n)u.default.dispatch({type:"Promotions block",data:n});if(h!==i)u.default.dispatch({type:"Timezone change",data:i});if(null!==l&&g!==l)u.default.dispatch({type:"WebRTC blocking",data:l});if(!f.isEqual(p,r))return s.default.setState({filters:r})},g=new class{directUpdate(){return d((function*(){let{credentials:e}=u.default.getState().user;if(!e)return;let{favorites:t,smartSettings:r,promotionsBlock:n,timezoneChange:i,webrtcBlock:s}=yield o.default.getUserProperties(e);if(u.default.getState().user.email)return h({credentials:e,properties:{favorites:t,filters:r,promotionsBlock:n,timezoneChange:i,webrtcBlock:s}})}))()}enable(){var e=this;return d((function*(){e.timeout=null;let t=()=>{if(e._blocked)return void(e.timeout=setTimeout(t,6e5));let{credentials:r}=u.default.getState().user;if(r)return o.default.getUserProperties(r).then(({favorites:t,smartSettings:o,promotionsBlock:n,timezoneChange:i,webrtcBlock:s})=>{if(void 0!==e.timeout&&!e._blocked)if(u.default.getState().user.email)return h({credentials:r,properties:{favorites:t,filters:o,promotionsBlock:n,timezoneChange:i,webrtcBlock:s}})}).finally(()=>{if(void 0!==e.timeout)e.timeout=setTimeout(t,6e5)})};return t()}))()}disable(){if(void 0!==this.timeout){if(null!==this.timeout)clearTimeout(this.timeout);delete this.timeout}}block(){this._blocked=!0}unblock(){this._blocked=!1}};u.default.ready.then(()=>{u.default.compare(({user:{email:e}})=>Boolean(e),function(){var e=d((function*(e){let t=e?g.enable():g.disable();if(!e){if(u.default.dispatch({type:"Favorites",data:[]}),u.default.getState().timezoneChange)u.default.dispatch({type:"Timezone change",data:!1});return void s.default.setState({filters:[]}).finally(()=>{m("User not logined: ")})}try{yield t}catch(e){}let r=u.default.getState();m("User logined, before removing wrong filters: "),p({filters:r.pac.filters,premiumUser:r.user.premium,setProxyState:s.default.setState})}));return function(t){return e.apply(this,arguments)}}()),u.default.compare(({user:{email:e,premium:t}})=>({logined:Boolean(e),premium:t}),(e,t)=>{if(!e.logined||!t.logined)return;let r=f.cloneDeep(u.default.getState().pac.filters);if(e.premium){if((0,i.default)("Premium gain"),!r.find(({disabled:e})=>e))return;return r.forEach(e=>{if(e.disabled)delete e.disabled}),void s.default.setState({filters:r}).finally(()=>{m("Premium gain: ")})}if((0,i.default)("Premium loose"),!(r.length<=1))r.slice(1).forEach(e=>{e.disabled=!0}),s.default.setState({filters:r}).finally(()=>{m("Premium loose: ")})}),d((function*(){let e=u.default.getState(),{user:t}=e;if(t.email){try{yield g.enable()}catch(e){}p({filters:e.pac.filters,premiumUser:t.premium,setProxyState:s.default.setState})}}))()});var v=g;r.default=v},{config:"config","core/ajaxes":57,"core/log":92,"core/pac":101,"core/storage":151,"core/store":154}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("core/ajaxes")),n=u(e("core/DelayRecord")),i=u(e("tools/hideAccountData")),s=u(e("core/log")),a=u(e("core/store"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){l(i,o,n,s,a,"next",e)}function a(e){l(i,o,n,s,a,"throw",e)}s(void 0)}))}}let d=(e="Account load")=>{let t=a.default.getState().user,r=new n.default(e);return o.default.account(t.credentials).finally(()=>{r.end()}).then(e=>{if(a.default.getState().user===t)a.default.dispatch({type:"User data change",data:e});return a.default.getState().user},e=>(s.default.warn("Account load error: ",e),Promise.reject(e)))},f=function(){var e=c((function*(){let e=a.default.getState().user;if("number"==typeof e.validUntil&&e.validUntil>=Date.now())return e;if(!e.guest)(0,s.default)("revalidating invalid account, ",(0,i.default)(e)),(0,s.default)("Account load: current=%o fetched=%o",e.version,(0,i.default)(e));return d("Account load")}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=c((function*(){try{return yield d("Account reload")}catch(e){throw s.default.error("failed to load account",e),a.default.dispatch({type:"User data change",data:{guest:!0,premium:!1}}),e}}));return function(){return e.apply(this,arguments)}}(),m=()=>{d(),setTimeout(m,864e5)};setTimeout(m,864e5);var h={directLoad:()=>{let e=new n.default("Account direct load");return o.default.account(a.default.getState().user.credentials).finally(()=>{e.end()}).then(e=>(a.default.dispatch({type:"User data change",data:e}),a.default.getState().user),e=>(s.default.warn("Account load error: ",e),Promise.reject(e)))},load:f,reload:p};r.default=h},{"core/DelayRecord":27,"core/ajaxes":57,"core/log":92,"core/store":154,"tools/hideAccountData":260}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("tools/QueueRequest")),n=s(e("core/ajaxes/setFavorites")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}let u=new o.default({request:(l=function*(e){let{credentials:t}=i.default.getState().user;if(t)try{return yield(0,n.default)({credentials:t,favorites:e})}catch(e){}},c=function(){var e=this,t=arguments;return new Promise((function(r,o){var n=l.apply(e,t);function i(e){a(n,r,o,i,s,"next",e)}function s(e){a(n,r,o,i,s,"throw",e)}i(void 0)}))},function(e){return c.apply(this,arguments)}),syncAction:e=>{i.default.dispatch({type:"Favorites",data:e})}});var l,c;let d=u.set.bind(u);var f={add:e=>{let t=new Set(i.default.getState().favorites.slice());return t.add(e),d(Array.from(t).sort())},remove:e=>{let t=i.default.getState().favorites.filter(t=>t!==e);return d(t)},set:d};r.default=f},{"core/ajaxes/setFavorites":60,"core/store":154,"tools/QueueRequest":252}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("./favorites")),n=s(e("./login")),i=s(e("./logout"));function s(e){return e&&e.__esModule?e:{default:e}}var a={favorites:o.default,login:n.default,logout:i.default};r.default=a},{"./favorites":51,"./login":53,"./logout":54}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("tools/apiRequest")),n=l(e("core/availableServer")),i=l(e("core/DelayRecord")),s=l(e("core/ga")),a=l(e("core/log")),u=l(e("core/store"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))}}let f=({baseUrl:e,email:t,password:r})=>(0,o.default)(e+"/authentication",{data:{email:t,password:r},dataType:"json"});var p=function(){var e=d((function*({email:e,password:t}){let r=yield n.default.getServer();try{let o=new i.default("Login"),n=yield d((function*(){try{return yield f({baseUrl:r,email:e,password:t})}catch(o){return f({baseUrl:r,email:e,password:t})}}))();return o.end(),u.default.dispatch({type:"User data change",data:n}),n}catch(e){let{message:t,status:r}=e,o={error:401===r?"unauthorized":t,status:r};if(401!==r)n.default.restart();throw(0,a.default)("browsec.authenticate","ERROR",o),(0,s.default)("error","browsec.authenticate",JSON.stringify(o)),e}}));return function(t){return e.apply(this,arguments)}}();r.default=p},{"core/DelayRecord":27,"core/availableServer":66,"core/ga":85,"core/log":92,"core/store":154,"tools/apiRequest":254}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("tools/apiRequest")),n=l(e("core/availableServer")),i=l(e("core/DelayRecord")),s=l(e("core/ga")),a=l(e("core/log")),u=l(e("core/store"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))}}let f=()=>{u.default.dispatch({type:"User data change",data:{guest:!0,premium:!1}})};var p=d((function*(){(0,a.default)("Logout");let{credentials:e}=u.default.getState().user;if(!e)return void f();let t=yield n.default.getServer();try{let r=new i.default("Logout"),n=yield(0,o.default)(t+"/authentication",{method:"DELETE",tokenCredentials:e});return r.end(),f(),n}catch(e){f();let{message:t,status:r}=e,o={error:401===r?"unauthorized":t,status:r};n.default.restart(),a.default.error("Logout error",o),(0,s.default)("error","browsec.deauthenticate",JSON.stringify(o))}}));r.default=p},{"core/DelayRecord":27,"core/availableServer":66,"core/ga":85,"core/log":92,"core/store":154,"tools/apiRequest":254}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("tools/apiRequest")),n=l(e("core/availableServer")),i=l(e("config")),s=l(e("tools/hideAccountData")),a=l(e("core/ga")),u=l(e("core/log"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var d=function(){var e,t=(e=function*(e){if("development"===i.default.type)(0,u.default)("AJAX: /account");let t=yield n.default.getServer();try{let r;try{r=yield(0,o.default)(t+"/account",{method:"GET",dataType:"json",tokenCredentials:e}),r.premium=Boolean(r.premium)}catch(e){throw n.default.restart(),e}return(0,u.default)("ajaxes.account","data",(0,s.default)(r)),r}catch(e){let{message:t}=e;throw(0,a.default)("error","browsec.account",JSON.stringify({status:t,error:e})),e}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=d},{config:"config","core/availableServer":66,"core/ga":85,"core/log":92,"tools/apiRequest":254,"tools/hideAccountData":260}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("tools/apiRequest")),n=a(e("core/availableServer")),i=a(e("config")),s=a(e("core/log"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}const l=window._;var c=function(){var e,t=(e=function*(e){if(!e)throw new Error("ajaxes.getUserProperties called without credentials");if("development"===i.default.type)(0,s.default)("AJAX: get user properties");let t,r=yield n.default.getServer();try{t=yield(0,o.default)(r+"/properties",{dataType:"json",method:"GET",tokenCredentials:e})}catch(e){if(401===e.status)throw new Error("Not authorized user");throw n.default.restart(),e}if(!t||"object"!=typeof t||"boolean"!=typeof t.ok)throw new Error("Get user properties: incorrect ajax format");let{properties:a,ok:u}=t;if(!u)throw new Error("Unathorized user");let c=Object.assign({},a);return l.forEach(c,(e,t)=>{if(null===e)delete c[t]}),c.smartSettings=c.smart_settings,l.defaults(c,{favorites:[],smartSettings:[],timezoneChange:!1,webrtcBlock:null}),delete c.smart_settings,c},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){u(i,o,n,s,a,"next",e)}function a(e){u(i,o,n,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=c},{config:"config","core/availableServer":66,"core/log":92,"tools/apiRequest":254}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=f(e("./account")),n=f(e("./getUserProperties")),i=f(e("./premiumSignup")),s=f(e("./servers")),a=f(e("./setFavorites")),u=f(e("./setPromotionsBlock")),l=f(e("./setSmartSettings")),c=f(e("./setTimezoneChange")),d=f(e("./setWebrtcBlock"));function f(e){return e&&e.__esModule?e:{default:e}}var p={account:o.default,getUserProperties:n.default,premiumSignup:i.default,servers:s.default,setFavorites:a.default,setPromotionsBlock:u.default,setSmartSettings:l.default,setTimezoneChange:c.default,setWebrtcBlock:d.default};r.default=p},{"./account":55,"./getUserProperties":56,"./premiumSignup":58,"./servers":59,"./setFavorites":60,"./setPromotionsBlock":61,"./setSmartSettings":62,"./setTimezoneChange":63,"./setWebrtcBlock":64}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("tools/apiRequest")),n=s(e("core/availableServer")),i=s(e("core/log"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var u=function(){var e,t=(e=function*(e,t){let r=yield n.default.getServer();try{let n=yield(0,o.default)(r+"/en/users.json",{body:JSON.stringify({user:{email:e,create_password_after_activation:!0,trial_premium_token:t}}),dataType:"json",headers:{"Content-Type":"application/json"}});return(0,i.default)("Response status: %d",n.status),(0,i.default)(n),n}catch(e){let{status:t,message:r}=e;throw(0,i.default)(t+": "+r),e}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();r.default=u},{"core/availableServer":66,"core/log":92,"tools/apiRequest":254}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("tools/apiRequest")),n=u(e("core/availableServer")),i=u(e("core/DelayRecord")),s=u(e("core/ga")),a=u(e("core/log"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){l(i,o,n,s,a,"next",e)}function a(e){l(i,o,n,s,a,"throw",e)}s(void 0)}))}}var d=c((function*(){let e=yield n.default.getServer(),t=new i.default("Server list");try{let r=yield(0,o.default)(e+"/servers",{dataType:"json",method:"GET"});return t.end(),r}catch(e){let{message:t,status:r}=e,o={status:r,error:t};throw n.default.restart(),a.default.error("ajaxes.servers",o),(0,s.default)("error","browsec.servers",JSON.stringify(o)),e}}));r.default=d},{"core/DelayRecord":27,"core/availableServer":66,"core/ga":85,"core/log":92,"tools/apiRequest":254}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("tools/apiRequest")),n=i(e("core/availableServer"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var a=function(){var e,t=(e=function*({credentials:e,favorites:t}){let r=yield n.default.getServer();try{return yield(0,o.default)(r+"/properties/favorites",{body:JSON.stringify({data:t}),dataType:"json",headers:{"Content-Type":"application/json"},method:"PUT",tokenCredentials:e})}catch(e){throw n.default.restart(),e}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=a},{"core/availableServer":66,"tools/apiRequest":254}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("tools/apiRequest")),n=i(e("core/availableServer"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var a=function(){var e,t=(e=function*({credentials:e,promotionsBlock:t}){let r=yield n.default.getServer();try{return yield(0,o.default)(r+"/properties/promotionsBlock",{body:JSON.stringify({data:t}),dataType:"json",headers:{"Content-Type":"application/json"},method:"PUT",tokenCredentials:e})}catch(e){throw n.default.restart(),e}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=a},{"core/availableServer":66,"tools/apiRequest":254}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("tools/apiRequest")),n=s(e("core/availableServer")),i=s(e("core/DelayRecord"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var u=function(){var e,t=(e=function*({credentials:e,filters:t}){let r=yield n.default.getServer(),s=new i.default("Set smart settings");try{let n=yield(0,o.default)(r+"/properties/smart_settings",{body:JSON.stringify({data:t}),dataType:"json",headers:{"Content-Type":"application/json"},method:"PUT",tokenCredentials:e});return s.end(),n}catch(e){throw n.default.restart(),e}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=u},{"core/DelayRecord":27,"core/availableServer":66,"tools/apiRequest":254}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("tools/apiRequest")),n=i(e("core/availableServer"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var a=function(){var e,t=(e=function*({credentials:e,timezoneChange:t}){let r=yield n.default.getServer();try{return yield(0,o.default)(r+"/properties/timezoneChange",{body:JSON.stringify({data:t}),dataType:"json",headers:{"Content-Type":"application/json"},method:"PUT",tokenCredentials:e})}catch(e){throw n.default.restart(),e}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=a},{"core/availableServer":66,"tools/apiRequest":254}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("tools/apiRequest")),n=i(e("core/availableServer"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var a=function(){var e,t=(e=function*({credentials:e,webrtcBlock:t}){let r=yield n.default.getServer();try{return yield(0,o.default)(r+"/properties/webrtcBlock",{body:JSON.stringify({data:t}),dataType:"json",headers:{"Content-Type":"application/json"},method:"PUT",tokenCredentials:e})}catch(e){throw n.default.restart(),e}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=a},{"core/availableServer":66,"tools/apiRequest":254}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("./timeout"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))}}r.default=e=>new Promise(t=>{let r=[];e.forEach(function(){var e=s((function*(e,t){yield e,r.push(t)}));return function(t,r){return e.apply(this,arguments)}}()),s((function*(){try{yield new Promise((t,r)=>{e[0].then(t),setTimeout(()=>{r(new Error("Too big timeout for first request"))},n.default)}),t(0)}catch(e){}}))(),s((function*(){if(yield new Promise(e=>{setTimeout(e,n.default)}),!r.length)return;let e=Math.min.apply(null,r);t(e)}))(),s((function*(){yield new Promise(e=>{setTimeout(e,n.default)}),e.forEach(function(){var e=s((function*(e,r){yield e,t(r)}));return function(t,r){return e.apply(this,arguments)}}())}))(),s((function*(){try{yield Promise.all(e.map(e=>e.then(()=>{throw new Error("Some error")},()=>{}))),t(0)}catch(e){}}))()})},{"./timeout":69}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("./algorithm")),n=l(e("tools/ajax")),i=l(e("config")),s=l(e("core/log")),a=l(e("./servers")),u=l(e("core/timemarks"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))}}var f=new function(){let e,t,r=!1,l=function(){var c=d((function*(){if("development"===i.default.type)(0,s.default)("AJAX: /test");r=!0,yield a.default.ready;let c=a.default.map(function(){var e=d((function*(e){let t=yield(0,n.default)(e+"/test",{dataType:"json",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},method:"GET"});if(!t||!0!==t.ok)throw new Error("Server test request: incorrect request return")}));return function(t){return e.apply(this,arguments)}}());return t=(0,o.default)(c).then(t=>(e=a.default[t],a.default[t])),t.then(()=>{u.default.set("available server"),r=!1,setTimeout(l,864e5)}),t}));return function(){return c.apply(this,arguments)}}();this.initialRequestComplete=d((function*(){let{startImmediately:e,actionPromise:t}=yield u.default.start({action:l,delay:864e5,name:"available server"});if(e)yield t}))(),this.initialRequestComplete,this.getServer=d((function*(){return yield a.default.ready,e||a.default[0]})),this.restart=()=>{if(r)return t;else return l()}};r.default=f},{"./algorithm":65,"./servers":68,config:"config","core/log":92,"core/timemarks":155,"tools/ajax":253}],67:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("tools/ajax")),n=s(e("config")),i=s(e("core/DelayRecord"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))}}var l=u((function*(){let e=new i.default("Available server. Request servers list"),t=yield(0,o.default)(`https://brwsc.github.io/api_urls/${n.default.type}.json`,{dataType:"json",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},method:"GET"});return e.end(),t.map(e=>e+"v1")}));r.default=l},{config:"config","core/DelayRecord":27,"tools/ajax":253}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("config")),n=a(e("tools/Deferred")),i=a(e("./requestServersList")),s=a(e("core/storage"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){u(i,o,n,s,a,"next",e)}function a(e){u(i,o,n,s,a,"throw",e)}s(void 0)}))}}const c=window._;let d=[];d.ready=(0,n.default)(),s.default.ready.then(l((function*(){d.push.apply(d,s.default.getItem("availableServerList")||c.cloneDeep(o.default.apiServerUrls)),d.ready.resolve();let e=function(){var t=l((function*(){setTimeout(e,864e5);let t=yield(0,i.default)();d.splice.apply(d,[0,d.length].concat(t)),s.default.setItem("availableServerList",t)}));return function(){return t.apply(this,arguments)}}();e()})));var f=d;r.default=f},{"./requestServersList":67,config:"config","core/storage":151,"tools/Deferred":251}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=5e3},{}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("core/store")),n=i(e("tools/urlModifyParameters"));function i(e){return e&&e.__esModule?e:{default:e}}r.default=(e,t=(e=>e))=>(0,n.default)(e,e=>Object.assign(t(e),{instd:o.default.getState().daysAfterInstall}))},{"core/store":154,"tools/urlModifyParameters":265}],71:[function(e,t,r){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=((o=e("crossbrowser-webextension"))&&o.__esModule?o:{default:o}).default;r.default=n},{"crossbrowser-webextension":"crossbrowser-webextension"}],72:[function(e,t,r){"use strict";var o=u(e("core/browser")),n=u(e("config")),i=u(e("core/pac/domainDependencies")),s=u(e("./setIcon")),a=u(e("core/store"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}const c=window._,d=n.default.proxy.defaultCountry||"nl";let f=new class{constructor(){this.state={broken:!1,country:null,notification:!1}}setState({broken:e,countries:t,country:r,domain:n,filters:a,mode:u,userHasUnviewedBanners:l}){a=a.filter(({disabled:e})=>!e);let f=(()=>{if(e)return null;if("direct"===u)r=null;if(!n)return r;let o=a.find(e=>n.endsWith("."+e.domain)||n===e.domain);if(!o)(()=>{let e=i.default.find(({dependencies:e})=>e.some(e=>n.endsWith("."+e)||n===e));if(!e)return;let{domains:t}=e;o=a.find(({domain:e})=>t.some(t=>t.endsWith("."+e)||t===e))})();if(o){if(!o.proxyMode)return null;let{country:e}=o;return t.includes(e)?e:d}return r})();if(c.isEqual(this.state,{broken:e,country:f,notification:l}))return;let p=e&&("proxy"===u||a.some(({proxyMode:e})=>e)),m=(()=>{if(p)return"error";if(f)return l?"enabled notification":"enabled";else return l?"disabled notification":"disabled"})();if((0,s.default)(m),f)o.default.browserAction.setBadgeText(f.toUpperCase());else o.default.browserAction.removeBadgeText();this.state={broken:e,country:f,notification:l}}},p=e=>{let{domain:t,pac:{broken:r,country:o,filters:n,mode:i},promotions:s,servers:a,user:{premium:u},viewedPersonalBanners:l}=e;return{broken:r,country:o,domain:t,filters:n,mode:i,premiumUser:u,promotions:s,servers:a,viewedPersonalBanners:l}},m=({broken:e,country:t,domain:r,filters:o,mode:n,premiumUser:i,promotions:s,servers:u,viewedPersonalBanners:l})=>{let d=c.transform(u,(e,t,r)=>{if(t[i?"premium_servers":"servers"])e.push(r)},[]),p=Date.now(),m=a.default.getState().promotions.filter(({from:e,kind:t,till:r})=>e<=p&&p<=r&&"personal"===t).some(({id:e})=>!l.includes(e));f.setState({broken:e,countries:d,country:t,domain:r,filters:o,mode:n,userHasUnviewedBanners:m})};var h;o.default.browserAction.setBadgeBackgroundColor("#1c304e"),(h=function*(){yield a.default.ready,m(p(a.default.getState())),a.default.compare(p,m)},function(){var e=this,t=arguments;return new Promise((function(r,o){var n=h.apply(e,t);function i(e){l(n,r,o,i,s,"next",e)}function s(e){l(n,r,o,i,s,"throw",e)}i(void 0)}))})()},{"./setIcon":73,config:"config","core/browser":71,"core/pac/domainDependencies":98,"core/store":154}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/browser"))&&o.__esModule?o:{default:o};const i=(()=>{if("undefined"!=typeof browser)return!1;else return"string"==typeof document.body.style.webkitBackgroundComposite})();let s=e=>{if(i)return{path:{19:"images/icons/19x19"+e,38:"images/icons/38x38"+e}};else return{path:{16:"images/icons/16x16"+e,19:"images/icons/19x19"+e,24:"images/icons/24x24"+e,32:"images/icons/32x32"+e,38:"images/icons/38x38"+e}}};r.default=e=>{switch(e){case"disabled":return void n.default.browserAction.setIcon(s("/disabled.png"));case"disabled notification":return void n.default.browserAction.setIcon(s("/disabled_notification.png"));case"enabled":return void n.default.browserAction.setIcon(s("/enabled.png"));case"enabled notification":return void n.default.browserAction.setIcon(s("/enabled_notification.png"));case"error":return void n.default.browserAction.setIcon(s("/error.png"));default:throw new Error(`Incorrect type ${e} in setIcon`)}}},{"core/browser":71}],74:[function(e,t,r){"use strict";var o=a(e("core/chromeVersion")),n=a(e("tools/Deferred")),i=a(e("tools/onAuthRequiredHideRequest")),s=a(e("core/store"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){u(i,o,n,s,a,"next",e)}function a(e){u(i,o,n,s,a,"throw",e)}s(void 0)}))}}const c=e=>{if(!e.length)return Promise.resolve();let t=e.map(e=>{let t=(0,n.default)();return t.then(()=>{(0,i.default)(e)}),t});return t.slice(1).forEach(function(){var e=l((function*(e,r){yield t[r],yield new Promise(e=>{setTimeout(e,250)}),e.resolve()}));return function(t,r){return e.apply(this,arguments)}}()),t[0].resolve(),t[t.length-1]},d=()=>{let e=s.default.getState();if(!e.user.premium)return;let t=Array.from(new Set(e.pac.filters.filter(({proxyMode:e})=>e).map(({country:e})=>e)));c(t)};l((function*(){if("undefined"==typeof browser){{let e=0,t=2,r=()=>{if(e++,!(e>t))(0,i.default)(),setTimeout(r,333)};r()}if(o.default&&!(o.default<77)){yield s.default.ready,d();{let e=()=>{d(),setTimeout(e,36e5)};setTimeout(e,36e5)}l((function*(){yield s.default.ready,s.default.compare(({pac:e})=>e.filters,(e,t)=>{if(s.default.getState().user.premium)if(e.length&&!t.length)d()})}))()}}}))()},{"core/chromeVersion":75,"core/store":154,"tools/Deferred":251,"tools/onAuthRequiredHideRequest":263}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(()=>{if("undefined"!=typeof browser)return;let e=navigator.userAgent.match(/Chrome\/([0-9]+)/);if(e)return Number(e[1])})();r.default=o},{}],76:[function(e,t,r){"use strict";var o=i(e("core/browser")),n=i(e("tools/urlToDomain"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}const a=Object.freeze(["bbc.co.uk","bbc.com","channel4.com","chaturbate.com","dailymotion.com","eporner.com","hdrezka.ag","hentaihaven.org","hitomi.la","hotstar.com","itv.com","myfreecams.com","netflix.com","nhentai.net","pandora.com","pornreactor.cc","rezka.ag","seasonvar.ru","spankbang.com","spotify.com","twitch.tv","vimeo.com","xhamster.com","xnxx.com","xvideos.com","youtube.com"]);let u=new Set,l=(e,t)=>(u.add(e),o.default.tabs.executeScript(e,{file:t})),c=e=>{let t=(0,n.default)(e);if(!t)return!1;else return a.includes(t)||a.some(e=>t.endsWith("."+e))};var d;o.default.tabs.onUpdated.addListener((e,{status:t},{url:r})=>{if("complete"===t&&c(r))if(!u.has(e))l(e,"/notification.js")}),(d=function*(){let e=yield o.default.tabs.query();e=e.filter(({url:e})=>c(e));let[t]=e.reduce((e,t)=>{if("complete"===t.status)e[0].push(t);else e[1].push(t);return e},[[],[]]);t.forEach(e=>{l(e.id,"/notification.js")})},function(){var e=this,t=arguments;return new Promise((function(r,o){var n=d.apply(e,t);function i(e){s(n,r,o,i,a,"next",e)}function a(e){s(n,r,o,i,a,"throw",e)}i(void 0)}))})()},{"core/browser":71,"tools/urlToDomain":266}],77:[function(e,t,r){"use strict";var o=i(e("core/storage")),n=i(e("core/store"));function i(e){return e&&e.__esModule?e:{default:e}}n.default.ready.then(()=>{if(!o.default.getItem("daysAfterInstall"))o.default.setItem("daysAfterInstall",Date.now());let e=o.default.getItem("daysAfterInstall"),t=()=>{let r=Math.floor((Date.now()-e)/864e5);if(r!==n.default.getState().daysAfterInstall)n.default.dispatch({type:"Days after install update",days:r});setTimeout(t,36e5)};setTimeout(t,36e5)})},{"core/storage":151,"core/store":154}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=[{currency:"USD",value:71.99,duration:24}]},{}],79:[function(e,t,r){t.exports=["ac","ad","ae","aero","af","ag","ai","al","am","ao","aq","ar","arpa","as","asia","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","biz","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cat","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","com","coop","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","edu","ee","eg","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gov","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","info","int","io","iq","ir","is","it","je","jm","jo","jobs","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mil","mk","ml","mm","mn","mo","mobi","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","name","nc","ne","net","nf","ng","ni","nl","no","np","nr","nu","nz","om","onion","org","pa","pe","pf","pg","ph","pk","pl","pm","pn","post","pr","pro","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sx","sy","sz","tc","td","tel","tf","tg","th","tj","tk","tl","tm","tn","to","tr","travel","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","yt","xn--mgbaam7a8h","xn--y9a3aq","xn--54b7fta0cc","xn--90ae","xn--90ais","xn--fiqs8s","xn--fiqz9s","xn--lgbbat1ad8j","xn--wgbh1c","xn--e1a4c","xn--node","xn--qxam","xn--j6w193g","xn--2scrj9c","xn--3hcrj9c","xn--45br5cyl","xn--h2breg3eve","xn--h2brj9c8c","xn--mgbgu82a","xn--rvc1e0am3e","xn--h2brj9c","xn--mgbbh1a71e","xn--fpcrj9c3d","xn--gecrj9c","xn--s9brj9c","xn--45brj9c","xn--xkc2dl3a5ee0h","xn--mgba3a4f16a","xn--mgba3a4fra","xn--mgbtx2b","xn--mgbayh7gpa","xn--3e0b707e","xn--80ao21a","xn--fzc2c9e2c","xn--xkc2al3hye2a","xn--mgbc0a9azcg","xn--d1alf","xn--l1acc","xn--mix891f","xn--mix082f","xn--mgbx4cd0ab","xn--mgb9awbf","xn--mgbai9azgqp6j","xn--mgbai9a5eva00b","xn--ygbi2ammx","xn--90a3ac","xn--p1ai","xn--wgbl6a","xn--mgberp4a5d4ar","xn--mgberp4a5d4a87g","xn--mgbqly7c0a67fbc","xn--mgbqly7cvafr","xn--mgbpl2fh","xn--yfro4i67o","xn--clchc0ea0b2g2a9gcd","xn--ogbpf8fl","xn--mgbtf8fl","xn--o3cw4h","xn--pgbs0dh","xn--kpry57d","xn--kprw13d","xn--nnx388a","xn--j1amh","xn--mgb2ddes","xxx","ye","za","zm","zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","active","actor","adac","ads","adult","aeg","aetna","afamilycompany","afl","africa","agakhan","agency","aig","aigo","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bms","bmw","bnl","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","boots","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","budapest","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","catering","catholic","cba","cbn","cbre","cbs","ceb","center","ceo","cern","cfa","cfd","chanel","channel","chase","chat","cheap","chintai","chloe","christmas","chrome","chrysler","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","ericsson","erni","esq","estate","esurance","etisalat","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glade","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","htc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","industries","infiniti","ing","ink","institute","insurance","insure","intel","international","intuit","investments","ipiranga","irish","iselect","ismaili","ist","istanbul","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","jeep","jetzt","jewelry","jio","jlc","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","lupin","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mcd","mcdonalds","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","meo","merckmsd","metlife","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","mobily","moda","moe","moi","mom","monash","money","monster","montblanc","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","msd","mtn","mtpc","mtr","mutual","nab","nadex","nagoya","nationwide","natura","navy","nba","nec","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","pamperedchef","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","qvc","racing","radio","raid","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","spot","spreadbetting","srl","srt","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiftcover","swiss","sydney","symantec","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","telecity","telefonica","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","uconnect","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xn--11b4c3d","xn--1ck2e1b","xn--1qqw23a","xn--30rr7y","xn--3bst00m","xn--3ds443g","xn--3oq18vl8pn36a","xn--3pxu8k","xn--42c2d9a","xn--45q11c","xn--4gbrim","xn--55qw42g","xn--55qx5d","xn--5su34j936bgsg","xn--5tzm5g","xn--6frz82g","xn--6qq986b3xl","xn--80adxhks","xn--80aqecdr1a","xn--80asehdb","xn--80aswg","xn--8y0a063a","xn--9dbq2a","xn--9et52u","xn--9krt00a","xn--b4w605ferd","xn--bck1b9a5dre4c","xn--c1avg","xn--c2br7g","xn--cck2b3b","xn--cg4bki","xn--czr694b","xn--czrs0t","xn--czru2d","xn--d1acj3b","xn--eckvdtc9d","xn--efvy88h","xn--estv75g","xn--fct429k","xn--fhbei","xn--fiq228c5hs","xn--fiq64b","xn--fjq720a","xn--flw351e","xn--fzys8d69uvgm","xn--g2xx48c","xn--gckr3f0f","xn--gk3at1e","xn--hxt814e","xn--i1b6b1a6a2e","xn--imr513n","xn--io0a7i","xn--j1aef","xn--jlq61u9w7b","xn--jvr189m","xn--kcrx77d1x4a","xn--kpu716f","xn--kput3i","xn--mgba3a3ejt","xn--mgba7c0bbn0a","xn--mgbaakc7dvf","xn--mgbab2bd","xn--mgbb9fbpob","xn--mgbca7dzdo","xn--mgbi4ecexp","xn--mgbt3dhd","xn--mk1bu44c","xn--mxtq1m","xn--ngbc5azd","xn--ngbe9e0a","xn--ngbrx","xn--nqv7f","xn--nqv7fs00ema","xn--nyqy26a","xn--p1acf","xn--pbt977c","xn--pssy2u","xn--q9jyb4c","xn--qcka1pmc","xn--rhqv96g","xn--rovu88b","xn--ses554g","xn--t60b56a","xn--tckwe","xn--tiq49xqyj","xn--unup4y","xn--vermgensberater-ctb","xn--vermgensberatung-pwb","xn--vhquv","xn--vuq861b","xn--w4r85el8fhu5dnra","xn--w4rs40l","xn--xhq521b","xn--zfr164b","xperia","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zippo","zone","zuerich"]},{}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("tools/ajax")),n=a(e("core/DelayRecord")),i=a(e("./domainZoneList.json")),s=a(e("punycode"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}let l={data:i.default},c=function(){var e,t=(e=function*(){setTimeout(c,864e5);let e=new n.default("Domain zone list"),t=yield(0,o.default)("https://publicsuffix.org/list/public_suffix_list.dat",{method:"GET"});e.end();let r=t.replace(/\r/g,"").split(/\n/g).reduce((e,t)=>{if(!(t=t.trim())||/\/\//.test(t))return e;else return e.push(t.split(".").pop()),e},[]);l.data=Array.from(new Set(r)).map(e=>/[^a-z0-9_\-]/.test(e)?s.default.toASCII(e):e)},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){u(i,o,n,s,a,"next",e)}function a(e){u(i,o,n,s,a,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();c();var d=l;r.default=d},{"./domainZoneList.json":79,"core/DelayRecord":27,punycode:13,"tools/ajax":253}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/log"))&&o.__esModule?o:{default:o};r.default=e=>(...t)=>{let r,o,i,s,a;if(1===t.length&&"object"==typeof t[0])({category:r,action:o,label:i,value:s,noninteraction:a}=t[0]);else[r,o,i,s,a]=t;(0,n.default)("GA",`[${e}]`,{category:r,action:o,label:i,value:s,noninteraction:a})}},{"core/log":92}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=d(e("core/browser")),n=d(e("./createDisabledFunction")),i=d(e("tools/generateRfc4122Id")),s=d(e("./listeners")),a=d(e("core/log")),u=d(e("config")),l=d(e("./request")),c=d(e("core/storage"));function d(e){return e&&e.__esModule?e:{default:e}}let f,p,m=u.default.ga,h=[],g=!1;c.default.ready.then(()=>{if(f=(()=>{let e=c.default.get("useGa");if("boolean"==typeof e)return e;let t=m.chance||.01,r=Math.random()<t;return c.default.set("useGa",r),r})(),f)p=(()=>{let e=c.default.get("gaUserId");if(e)return e;else return e=(0,i.default)(),c.default.set("gaUserId",e),e})(),(0,l.default)(p,{type:"pageview"});h.forEach(e=>{v(e)}),h=[],g=!0});let v=({category:e,action:t,label:r,value:o,noninteraction:i})=>{if(f){if((0,a.default)("GA","[TRACK]",{category:e,action:t,label:r,value:o,noninteraction:i}),p)(0,l.default)(p,{type:"event",action:t,category:e,label:r,noninteraction:i,value:o})}else(0,n.default)("FILTERED")({category:e,action:t,label:r,value:o,noninteraction:i})},y=(()=>{if(!(m.enabled&&(!m.extension_id||Array.isArray(m.extension_id)&&m.extension_id.includes(o.default.i18n.getMessage("@@extension_id")))))return(0,n.default)("DISABLED");else return(...e)=>{let t,r,o,n,i;if(1===e.length&&"object"==typeof e[0])({category:t,action:r,label:o,value:n,noninteraction:i}=e[0]);else[t,r,o,n,i]=e;if(g)v({category:t,action:r,label:o,value:n,noninteraction:i});else h.push({category:t,action:r,label:o,value:n,noninteraction:i})}})();(0,s.default)(y);var b=y;r.default=b},{"./createDisabledFunction":81,"./listeners":83,"./request":84,config:"config","core/browser":71,"core/log":92,"core/storage":151,"tools/generateRfc4122Id":259}],83:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/Counters"))&&o.__esModule?o:{default:o};r.default=e=>{n.default.addListener("popup: menu: smart settings click",()=>{e({category:"Smart Settings",action:"Menu click"})}),n.default.addListener("popup: smart settings: open help",()=>{e({category:"Smart Settings",action:"Open help"})}),n.default.addListener("popup: smart settings: open list",()=>{e({category:"Smart Settings",action:"Open edit page"})}),n.default.addListener("popup: smart settings: add rule",()=>{e({category:"Smart Settings",action:"Add rule"})})}},{"core/Counters":25}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("tools/ajax")),n=i(e("config"));function i(e){return e&&e.__esModule?e:{default:e}}r.default=(e,t)=>{let{type:r,action:i,category:s,label:a,noninteraction:u,value:l}=t,c={v:"1",tid:n.default.ga.tracking_id,cid:e,t:r};if("event"===r){if(i)c.ea=i;if(s)c.ec=s;if(a)c.el=a;if(l)c.ev=l}if(u)c.ni="1";return(0,o.default)("https://www.google-analytics.com/collect",{mode:"cors",data:c})}},{config:"config","tools/ajax":253}],85:[function(e,t,r){arguments[4][44][0].apply(r,arguments)},{"./chrome":82,"./firefox":void 0,dup:44}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("config")),n=u(e("./methods/add")),i=u(e("./methods/clear")),s=u(e("./methods/fillWithCrap")),a=u(e("./methods/getAll"));function u(e){return e&&e.__esModule?e:{default:e}}let l={add:n.default,clear:i.default,getAll:a.default};if("production"!==o.default.type)l.fillWithCrap=s.default;var c=l;r.default=c},{"./methods/add":88,"./methods/clear":89,"./methods/fillWithCrap":90,"./methods/getAll":91,config:"config"}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=1e3},{}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("../limit")),n=s(e("./getAll")),i=s(e("core/storage"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var u=function(){var e,t=(e=function*(e){if(!e.type)e.type="log";yield i.default.ready;let t=yield(0,n.default)();t.push(e),t=t.slice(-o.default),i.default.set("log",t)},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=u},{"../limit":87,"./getAll":91,"core/storage":151}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/storage"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))}}var a=s((function*(){yield n.default.ready,n.default.set("log",[])}));r.default=a},{"core/storage":151}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("./getAll")),n=s(e("../limit")),i=s(e("core/storage"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))}}let l=()=>Array(6).fill(0).reduce(e=>e+Math.random().toString(36).substr(2,5),"");var c=u((function*(){let e=yield(0,o.default)(),t=n.default-e.length;if(t<=0)return;let r=Array(t).fill(0).map(()=>({record:l(),timestamp:Date.now(),type:"log"}));e.push.apply(e,r),i.default.set("log",e)}));r.default=c},{"../limit":87,"./getAll":91,"core/storage":151}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/storage"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))}}var a=s((function*(){return yield n.default.ready,n.default.get("log")||[]}));r.default=a},{"core/storage":151}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("config")),n=i(e("./db"));function i(e){return e&&e.__esModule?e:{default:e}}let s=({type:e,data:t})=>{let r=(e=>e.map(e=>{if(e&&"object"==typeof e)return JSON.stringify(e);else return"string"==typeof e?e:String(e)}).join(", "))(t),i=new Date,s=(()=>{let e=new Date,[t,r,o,n]=[e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()].map(e=>String(e).padStart(2,"0"));return`[${t}, ${r}:${o}:${n}]`})();if(t.unshift(s),n.default.add({timestamp:i.getTime(),type:e,record:r}),"production"===o.default.type)console[e](s+", "+r);else console[e].apply(console,t)},a=(...e)=>{s({type:"log",data:e})};a.warn=(...e)=>{s({type:"warn",data:e})},a.error=(...e)=>{s({type:"error",data:e})};var u=a;r.default=u},{"./db":86,config:"config"}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("./domainDependencies")),n=i(e("tools/filtersSorting"));function i(e){return e&&e.__esModule?e:{default:e}}const s=window._;r.default=({countries:e,defaultCountry:t,filters:r,servers:i})=>{let a=(r=r.filter(({disabled:e})=>!e)).map(({country:r,domain:o,proxyMode:n})=>({domain:o,value:n?e[r]||e[t]:"DIRECT"}));return a=a.reduce((e,{domain:t,value:r})=>(e.push({domain:t,value:r}),o.default.forEach(({domains:o,dependencies:n})=>{if(o.includes(t))n.forEach(t=>{e.push({domain:t,value:r})})}),e),[]),a=s.uniqBy(a,({domain:e})=>e),a.sort(n.default),a}},{"./domainDependencies":98,"tools/filtersSorting":257}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("../adaptFiltersForPac")),n=s(e("../getServerString")),i=s(e("../globalIgnoredDomains"));function s(e){return e&&e.__esModule?e:{default:e}}let a="/*global dnsDomainIs, isPlainHostName, isInNet, isInNetEx, __IgnoreDomains__, __SiteFilters__, __GlobalReturn__, __Countries__*/\n/** This file must be ES5 based, until minimum version of chrome that's\nsupport ES6.\nNOTE Never use dnsResolve!*/\nfunction FindProxyForURL( url, host ) { // eslint-disable-line\n  /** @type {string} */\n  var domain = host.split( ':' )[ 0 ]; // By docs it could contain port, in FF does not contain port\n\n  var domainIs = function( host, domain ) {\n    return host === domain || dnsDomainIs( host, '.' + domain );\n  };\n\n  /**\n  @typedef {Object} SiteFilter\n  @property {String} domain\n  @property {String} value - 'DIRECT' or 'HTTPS' + servers\n\n  @type {Array<SiteFilter>} */\n  var siteFilters = __SiteFilters__;\n\n  /** @type {array} */\n  var bypass = __IgnoreDomains__;\n\n  host = host.toLowerCase();\n\n  if( url.startsWith( 'http:/' + '/connectivitycheck.android.com/generate_204?' ) ) {\n    let countries = __Countries__;\n    let country = url.split( '?' ).pop();\n    if( countries[ country ] ) return countries[ country ];\n  }\n\n  var condition = ( () => {\n    var condition1 = isPlainHostName( host );\n\n    var hostIP =\n      /^[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}$/.test( host )\n        ? host\n        : null;\n\n    // Don't proxy non-routable addresses (RFC 3330)\n    var condition2 = hostIP && (\n      isInNet( hostIP, '0.0.0.0', '255.0.0.0' ) ||\n      isInNet( hostIP, '10.0.0.0', '255.0.0.0' ) ||\n      isInNet( hostIP, '127.0.0.0', '255.0.0.0' ) ||\n      isInNet( hostIP, '169.254.0.0', '255.255.0.0' ) ||\n      isInNet( hostIP, '172.16.0.0', '255.240.0.0' ) ||\n      isInNet( hostIP, '192.0.2.0', '255.255.255.0' ) ||\n      isInNet( hostIP, '192.88.99.0', '255.255.255.0' ) ||\n      isInNet( hostIP, '192.168.0.0', '255.255.0.0' ) ||\n      isInNet( hostIP, '198.18.0.0', '255.254.0.0' ) ||\n      isInNet( hostIP, '224.0.0.0', '240.0.0.0' ) ||\n      isInNet( hostIP, '240.0.0.0', '240.0.0.0' )\n    );\n\n    var condition3 = typeof isInNetEx === 'undefined'\n      ? false\n      : isInNetEx( host, 'fc00::/7' ) || isInNetEx( host, 'fe80::/10' );\n\n    return condition1 || condition2 || condition3;\n  })();\n  if( condition ) return 'DIRECT';\n\n  if( bypass.some( item => domainIs( host, item ) ) ) return 'DIRECT';\n  \n  // Site filters looping\n  let siteFilter = siteFilters.find( item => domainIs( domain, item.domain ) );\n  if( siteFilter ) return siteFilter.value;\n\n  return __GlobalReturn__;\n}\n";a=a.replace(/\/\/.*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").replace(/\r/g,"").replace(/\n/g," ").replace(/\s{2,}/g," ").trim();r.default=({countryServers:e,defaultCountry:t,filters:r,mode:s,premiumUser:u,rawPings:l,servers:c})=>{let d=(()=>{if("proxy"!==s||!e)return"DIRECT";else return(0,n.default)(e,l)})(),f=Object.keys(c).reduce((e,t)=>Object.assign(e,{[t]:(0,n.default)(c[t],l)}),{}),p=Object.keys(c).reduce((e,t)=>{let r=c[t];return e.concat(r.map(({host:e})=>e))},[]),m=Array.from(new Set(p.map(e=>e.split(".").slice(-2).join(".")))).concat(i.default),h=(0,o.default)({countries:f,defaultCountry:t,filters:r,servers:c});return a.replace(/__Countries__/g,JSON.stringify(u?f:{})).replace(/__IgnoreDomains__/g,JSON.stringify(m)).replace(/__GlobalReturn__/g,`'${d}'`).replace(/__SiteFilters__/g,JSON.stringify(h))}},{"../adaptFiltersForPac":93,"../getServerString":99,"../globalIgnoredDomains":100}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=c(e("./onAuthRequiredBugSolver")),n=c(e("core/browser")),i=c(e("./buildPacScript")),s=c(e("core/ga")),a=c(e("core/log")),u=c(e("core/storage")),l=c(e("core/store"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){d(i,o,n,s,a,"next",e)}function a(e){d(i,o,n,s,a,"throw",e)}s(void 0)}))}}const p=window._,m=Object.freeze(["controllable_by_this_extension","controlled_by_this_extension"]);let h=function(){var e=f((function*(){let{levelOfControl:e}=yield n.default.proxy.settings.get({incognito:!1});return{state:m.includes(e),level:e}}));return function(){return e.apply(this,arguments)}}();r.default=e=>{let t=({levelOfControl:e})=>{if(m.includes(e))return;let t=p.cloneDeep(l.default.getState().pac);t.broken=!0,l.default.dispatch({type:"PAC update",data:t})};var r,c,d;return n.default.proxy.settings.onChange.addListener(t),n.default.proxy.settings.get({incognito:!1}).then(t),{getConnectionState:(d=f((function*(){if(n.default.proxy)return n.default.proxy.settings.get({incognito:!1})})),function(){return d.apply(this,arguments)}),getControlState:(c=f((function*(){let{levelOfControl:e}=yield n.default.proxy.settings.get({incognito:!1});return m.includes(e)})),function(){return c.apply(this,arguments)}),setSingleProxy:e=>{n.default.proxy.settings.set({scope:"regular",value:{mode:"pac_script",pacScript:{data:"function FindProxyForURL(url, host) { return 'HTTPS "+e+"';}"}}})},setState:(r=f((function*(t,r){let c=l.default.getState(),d=p.cloneDeep(c.pac),f=c.user.premium,{broken:m,country:g,filters:v,mode:y}=t,{state:b,level:w}=yield h();if(!b){a.default.warn("Proxy settings levelOfControl is: "+w),(0,s.default)("extension","alert","error_unable_change_proxy_settings "+w);let e={broken:!0,country:g,filters:v,mode:y};throw l.default.dispatch({type:"PAC update",data:e}),new Error("No control over Proxy API")}yield(0,o.default)(f);let _=null;if(g){if(r[g])_=r[g];else _=r[e],g=e;if(!_)a.default.error("Failed to find any suitable servers, turning off. Countries: ",g,". Premium user: ",f),y="direct",g=null}if(!Boolean(v.length||"proxy"===y))yield n.default.proxy.settings.clear({scope:"regular"});else{let t=(0,i.default)({countryServers:_,defaultCountry:e,filters:v,mode:y,premiumUser:f,rawPings:u.default.get("pingsRaw")||[],servers:r});(0,a.default)("PAC script: ",{pacScriptAdapted:t}),yield n.default.proxy.settings.set({scope:"regular",value:{mode:"pac_script",pacScript:{data:t}}})}let x={broken:m,country:g,filters:v,mode:y};if(!p.isEqual(d,x))l.default.dispatch({type:"PAC update",data:x});return[x,d]})),function(e,t){return r.apply(this,arguments)})}}},{"./buildPacScript":94,"./onAuthRequiredBugSolver":96,"core/browser":71,"core/ga":85,"core/log":92,"core/storage":151,"core/store":154}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("core/chromeVersion")),n=i(e("tools/onAuthRequiredHideRequest"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}const a=/vivaldi/i.test(navigator.userAgent),u=a?6:4,l=a?200:333;var c=function(){var e,t=(e=function*(e){if(!(()=>{if(!e||!o.default)return!1;else return o.default>=77})())return;let t=0,r=()=>{if(t++,!(t>u))(0,n.default)(),setTimeout(r,l)};return r(),new Promise(e=>{setTimeout(e,500)})},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=c},{"core/chromeVersion":75,"tools/onAuthRequiredHideRequest":263}],97:[function(e,t,r){"use strict";t.exports="undefined"==typeof browser?e("./chrome"):e("./firefox")},{"./chrome":95,"./firefox":void 0}],98:[function(e,t,r){t.exports=[{domains:["abema.tv"],dependencies:["akamaized.net"]},{domains:["kinopoisk.ru"],dependencies:["kp.yandex.net"]},{domains:["ktv-smart.jp"],dependencies:["brightcove.com"]},{domains:["linkedin.com"],dependencies:["licdn.com"]},{domains:["mail.ru"],dependencies:["imgsmail.ru"]},{domains:["netflix.com"],dependencies:["nflxext.com","nflximg.net","nflxso.net","nflxvideo.net"]},{domains:["ok.ru"],dependencies:["mycdn.me"]},{domains:["pornhub.com"],dependencies:["phncdn.com"]},{domains:["rutracker.org"],dependencies:["static.t-ru.org"]},{domains:["speedtest.net"],dependencies:["ooklaserver.net"]},{domains:["translate.yandex.ru"],dependencies:["yastatic.net"]},{domains:["tver.jp"],dependencies:["stream.ne.jp","brightcove.net"]},{domains:["video.tv-tokyo.co.jp"],dependencies:["brightcove.com"]},{domains:["vk.com"],dependencies:["userapi.com","vkuseraudio.net","vkuservideo.net"]},{domains:["wikipedia.org"],dependencies:["wikimedia.org"]},{domains:["yandex.ru"],dependencies:["yastatic.net"]},{domains:["youtube.com"],dependencies:["googlevideo.com","ytimg.com"]},{domains:["ytv.co.jp"],dependencies:["brightcove.com"]},{domains:["zattoo.com"],dependencies:["zahs.tv"]}]},{}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const o=window._;r.default=(e,t)=>{let r=o.groupBy(e,({host:e})=>{if(!t.length)return"unchecked";let r=t.find(t=>t.host===e);if(!r)return"unchecked";else return r.valid?"working":"non-working"}),n={"non-working":o.shuffle(r["non-working"]||[]),unchecked:o.shuffle(r.unchecked||[]),working:o.shuffle(r.working||[])};return[].concat(n.working,n.unchecked,n["non-working"]).map(({port:e,host:t})=>"HTTPS "+t+":"+e).join("; ")}},{}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=Object.freeze(["eth","local","ip","intra","intranet","onion","discordapp.io","edit.boxlocalhost.com","localhost.megasyncloopback.mega.nz","localhost.wwbizsrv.alibaba.com","localtest.me","lvh.me","spotilocal.com","vcap.me","www.amazonmusiclocal.com","google-analytics.com","secure.gate2shop.com","cdn.safecharge.com","paddle.com"]);r.default=o},{}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=c(e("core/ajaxes")),n=c(e("core/chromeVersion")),i=c(e("config")),s=c(e("./createPac")),a=c(e("tools/filtersSorting")),u=c(e("tools/onAuthRequiredHideRequest")),l=c(e("core/store"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){d(i,o,n,s,a,"next",e)}function a(e){d(i,o,n,s,a,"throw",e)}s(void 0)}))}}const p=window._,m=i.default.proxy.defaultCountry||"nl";let h=(0,s.default)(m),g=function(){var e=f((function*(e){if(n.default&&!(n.default<77))if(l.default.getState().user.premium)(0,u.default)(e),yield new Promise(e=>{setTimeout(e,100)}),(0,u.default)(e)}));return function(t){return e.apply(this,arguments)}}();var v,y;(()=>{let e=h.setState;h.setState=function(){var t=f((function*(t={}){let r=Boolean(t.refresh);delete t.refresh;let n=l.default.getState();if(p.defaults(t,{broken:n.pac.broken||!1,country:n.pac.country,filters:n.pac.filters,mode:n.pac.mode}),p.isEqual(t,n)&&!r)return n;let i=n.user.premium,s=p.transform(n.servers,(e,t,r)=>{let o=t[i?"premium_servers":"servers"];if(o)e[r]=o},{}),[a,u]=yield e(t,s),{credentials:c}=l.default.getState().user;if(!c)return a;if(p.isEqual(a.filters,u.filters))return a;try{yield o.default.setSmartSettings({credentials:c,filters:a.filters})}catch(e){}return a}));return function(){return t.apply(this,arguments)}}(),h.refresh=()=>h.setState({refresh:!0})})(),Object.assign(h,{setCountry:e=>h.setState({mode:"proxy",country:e}),enable:()=>h.setCountry(l.default.getState().pac.country||m),disable:()=>h.setState({mode:"direct"})}),h.siteFilters={add:(y=f((function*({country:e=l.default.getState().pac.country||m,domain:t,type:r}){let o=l.default.getState().pac.filters.slice();o.push({country:e,domain:t,proxyMode:"proxy"===r}),o.sort(a.default);let n=yield h.setState({filters:o});if("proxy"===r)g(e);return n})),function(e){return y.apply(this,arguments)}),remove:e=>{let t=l.default.getState().pac.filters.slice();return p.remove(t,t=>t.domain===e),h.setState({filters:t})},toggle:e=>{let t=l.default.getState().pac.filters.find(t=>t.domain===e);if(!t)throw new Error(`Nonexistent domain ${e} passed to pac.toggle`);let r=!t.proxyMode?t.country:null;return h.siteFilters.changeCountry({domain:e,country:r})},changeCountry:(v=f((function*({country:e,domain:t}){let r,o=p.cloneDeep(l.default.getState().pac.filters),n=o.find(e=>e.domain===t);if(n){if(e)r=e,n.country=e;return n.proxyMode=Boolean(e),h.setState({filters:o})}if(r&&e)g(e);return yield h.siteFilters.add({country:e,domain:t,type:"proxy"})})),function(e){return v.apply(this,arguments)})};var b=h;r.default=b},{"./createPac":97,config:"config","core/ajaxes":57,"core/chromeVersion":75,"core/store":154,"tools/filtersSorting":257,"tools/onAuthRequiredHideRequest":263}],102:[function(e,t,r){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const n=((o=e("config"))&&o.__esModule?o:{default:o}).default.baseUrl;var i={base:n,contactUs:n+"/contact_us?source=extension&utm_source=chromium+extension&utm_medium=link&utm_campaign=default_campaign",newUser:n+"/users/new?source=extension&utm_source=chromium+extension&utm_medium=link&utm_campaign=default_campaign",premium:n+"/orders/new?plan_id=annual",resetPassword:`${n}/login?source=extension&utm_source=chromium+extension&utm_medium=link&utm_campaign=default_campaign#forgot_password`};r.default=i},{config:"config"}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/browser"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))}}let a=[],u=[];a.ready=s((function*(){let{permissions:e}=yield n.default.permissions.getAll();a.splice.apply(a,[0,0].concat(e))}))(),a.addListener=function(e){u.push(e)},a.removeListener=function(e){u=u.filter(t=>t!==e)};let l=function(){var e=s((function*(){let{permissions:e}=yield n.default.permissions.getAll();a.splice.apply(a,[0,a.length].concat(e)),u.forEach(e=>{e(a)})}));return function(){return e.apply(this,arguments)}}();if(n.default.permissions.onAdded)n.default.permissions.onAdded.addListener(l);if(n.default.permissions.onRemoved)n.default.permissions.onRemoved.addListener(l);var c=a;r.default=c},{"core/browser":71}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=({delayData:e,servers:t})=>{let r,o,n;e.forEach(t=>{let r=t.delay,o=e.filter(({delay:e})=>e===r);if(1!==o.length)o.forEach(e=>{e.delay+=2*Math.random()-1})});{let t=e.map(({delay:e})=>e);r=Math.min.apply(null,t),o=Math.max.apply(null,t),n=(o-r)/4}let i=e.map(({country:e,premium:t,delay:o})=>({country:e,premium:t,delay:o,mark:4-(o-r)/n})),s=i.slice().sort((e,t)=>e.mark-t.mark),a=s.reduce((e,t,r)=>{let o=s[r+1];if(void 0===o)return e;let n=o.mark-t.mark;return e.push({start:t,end:o,value:n}),e},[]),u=a.slice().sort((e,t)=>e.value-t.value),l=u.reduce((e,t,r)=>{let o=u[r+1];if(void 0===o)return e;let n=o.value/t.value;return e.push({denominator:t,numerator:o,multiplier:n}),e},[]),c=l.slice().sort((e,t)=>e.multiplier-t.multiplier),d=(()=>{let e=(c.filter(({multiplier:e})=>e<=1.8).pop()||{}).multiplier||0;return Math.max(1.1*e,1.8)})(),f=c.filter(({multiplier:e,denominator:t,numerator:r})=>e!==1/0&&e>=1.8&&(t.value>.1||r.value>.1));if(f.length){if(1===f.length)f[0].multiplier=d;else{let e=f[0].multiplier,t=Math.max(f[f.length-1].multiplier,2.4),r=2.4-d;f.forEach(o=>{o.multiplier=r*(o.multiplier-e)/(t-e)+d})}let e=l.reduce(({output:e,previousValue:t},{denominator:r,numerator:o,multiplier:n},i)=>{if(!i)e.push(r);let s=(void 0!==t?t:r.value)*n;return o.value=s,e.push(o),{output:e,previousValue:t=s}},{output:[],previousValue:void 0}).output;{let t=4/e.map(({value:e})=>e).reduce((e,t)=>e+t,0);e=e.map(e=>(e.value*=t,e))}a.reduce(({output:e,previousValue:t},{start:r,end:o,value:n},i)=>{if(!i)e.push(r);let s=void 0!==t?t:r.mark;return o.mark=s+n,e.push(o),{output:e,previousValue:t=s+n}},{output:[],previousValue:void 0})}return i.forEach(e=>{let r=t.find(({country:t,premium:r})=>e.country===t&&e.premium===r);if(!r)return;let o=(1-r.serverLoad)*e.mark;if(o>0&&o<1)o=1;if(e.mark-=o,e.mark<0)e.mark=0}),i.forEach(e=>{if(e.mark=Math.floor(2+e.mark),6===e.mark)e.mark=5;e.delay=Math.round(e.delay)}),i}},{}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=({servers:e,pings:t})=>{let r=t.reduce((e,{host:t,valid:r,delay:o})=>{if(!r||!o)return e;else return e.push({host:t,delay:o}),e},[]);return e.reduce((e,{country:t,premium:o,hosts:n})=>{let i=n.reduce((e,t)=>{let o=r.find(({host:e})=>e===t);if(!o)return e;else return e.push(o.delay),e},[]);if(!i.length)return e;else return e.push({country:t,premium:o,delays:i}),e},[]).map(({country:e,premium:t,delays:r})=>{if(1===r.length)return{country:e,premium:t,delay:r[0]};let o=Math.floor(.1*r.length)||1;return r=r.sort((e,t)=>e-t).slice(0,r.length-o),{country:e,premium:t,delay:Math.round(r.reduce((e,t)=>e+t,0)/r.length)}})}},{}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("./countryDelaysToCountryRatings")),n=l(e("./delaysToCountryDelays")),i=l(e("./getSortedServers")),s=l(e("./hostsToPings")),a=l(e("core/storage")),u=l(e("core/store"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))}}const f=window._;var p=d((function*(){let e=(0,i.default)(u.default.getState().servers).map(e=>{let t=e.hosts;return t=f.shuffle(t).slice(0,Math.ceil(t.length/2)),Object.assign({},e,{hosts:t})}),t=e.reduce((e,{hosts:t})=>e.concat(t),[]),r=yield(0,s.default)(t);a.default.remove("rawPings"),a.default.set("pingsRaw",r);let l=(0,n.default)({servers:e,pings:r}),c=(0,o.default)({delayData:l,servers:e});u.default.dispatch({type:"Ping",data:c})}));r.default=p},{"./countryDelaysToCountryRatings":104,"./delaysToCountryDelays":105,"./getSortedServers":107,"./hostsToPings":108,"core/storage":151,"core/store":154}],107:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const o=window._,n=Object.freeze([{country:"at",premium:!0,serverLoad:1},{country:"au",premium:!0,serverLoad:1},{country:"be",premium:!0,serverLoad:1},{country:"bg",premium:!0,serverLoad:1},{country:"ca",premium:!0,serverLoad:1},{country:"ch",premium:!0,serverLoad:1},{country:"de",premium:!0,serverLoad:1},{country:"dk",premium:!0,serverLoad:1},{country:"es",premium:!0,serverLoad:1},{country:"fi",premium:!0,serverLoad:1},{country:"fr",premium:!0,serverLoad:1},{country:"hk",premium:!0,serverLoad:1},{country:"ie",premium:!0,serverLoad:1},{country:"in",premium:!0,serverLoad:1},{country:"it",premium:!0,serverLoad:1},{country:"jp",premium:!0,serverLoad:1},{country:"lt",premium:!0,serverLoad:1},{country:"lv",premium:!0,serverLoad:1},{country:"nl",premium:!0,serverLoad:1},{country:"nl",premium:!1,serverLoad:.5},{country:"no",premium:!0,serverLoad:1},{country:"ro",premium:!0,serverLoad:1},{country:"ru",premium:!0,serverLoad:1},{country:"se",premium:!0,serverLoad:1},{country:"sg",premium:!0,serverLoad:1},{country:"sg",premium:!1,serverLoad:.5},{country:"tr",premium:!0,serverLoad:1},{country:"ua",premium:!0,serverLoad:1},{country:"uk",premium:!0,serverLoad:1},{country:"uk",premium:!1,serverLoad:.5},{country:"us",premium:!0,serverLoad:1},{country:"us",premium:!1,serverLoad:.5},{country:"usw",premium:!0,serverLoad:1},{country:"za",premium:!0,serverLoad:1}]);r.default=e=>o.transform(e,(e,{premium_servers:t,servers:r},i)=>{if(t){let r=o.get(n.find(({country:e,premium:t})=>e===i&&t),"serverLoad",1);e.push({country:i,premium:!0,serverLoad:r,hosts:t.map(({host:e})=>e)})}if(r){let t=o.get(n.find(({country:e,premium:t})=>e===i&&!t),"serverLoad",1);e.push({country:i,premium:!1,serverLoad:t,hosts:r.map(({host:e})=>e)})}},[])},{}],108:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("tools/Deferred"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))}}var a=function(){var e=s((function*(e){let t=[],r=e.map(e=>{let o=`http://${e}/api/test?`+Math.floor(1e12*Math.random()),i=(0,n.default)(),a=(0,n.default)(),u={end:a,host:e,start:i,started:!1};return i.then(()=>{u.started=!0;let r=performance.now();s((function*(){try{let n,i=yield new Promise((e,t)=>{fetch(o,{method:"GET"}).then(e,t),setTimeout(()=>{t(new Error("Pings: request timeout reached"))},1e4)});if(!i.ok)throw new Error(i.statusText);try{n=yield i.json()}catch(e){throw new Error("Pings: not correct response data")}if(!n||"object"!=typeof n||!0!==n.ok)throw new Error("Pings: not correct response data");let s=performance.now()-r;t.push({host:e,delay:s,valid:!0})}catch(r){t.push({host:e,valid:!1})}}))().finally(()=>{a.resolve()})}),a.then(()=>{let e=r.find(({started:e})=>!e);if(e)e.start.resolve()}),u});return r.slice(0,6).forEach(({start:e})=>{e.resolve()}),yield Promise.all(r.map(({end:e})=>e)),t}));return function(t){return e.apply(this,arguments)}}();r.default=a},{"tools/Deferred":251}],109:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=c(e("core/availableServer")),n=c(e("./getRatings")),i=c(e("core/pac")),s=c(e("core/storage")),a=c(e("core/store")),u=c(e("core/timemarks")),l=e("config");function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){d(i,o,n,s,a,"next",e)}function a(e){d(i,o,n,s,a,"throw",e)}s(void 0)}))}}const p=["qa","qa2"].includes(l.type)?3e5:1728e5;let m,h;f((function*(){yield a.default.ready,m=()=>{if((0,n.default)(),u.default.set("ping"),void 0!==h)clearTimeout(h);h=setTimeout(m,p)},yield o.default.initialRequestComplete;let e,t=u.default.get("ping")||s.default.get("pingMark");if(t)e=Date.now()-t+.125*(2*Math.random()-1)*p;if("number"!=typeof e||e<0||e>=p)m();else h=setTimeout(m,p-e)}))(),f((function*(){yield a.default.ready,a.default.compare(({ping:e})=>e,()=>{i.default.refresh()})}))();r.default=()=>{if(m)m()}},{"./getRatings":106,config:"config","core/availableServer":66,"core/pac":101,"core/storage":151,"core/store":154,"core/timemarks":155}],110:[function(e,t,r){"use strict";var o=i(e("core/DelayRecord")),n=i(e("core/runtime.onMessage"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}const a=window._;let u=[];n.default.addListener({callback:({id:e,name:t})=>{let r=new o.default(t);u.push({id:e,name:t,object:r})},type:"DelayRecord start",popupOnly:!0}),n.default.addListener({callback:({id:e,name:t})=>{let r=u.find(r=>r.id===e&&r.name===t);if(r){var o;r.object.end(),(o=function*(){yield new Promise(e=>{setTimeout(e,18e5)}),a.remove(u,r=>r.id===e&&r.name===t)},function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){s(i,r,n,a,u,"next",e)}function u(e){s(i,r,n,a,u,"throw",e)}a(void 0)}))})()}},type:"DelayRecord end",popupOnly:!0})},{"core/DelayRecord":27,"core/runtime.onMessage":148}],111:[function(e,t,r){"use strict";var o=i(e("core/runtime.onMessage")),n=i(e("core/ShowedOffers"));function i(e){return e&&e.__esModule?e:{default:e}}o.default.addListener({callback:({offer:e})=>n.default.includes(e),type:"ShowedOffers.includes",popupOnly:!0}),o.default.addListener({callback:({offer:e})=>n.default.push(e),type:"ShowedOffers.push",popupOnly:!0})},{"core/ShowedOffers":45,"core/runtime.onMessage":148}],112:[function(e,t,r){"use strict";var o=n(e("core/account"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:()=>{o.default.load()},type:"account.load",popupOnly:!0})},{"core/account":50,"core/runtime.onMessage":148}],113:[function(e,t,r){"use strict";var o,n,i=a(e("core/actions")),s=a(e("core/runtime.onMessage"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}s.default.addListener({callback:({country:e})=>i.default.favorites.add(e),type:"actions.favorites.add",popupOnly:!0}),s.default.addListener({callback:({country:e})=>i.default.favorites.remove(e),type:"actions.favorites.remove",popupOnly:!0}),s.default.addListener({callback:(o=function*({data:{email:e,password:t}}){try{return{success:yield i.default.login({email:e,password:t})}}catch(e){let{status:t,responseText:r,message:o}=e;return{error:{status:t,responseText:r,message:o}}}},n=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function s(e){u(i,r,n,s,a,"next",e)}function a(e){u(i,r,n,s,a,"throw",e)}s(void 0)}))},function(e){return n.apply(this,arguments)}),type:"actions.login",popupOnly:!0}),s.default.addListener({callback:()=>i.default.logout(),type:"actions.logout",popupOnly:!0})},{"core/actions":52,"core/runtime.onMessage":148}],114:[function(e,t,r){"use strict";var o=l(e("core/chromeVersion")),n=l(e("tools/filtersSorting")),i=l(e("tools/onAuthRequiredHideRequest")),s=l(e("core/pac")),a=l(e("core/runtime.onMessage")),u=l(e("core/store"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))}}const f=window._;let p=function(){var e=d((function*(e){if(o.default&&!(o.default<77))if(u.default.getState().user.premium)(0,i.default)(e),yield new Promise(e=>setTimeout(e,200))}));return function(t){return e.apply(this,arguments)}}();a.default.addListener({callback:({country:e,domain:t,selectedDomain:r})=>{let o=f.cloneDeep(u.default.getState().pac.filters),[{country:i}]=f.remove(o,({domain:e})=>r===e);o.push({country:e||i,domain:t,proxyMode:Boolean(e)}),o.sort(n.default),d((function*(){if(yield s.default.setState({filters:o}),e)p(e)}))()},type:"change site filter",popupOnly:!0})},{"core/chromeVersion":75,"core/pac":101,"core/runtime.onMessage":148,"core/store":154,"tools/filtersSorting":257,"tools/onAuthRequiredHideRequest":263}],115:[function(e,t,r){"use strict";var o=n(e("config"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:()=>o.default,type:"config",popupOnly:!0})},{config:"config","core/runtime.onMessage":148}],116:[function(e,t,r){"use strict";var o=n(e("core/Counters"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:({property:e})=>{o.default.increase(e)},type:"сounters.increase",popupOnly:!0})},{"core/Counters":25,"core/runtime.onMessage":148}],117:[function(e,t,r){"use strict";var o=n(e("core/browser"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:({options:e})=>o.default.tabs.create(e),type:"create tab",popupOnly:!0})},{"core/browser":71,"core/runtime.onMessage":148}],118:[function(e,t,r){"use strict";var o=n(e("core/log/db"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:()=>o.default.getAll(),type:"db.getAll",popupOnly:!0})},{"core/log/db":86,"core/runtime.onMessage":148}],119:[function(e,t,r){"use strict";var o=s(e("core/log/db")),n=s(e("core/Diagnostics")),i=s(e("core/runtime.onMessage"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}let u={proxyApi:"Check proxy settings",noProxyExtensions:"Check conflicts with other extensions",httpConnection:"Check HTTP Internet connection",httpsConnection:"Check HTTPS Internet connection",browsecApi:"Check Browsec API",httpProxyConnection:"Check HTTP Internet connection with Browsec",httpsProxyConnection:"Check HTTPS Internet connection with Browsec"};var l,c;i.default.addListener({callback:()=>n.default.close(),type:"Diagnostics.close",popupOnly:!0}),i.default.addListener({callback:(l=function*(){let e=(yield o.default.getAll()).map(({timestamp:e,type:t,record:r})=>{let o=new Date(e);return String(o.getDate()).padStart(2,"0")+"."+String(o.getMonth()+1).padStart(2,"0")+"."+o.getFullYear()+" "+String(o.getHours()).padStart(2,"0")+":"+String(o.getMinutes()).padStart(2,"0")+":"+String(o.getSeconds()).padStart(2,"0")+":"+String(o.getMilliseconds()).padStart(3,"0")+" | "+t+" | "+r}).join("\n");return n.default._states.map(e=>{let{name:t}=e,r=Object.assign({},e);return delete r.name,u[t]+"\n"+JSON.stringify(r)}).join("\n\n")+"\n\n"+e},c=function(){var e=this,t=arguments;return new Promise((function(r,o){var n=l.apply(e,t);function i(e){a(n,r,o,i,s,"next",e)}function s(e){a(n,r,o,i,s,"throw",e)}i(void 0)}))},function(){return c.apply(this,arguments)}),type:"Diagnostics.getLog",popupOnly:!0}),i.default.addListener({callback:()=>n.default.getState(),type:"Diagnostics.getState",popupOnly:!0}),i.default.addListener({callback:()=>n.default.getSteps(),type:"Diagnostics.getSteps",popupOnly:!0}),i.default.addListener({callback:()=>n.default.open(),type:"Diagnostics.open",popupOnly:!0}),i.default.addListener({callback:({extensions:e})=>n.default.start(e),type:"Diagnostics.start",popupOnly:!0}),i.default.addListener({callback:()=>n.default.terminate(),type:"Diagnostics.terminate",popupOnly:!0})},{"core/Diagnostics":31,"core/log/db":86,"core/runtime.onMessage":148}],120:[function(e,t,r){"use strict";var o=n(e("core/domainZoneList"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:()=>o.default.data,type:"domain zone list",popupOnly:!0})},{"core/domainZoneList":80,"core/runtime.onMessage":148}],121:[function(e,t,r){"use strict";var o=n(e("core/ga"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:({data:e})=>{o.default.apply({},e)},type:"ga",popupOnly:!0})},{"core/ga":85,"core/runtime.onMessage":148}],122:[function(e,t,r){"use strict";var o=n(e("core/promotions/getActiveBanner"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:()=>(0,o.default)(),type:"get promotions",popupOnly:!0})},{"core/promotions/getActiveBanner":142,"core/runtime.onMessage":148}],123:[function(e,t,r){"use strict";e("./account"),e("./actions"),e("./changeSiteFilter"),e("./config"),e("./counters"),e("./createTab"),e("./db"),e("./DelayRecord"),e("./diagnostics"),e("./domainZoneList"),e("./ga"),e("./getPromotions"),e("./log"),e("./pageLinks"),e("./permissions"),e("./personalBannerView"),e("./popupErrorHandler"),e("./popupOpen"),e("./promotionsBlock"),e("./proxy"),e("./proxyDisableBrokenMode"),e("./punycode"),e("./selectDisabledSiteFilter"),e("./ShowedOffers"),e("./showSpeedPromo"),e("./storage"),e("./store"),e("./timezoneChange"),e("./webrtc")},{"./DelayRecord":110,"./ShowedOffers":111,"./account":112,"./actions":113,"./changeSiteFilter":114,"./config":115,"./counters":116,"./createTab":117,"./db":118,"./diagnostics":119,"./domainZoneList":120,"./ga":121,"./getPromotions":122,"./log":124,"./pageLinks":125,"./permissions":126,"./personalBannerView":127,"./popupErrorHandler":128,"./popupOpen":129,"./promotionsBlock":130,"./proxy":131,"./proxyDisableBrokenMode":132,"./punycode":133,"./selectDisabledSiteFilter":134,"./showSpeedPromo":135,"./storage":136,"./store":137,"./timezoneChange":138,"./webrtc":139}],124:[function(e,t,r){"use strict";var o=i(e("core/log")),n=i(e("core/runtime.onMessage"));function i(e){return e&&e.__esModule?e:{default:e}}n.default.addListener({callback:({data:e})=>{o.default.apply({},e)},type:"log",popupOnly:!0}),n.default.addListener({callback:({data:e})=>{o.default.warn.apply(o.default,e)},type:"log.warn",popupOnly:!0}),n.default.addListener({callback:({data:e})=>{o.default.error.apply(o.default,e)},type:"log.error",popupOnly:!0})},{"core/log":92,"core/runtime.onMessage":148}],125:[function(e,t,r){"use strict";var o=n(e("core/pageLinks"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:()=>o.default,type:"page links",popupOnly:!0})},{"core/pageLinks":102,"core/runtime.onMessage":148}],126:[function(e,t,r){"use strict";var o=i(e("core/permissions")),n=i(e("core/runtime.onMessage"));function i(e){return e&&e.__esModule?e:{default:e}}n.default.addListener({callback:({permission:e})=>o.default.includes(e),type:"permissions.includes",popupOnly:!0}),n.default.addListener({callback:()=>o.default.slice(),type:"permissions.get",popupOnly:!0})},{"core/permissions":103,"core/runtime.onMessage":148}],127:[function(e,t,r){"use strict";var o=n(e("core/store"));function n(e){return e&&e.__esModule?e:{default:e}}n(e("core/runtime.onMessage")).default.addListener({callback:({id:e})=>{o.default.dispatch({type:"Add viewed personal banner",banner:e})},type:"personal banner view",popupOnly:!0})},{"core/runtime.onMessage":148,"core/store":154}],128:[function(e,t,r){"use strict";var o=u(e("core/browser")),n=u(e("core/runtime.onMessage")),i=u(e("tools/format")),s=u(e("core/ga")),a=u(e("core/log"));function u(e){return e&&e.__esModule?e:{default:e}}const l=o.default.runtime.getManifest().version||"n/a";n.default.addListener({callback:({data:{message:e,fileName:t,lineNumber:r}})=>{try{a.default.error((0,i.default)("message: {0}\nfilename: {1}\nlineno: {2}",e,t,r)),(0,s.default)("error",l,(0,i.default)("{0} at {1}:{2}",e,t,r),0,!1)}catch(e){a.default.error(e)}},type:"popup error",popupOnly:!0})},{"core/browser":71,"core/ga":85,"core/log":92,"core/runtime.onMessage":148,"tools/format":258}],129:[function(e,t,r){"use strict";var o=m(e("core/account")),n=m(e("core/browser")),i=m(e("core/Counters")),s=m(e("core/DelayRecord")),a=m(e("core/ga")),u=m(e("core/promotions")),l=m(e("core/pac")),c=m(e("core/runtime.onMessage")),d=m(e("core/ShowedOffers")),f=m(e("core/storage")),p=m(e("core/store"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){h(i,o,n,s,a,"next",e)}function a(e){h(i,o,n,s,a,"throw",e)}s(void 0)}))}}c.default.addListener({callback:()=>{if(u.default.setPrices(),i.default.increase("icon clicks"),o.default.load(),"installed"===f.default.get("firstPopupOpen"))(0,a.default)({category:"extension",action:"first_popup_open"}),f.default.set("firstPopupOpen","fulfilled");let e=f.default.get("congrats_tab_id"),t=Promise.resolve(!1);if(e)t=n.default.tabs.query().then(t=>t.some(({id:t})=>t===e));g((function*(){if(!d.default.includes("apps page")&&"ready"===f.default.get("installBrowsecOnMobile")){if(yield t)n.default.tabs.update(e,{url:"/offers/install_browsec_on_mobile.html"});else n.default.tabs.create("/offers/install_browsec_on_mobile.html");d.default.push("apps page"),f.default.remove("congrats_tab_id","installBrowsecOnMobile")}}))();let r=new s.default("Popup: get control state"),c=g((function*(){if(!l.default.getControlState||!p.default.getState().pac.broken)return!0;if(!(yield l.default.getControlState()))return!1;else return yield l.default.setState({broken:!1}),!0}))();return c.then(()=>{r.end()}),c},type:"popup open",popupOnly:!0})},{"core/Counters":25,"core/DelayRecord":27,"core/ShowedOffers":45,"core/account":50,"core/browser":71,"core/ga":85,"core/pac":101,"core/promotions":143,"core/runtime.onMessage":148,"core/storage":151,"core/store":154}],130:[function(e,t,r){"use strict";var o=s(e("core/ajaxes")),n=s(e("core/runtime.onMessage")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}n.default.addListener({callback:({value:e})=>{i.default.dispatch({type:"Promotions block",data:e});const{user:t}=i.default.getState();if(t.email&&t.credentials)o.default.setPromotionsBlock({credentials:t.credentials,promotionsBlock:e})},type:"promotionsBlock.set",popupOnly:!0})},{"core/ajaxes":57,"core/runtime.onMessage":148,"core/store":154}],131:[function(e,t,r){"use strict";var o,n,i,s,a,u,l,c=f(e("core/pac")),d=f(e("core/runtime.onMessage"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){p(i,o,n,s,a,"next",e)}function a(e){p(i,o,n,s,a,"throw",e)}s(void 0)}))}}d.default.addListener({callback:(o=m((function*(){try{return{success:yield c.default.disable()}}catch(e){return{error:e}}})),function(){return o.apply(this,arguments)}),type:"proxy.disable",popupOnly:!0}),d.default.addListener({callback:(n=m((function*(){try{return{success:yield c.default.enable()}}catch(e){return{error:e}}})),function(){return n.apply(this,arguments)}),type:"proxy.enable",popupOnly:!0}),d.default.addListener({callback:()=>c.default.getControlState(),type:"proxy.getControlState",popupOnly:!0}),d.default.addListener({callback:(i=m((function*({country:e}){try{return{success:yield c.default.setCountry(e)}}catch(e){return{error:e}}})),function(e){return i.apply(this,arguments)}),type:"proxy.setCountry",popupOnly:!0}),d.default.addListener({callback:(s=m((function*({data:{country:e,domain:t,type:r}}){try{return{success:yield c.default.siteFilters.add({country:e,domain:t,type:r})}}catch(e){return{error:e}}})),function(e){return s.apply(this,arguments)}),type:"proxy.siteFilters.add",popupOnly:!0}),d.default.addListener({callback:(a=m((function*({country:e,domain:t}){try{return{success:yield c.default.siteFilters.changeCountry({country:e,domain:t})}}catch(e){return{error:e}}})),function(e){return a.apply(this,arguments)}),type:"proxy.siteFilters.changeCountry",popupOnly:!0}),d.default.addListener({callback:(u=m((function*({domain:e}){try{return{success:yield c.default.siteFilters.remove(e)}}catch(e){return{error:e}}})),function(e){return u.apply(this,arguments)}),type:"proxy.siteFilters.remove",popupOnly:!0}),d.default.addListener({callback:(l=m((function*({domain:e}){try{return{success:yield c.default.siteFilters.toggle(e)}}catch(e){return{error:e}}})),function(e){return l.apply(this,arguments)}),type:"proxy.siteFilters.toggle",popupOnly:!0})},{"core/pac":101,"core/runtime.onMessage":148}],132:[function(e,t,r){"use strict";var o,n,i=s(e("core/pac"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}s(e("core/runtime.onMessage")).default.addListener({callback:(o=function*(){try{return{success:yield i.default.setState({broken:!1})}}catch(e){return{error:e}}},n=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function s(e){a(i,r,n,s,u,"next",e)}function u(e){a(i,r,n,s,u,"throw",e)}s(void 0)}))},function(){return n.apply(this,arguments)}),type:"proxy disable broken mode",popupOnly:!0})},{"core/pac":101,"core/runtime.onMessage":148}],133:[function(e,t,r){"use strict";var o=i(e("core/runtime.onMessage")),n=i(e("punycode"));function i(e){return e&&e.__esModule?e:{default:e}}o.default.addListener({callback:({domain:e})=>n.default.toASCII(e),type:"punycode.toASCII",popupOnly:!0}),o.default.addListener({callback:({domain:e})=>n.default.toUnicode(e),type:"punycode.toUnicode",popupOnly:!0})},{"core/runtime.onMessage":148,punycode:13}],134:[function(e,t,r){"use strict";var o=s(e("core/pac")),n=s(e("core/runtime.onMessage")),i=s(e("core/store"));function s(e){return e&&e.__esModule?e:{default:e}}const a=window._;n.default.addListener({callback:({domain:e})=>{let t=a.cloneDeep(i.default.getState().pac.filters),r=t.find(({disabled:e})=>!e);if(r)r.disabled=!0;{let r=t.find(({domain:t})=>e===t);if(r)delete r.disabled}o.default.setState({filters:t})},type:"select disabled site filter",popupOnly:!0})},{"core/pac":101,"core/runtime.onMessage":148,"core/store":154}],135:[function(e,t,r){"use strict";var o=i(e("core/runtime.onMessage")),n=i(e("core/store"));function i(e){return e&&e.__esModule?e:{default:e}}o.default.addListener({callback:()=>"proxy"===n.default.getState().pac.mode,type:"show speed promo",popupOnly:!0})},{"core/runtime.onMessage":148,"core/store":154}],136:[function(e,t,r){"use strict";var o=i(e("core/runtime.onMessage")),n=i(e("core/storage"));function i(e){return e&&e.__esModule?e:{default:e}}o.default.addListener({callback:({key:e})=>n.default.get(e),type:"storage.get",popupOnly:!0}),o.default.addListener({callback:({key:e,value:t})=>n.default.set(e,t),type:"storage.set",popupOnly:!0})},{"core/runtime.onMessage":148,"core/storage":151}],137:[function(e,t,r){"use strict";var o=i(e("core/runtime.onMessage")),n=i(e("core/store"));function i(e){return e&&e.__esModule?e:{default:e}}o.default.addListener({callback:()=>n.default.getState(),type:"store.getState",popupOnly:!0}),o.default.addListener({callback:({data:e})=>(n.default.dispatch(e),n.default.getState()),type:"store.dispatch",popupOnly:!0})},{"core/runtime.onMessage":148,"core/store":154}],138:[function(e,t,r){"use strict";var o=i(e("core/runtime.onMessage")),n=i(e("timezoneChange/index"));function i(e){return e&&e.__esModule?e:{default:e}}o.default.addListener({callback:({value:e})=>n.default.set(e),type:"timezoneChange.set",popupOnly:!0})},{"core/runtime.onMessage":148,"timezoneChange/index":249}],139:[function(e,t,r){"use strict";var o=i(e("core/runtime.onMessage")),n=i(e("core/webrtc"));function i(e){return e&&e.__esModule?e:{default:e}}o.default.addListener({callback:()=>n.default.available,type:"webrtc.available",popupOnly:!0}),o.default.addListener({callback:()=>n.default.getControlState(),type:"webrtc.getControlState",popupOnly:!0}),o.default.addListener({callback:()=>n.default.disable(),type:"webrtc.disable",popupOnly:!0}),o.default.addListener({callback:()=>n.default.enable(),type:"webrtc.enable",popupOnly:!0})},{"core/runtime.onMessage":148,"core/webrtc":162}],140:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/storage"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var s=new function(){var e,t=this;this.list,(e=function*(){yield n.default.ready;let e=new Set(n.default.get("promotionsActivation")||[]);t.list=e},function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))})(),this.get=()=>{if(void 0===this.list)throw new Error("promotionsActivation.get called before storage.ready");return Array.from(this.list)},this.add=e=>{this.list.add(e),n.default.set("promotionsActivation",Array.from(this.list))}};r.default=s},{"core/storage":151}],141:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=e=>{let t=e.length?Math.max.apply({},e.map(({trial_days:e})=>e)):0;return{tariffs:e.map(({kind:e,price:t,duration:r})=>({kind:e,price:{currency:t.currency,value:t.amount,oldValue:t.base_amount},duration:r.months})),trialDays:t}}},{}],142:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/store"))&&o.__esModule?o:{default:o};r.default=()=>{let e=n.default.getState(),t=e.user.premium,r=Date.now(),o=e.promotions.filter(({banner:e,from:t,till:o})=>e&&t<=r&&r<=o).filter(({kind:e})=>"personal"===e||!t).sort(({kind:e},{kind:t})=>{if(e===t)return 0;else return"personal"===e?-1:1});return o.length?o[0]:void 0}},{"core/store":154}],143:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=d(e("core/browser")),n=d(e("core/defaultPrices")),i=d(e("./notifications")),s=d(e("./activation")),a=d(e("./request")),u=d(e("core/storage")),l=d(e("core/store")),c=d(e("core/timemarks"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){f(i,o,n,s,a,"next",e)}function a(e){f(i,o,n,s,a,"throw",e)}s(void 0)}))}}const m=window._;let h=()=>{let e=Date.now(),t=l.default.getState(),r=t.promotions.find(({from:t,till:r,tariffs:o})=>t<=e&&e<=r&&o),o=(()=>{if(!r)return n.default;else return r.tariffs.map(e=>({currency:e.price.currency,value:e.price.value,oldValue:e.price.oldValue,duration:e.duration}))})(),i=r?r.trialDays:void 0;if(!m.isEqual(t.prices,o))l.default.dispatch({type:"Set prices",prices:o});if(t.priceTrial!==i)l.default.dispatch({type:"Set price trial",priceTrial:i})},g=function(){var e=p((function*(){let{user:e}=l.default.getState(),t=yield(0,a.default)(e.credentials);l.default.dispatch({type:"Promotions",data:t}),h()}));return function(){return e.apply(this,arguments)}}(),v=()=>{let e=g();return e.then(()=>{c.default.set("promotions")}),setTimeout(v,864e5),e},y=()=>{let e=l.default.getState(),t=e.user.premium,r=e.promotionsBlock,n=s.default.get(),i=Date.now();e.promotions.filter(({id:e,from:t,till:r,page:o})=>o&&!n.includes(e)&&t<=i&&i<=r).filter(({kind:e})=>"personal"===e||!t&&!r).forEach(({id:e,page:t,pageActive:r})=>{o.default.tabs.create({active:Boolean(r),url:t}),s.default.add(e)}),h()},b=()=>{y(),setTimeout(b,36e5)},w=()=>{let e=l.default.getState(),t=e.user.premium,r=Date.now();if(!t){let t=i.default.get(),o=e.promotions.filter(({id:e,from:o,till:n,notifications:i})=>i&&i.length&&!t.includes(e)&&o<=r&&r<=n)[0];if(o)u.default.remove("notificationHidden"),i.default.add(o.id)}setTimeout(w,18e4)};p((function*(){yield l.default.ready,c.default.start({action:v,delay:864e5,name:"promotions"}),b(),w()}))(),l.default.compare(({user:{credentials:e,email:t,premium:r,subscription:o}})=>({credentials:e,premiumUser:r,registeredUser:Boolean(t),subscription:o}),g);var _={clear:()=>{u.default.set("promotionsActivation",[]),s.default.list=new Set([]),l.default.dispatch({type:"Promotions",data:[]})},request:g,setPrices:h,show:y};r.default=_},{"./activation":140,"./notifications":144,"./request":145,"core/browser":71,"core/defaultPrices":78,"core/storage":151,"core/store":154,"core/timemarks":155}],144:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/storage"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var s=new function(){let e;var t;(t=function*(){yield n.default.ready,e=new Set(n.default.get("promotionsNotifications")||[])},function(){var e=this,r=arguments;return new Promise((function(o,n){var s=t.apply(e,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))})(),this.get=()=>{if(void 0===e)throw new Error("promotionsNotifications.get called before storage.ready");return Array.from(e)},this.add=t=>{e.add(t),n.default.set("promotionsNotifications",Array.from(e))}};r.default=s},{"core/storage":151}],145:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("tools/ajax")),n=l(e("tools/apiRequest")),i=l(e("core/availableServer")),s=l(e("config")),a=l(e("./convertRawTarrifs")),u=l(e("core/log"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))}}var f=function(){var e=d((function*(e){let t,r=yield i.default.getServer();try{t=yield(0,n.default)(r+"/promo/extension?_="+Math.floor(1e9*Math.random()),{dataType:"json",cache:"no-store",headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET",tokenCredentials:e})}catch(l){throw i.default.restart(),l}let{error_message:l,promo:c,ok:f}=t;if(!f)throw new Error(l);let p=c.reduce((e,{click_url:t,from:r,kind:n="common",media:i,tariffs:l,till:c,uid:f})=>{if(!i||"object"!=typeof i)return e;let p,m,{banner:h,inpage_notifications:g,promo_page:v}=i,y=h&&"object"==typeof h?Boolean(h.json_url||h.json):!1,b=Boolean(g),w=v&&"object"==typeof v?Boolean(v.url):!1;if(!y&&!b&&!w)return u.default.error("Banner, page notifications and promo page not specified. Promotion media object:",i),e;let _,x=!1,k=[];if(y){let e=h.json_url;if(p=h.click_url||s.default.baseUrl+"/en/orders/new?plan_id=annual",e)_=(0,o.default)(e,{dataType:"json",method:"GET"});else if(h.json)_=JSON.parse(h.json)}if(g)k=Promise.all(g.map(function(){var e=d((function*({domains:e,json_url:t,json:r}){if(t&&!r)r=yield(0,o.default)(t,{dataType:"json",method:"GET"});if(!r)throw new Error("No json or jsonUrl property specified");let{html:n,texts:i}=r;return{domains:e,html:n,texts:i}}));return function(t){return e.apply(this,arguments)}}()));if(w)m=v?v.url:void 0,x=v?Boolean(v.active_tab):!1;return e.push(d((function*(){let[e,o]=yield Promise.all([d((function*(){try{return yield k}catch(e){return[]}}))(),d((function*(){try{return yield _}catch(e){}}))()]),i={clickUrl:t,id:f,from:Date.parse(r),kind:n,notifications:e,till:Date.parse(c)};if(y&&o)i.banner={link:p,structure:o};if(w)i.page=m,i.pageActive=x;if(l){let{tariffs:e,trialDays:t}=(0,a.default)(l);if(i.tariffs=e,t)i.trialDays=t}return i}))()),e},[]);return Promise.all(p)}));return function(t){return e.apply(this,arguments)}}();r.default=f},{"./convertRawTarrifs":141,config:"config","core/availableServer":66,"core/log":92,"tools/ajax":253,"tools/apiRequest":254}],146:[function(e,t,r){"use strict";var o=a(e("core/browser")),n=a(e("core/Diagnostics")),i=a(e("core/permissions")),s=a(e("core/store"));function a(e){return e&&e.__esModule?e:{default:e}}o.default.runtime.onConnect.addListener(e=>{switch(e.name){case"diagnostics":{let t=t=>{e.postMessage(t)};n.default.addListener(t),e.onDisconnect.addListener(()=>{n.default.removeListener(t)});break}case"permissions":{let t=t=>{e.postMessage(t)};i.default.addListener(t),e.onDisconnect.addListener(()=>{i.default.removeListener(t)});break}case"store":{let t=s.default.subscribe(()=>{let t=s.default.getState();e.postMessage(t)});e.onDisconnect.addListener(()=>{t()});break}}})},{"core/Diagnostics":31,"core/browser":71,"core/permissions":103,"core/store":154}],147:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=f(e("core/browser")),n=f(e("core/ga")),i=f(e("core/log")),s=f(e("core/pac")),a=f(e("core/ShowedOffers")),u=f(e("core/Statistics")),l=f(e("core/storage")),c=f(e("core/store")),d=f(e("tools/versionCompare"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){p(i,o,n,s,a,"next",e)}function a(e){p(i,o,n,s,a,"throw",e)}s(void 0)}))}}const h=window._;let g=new function(){return this.listeners=[],o.default.runtime.onInstalled.addListener(e=>{if("install"===e.reason)this.listeners.forEach(({type:e,callback:t})=>{if("install"===e)t()});else if("update"===e.reason)this.listeners.forEach(({type:t,callback:r})=>{if("update"===t)r(e.previousVersion)})}),{addListener:(e,t)=>{this.listeners.push({type:e,callback:t})},removeListener:e=>{if("string"==typeof e)h.remove(this.listeners,({type:t})=>t===e);else if("function"==typeof e)h.remove(this.listeners,({callback:t})=>t===e)}}};r.default=()=>{g.addListener("install",m((function*(){let e=o.default.runtime.getManifest().version;if((0,i.default)("browser.runtime.onInstalled","install"),(0,n.default)("extension","install",e),yield l.default.ready,l.default.remove("congrats_tab_id"),!u.default.get("installDate"))u.default.set("installDate",Date.now());if(l.default.set("firstPopupOpen","installed"),m((function*(){if(!("undefined"==typeof browser&&!/OPR\//.test(window.navigator.appVersion))){let{id:e}=yield o.default.tabs.create("/pages/congratulations/congratulations.html");return void l.default.set("congrats_tab_id",e)}let e=yield o.default.tabs.query(),t=h.get(e.find(({url:e})=>e&&e.startsWith("https://chrome.google.com/webstore/detail/")&&(e.includes("omghfjlpggmjjaagoclmmobgdodcjboh")||e.includes("ikjnacbhmajnfdhilmdcjdggbcjiimkm"))),"id");if(t)return yield o.default.tabs.update(t,{url:"/pages/congratulations/congratulations.html"}),void l.default.set("congrats_tab_id",t);setTimeout(m((function*(){let{id:e}=yield o.default.tabs.create("/pages/congratulations/congratulations.html");l.default.set("congrats_tab_id",e)})),1e4)}))(),!a.default.includes("apps page"))setTimeout(()=>{l.default.set("installBrowsecOnMobile","ready")},6e5)}))),g.addListener("update",function(){var e=m((function*(e){let t={previous:e,current:o.default.runtime.getManifest().version};if((0,i.default)("browser.runtime.onInstalled","update",t.previous),(0,n.default)("extension","update",t.current),yield c.default.ready,!u.default.get("installDate"))u.default.set("installDate",Date.now());if(!a.default.includes("3.15.1: Android app")&&-1===(0,d.default)(t.previous,"3.15.1"))o.default.tabs.create({url:"/offers/android_app.html",active:!0}).then(()=>{a.default.push("3.15.1: Android app")});s.default.refresh()}));return function(t){return e.apply(this,arguments)}}())}},{"core/ShowedOffers":45,"core/Statistics":47,"core/browser":71,"core/ga":85,"core/log":92,"core/pac":101,"core/storage":151,"core/store":154,"tools/versionCompare":268}],148:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("core/browser")),n=s(e("core/log")),i=e("config");function s(e){return e&&e.__esModule?e:{default:e}}const a=window._,u=(()=>{if("undefined"!=typeof browser)return!1;let e=navigator.userAgent.match(/Chrome\/([0-9]+)/);if(!e)return!1;else return Number(e[1])<41})();let l=[];o.default.runtime.onMessage.addListener((e,t)=>new Promise(r=>{let s=a.get(e,"type");if(!s)return;if("development"===i.type)(0,n.default)("browser.runtime.onMessage",e,t);let c=(()=>{if(u)return t.id===o.default.runtime.id;else return[o.default.runtime.getURL("/popup/popup.html"),o.default.runtime.getURL("/pages/congratulations/congratulations.html"),o.default.runtime.getURL("/pages/diagnostics/diagnostics.html"),o.default.runtime.getURL("/pages/unblock_proxy/unblock_proxy.html")].includes(t.url)})(),d=l.find(e=>e.type===s&&c===Boolean(e.popupOnly));if(!d)return;let f=(0,d.callback)(e,t);if(f instanceof Promise)f.then(r);else r(f)}));var c={addListener:e=>{l.push(e)},removeListener:e=>{switch(typeof e){case"string":a.remove(l,({type:t})=>t===e);break;case"function":a.remove(l,({callback:t})=>t===e)}}};r.default=c},{config:"config","core/browser":71,"core/log":92}],149:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("core/browser")),n=i(e("core/log"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var a=function(){var e,t=(e=function*(e){if(o.default.runtime.setUninstallURL)try{yield o.default.runtime.setUninstallURL(e)}catch(t){if(t.message.includes("Invocation of form runtime.setUninstallURL"))chrome.runtime.setUninstallURL(e);else n.default.error(t)}},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=a},{"core/browser":71,"core/log":92}],150:[function(e,t,r){"use strict";var o=l(e("core/ajaxes")),n=l(e("core/log")),i=l(e("core/pac")),s=l(e("core/store")),a=l(e("core/timemarks")),u=l(e("tools/validateServerList"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){c(i,o,n,s,a,"next",e)}function a(e){c(i,o,n,s,a,"throw",e)}s(void 0)}))}}const f=window._,p=Object.freeze({retry:3e5,refreshFree:216e5,refreshPremium:36e5});let m,h=function(){var e=d((function*(){try{let e=s.default.getState().servers,t=yield o.default.servers(),{valid:r,error:l}=(0,u.default)(f.get(t,"countries"));if(!r)throw new Error(l);if(a.default.set("servers"),s.default.dispatch({type:"Server list update",data:t}),!f.isEqual(t,e))try{yield i.default.refresh()}catch(e){throw new Error("Server list update: failed to update proxy settings")}m=setTimeout(()=>{(0,n.default)("Server list update. Refresh"),h()},s.default.getState().user.premium?p.refreshPremium:p.refreshFree)}catch(e){let t=p.retry/6e4;n.default.warn(`Server list update. Error, retrying in ${t} minutes`,e),m=setTimeout(()=>{(0,n.default)("Server list update. Retry"),h()},p.retry)}}));return function(){return e.apply(this,arguments)}}();d((function*(){if(1)yield s.default.ready,a.default.start({action:h,delay:s.default.getState().user.premium?p.refreshPremium:p.refreshFree,name:"servers"}),s.default.compare(({user:{premium:e}})=>e,e=>{clearTimeout(m),m=setTimeout(()=>{(0,n.default)("Server list update. Refresh"),h()},e?p.refreshPremium:p.refreshFree)})}))()},{"core/ajaxes":57,"core/log":92,"core/pac":101,"core/store":154,"core/timemarks":155,"tools/validateServerList":267}],151:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("core/browser")),n=i(e("tools/jsonParse"));function i(e){return e&&e.__esModule?e:{default:e}}const{_:s}=window;var a=new function(){this.data={},this.ready=o.default.storage.local.get().then(e=>{if("undefined"!=typeof localStorage&&localStorage.length){let t=e;for(let e=0;e<localStorage.length;e++){let r=localStorage.key(e),o=localStorage.getItem(r);t[r]=o}if(t.account)t.account=(0,n.default)(t.account);if(t.authHistory)t.authHistory=(0,n.default)(t.authHistory);if(t.currentConfig)t.currentConfig=(0,n.default)(t.currentConfig);if(t.congrats_tab_id)t.congrats_tab_id=Number(t.congrats_tab_id);if(t.counters)t.counters=(0,n.default)(t.counters);if(t.daysAfterInstall)t.daysAfterInstall=Number(t.daysAfterInstall);if(t.ffLegacyProxy)t.ffLegacyProxy=(0,n.default)(t.ffLegacyProxy);if(t.notificationHidden)t.notificationHidden=Number(t.notificationHidden);if(t.pac)t.pac=(0,n.default)(t.pac);if(t.showedOffers)t.showedOffers=(0,n.default)(t.showedOffers);if(t.statistics)t.statistics=(0,n.default)(t.statistics);if(t.useGa)t.useGa="true"===t.useGa;return o.default.storage.local.set(t).then(()=>{this.data=t,localStorage.clear()})}this.data=e}),this.getItem=e=>s.cloneDeep(this.data[e]),this.get=this.getItem,this.setItem=(e,t)=>{t=s.cloneDeep(t),this.data[e]=t,o.default.storage.local.set({[e]:t})},this.set=this.setItem,this.removeItem=(...e)=>{let t=e.length>1?e:e[0];if("string"==typeof t)t=[t];t.forEach(e=>{delete this.data[e]}),o.default.storage.local.remove(t)},this.remove=this.removeItem};r.default=a},{"core/browser":71,"tools/jsonParse":262}],152:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("config")),n=u(e("tools/hideAccountData")),i=u(e("./getInitialState")),s=u(e("core/log")),a=u(e("core/storage"));function u(e){return e&&e.__esModule?e:{default:e}}const l=window._;r.default=()=>{let e=(0,i.default)();return(t=e,r)=>{switch(r.type){case"Add viewed personal banner":{let{banner:e}=r,o=Array.from(new Set(t.viewedPersonalBanners.concat([e]))).sort();a.default.set("viewed personal banners",o),(0,s.default)("Store: viewed personal banners update. New: ",o,". Old: ",t.viewedPersonalBanners),t=Object.assign({},t,{viewedPersonalBanners:o});break}case"Days after install update":{let e=r.days;(0,s.default)("Store: days after install update. New: ",e,". Old: ",t.daysAfterInstall),t=Object.assign({},t,{daysAfterInstall:e});break}case"Domain change":{let e=r.domain;if("development"===o.default.type)(0,s.default)("Store: domain update. New: ",e,". Old: ",t.domain);t=Object.assign({},t,{domain:e});break}case"Favorites":{let e=r.data.slice();a.default.set("favorites",e),(0,s.default)("Store: favorites update. New: ",e,". Old: ",t.favorites),t=Object.assign({},t,{favorites:e});break}case"PAC update":{let e=l.cloneDeep(r.data);a.default.set("pac",e),(0,s.default)("Store: PAC update. New: ",e,". Old: ",t.pac),t=Object.assign({},t,{pac:e});break}case"Page change":{let e=t.page;(t=Object.assign({},t)).page=r.page,(0,s.default)("Store: page change. New: ",t.page,"Old: ",e);break}case"Ping":{let e=l.cloneDeep(r.data);a.default.set("ping",e),(0,s.default)("Store: ping data update. New: ",e,". Old: ",t.ping),t=Object.assign({},t,{ping:e});break}case"Promotions":{let e=l.cloneDeep(r.data);a.default.set("promotions",e),(0,s.default)("Store: promotions update. New: ",e,". Old: ",t.promotions),t=Object.assign({},t,{promotions:e});break}case"Promotions block":{let e=t.promotionsBlock,o=r.data;a.default.set("promotionsBlock",o),(0,s.default)("Store: Promotions block update. New: ",o,". Old: ",e),t=Object.assign({},t,{promotionsBlock:o});break}case"Server list update":{let e=l.cloneDeep(r.data);a.default.set("currentConfig",e),e=e.countries,(0,s.default)("Store: server list update. ",e),t=Object.assign({},t,{servers:e});break}case"Set prices":{let{prices:e}=r;a.default.set("prices",e),(0,s.default)("Store: prices update. New: ",e,". Old: ",t.prices),t=Object.assign({},t,{prices:e});break}case"Set price trial":{let{priceTrial:e}=r;a.default.set("priceTrial",e),(0,s.default)("Store: price trial update. New: ",e,". Old: ",t.priceTrial),t=Object.assign({},t,{priceTrial:e});break}case"Timezone change":{let e=t.timezoneChange,o=r.data;a.default.set("timezoneChange",o),(0,s.default)("Store: timezone change update. New: ",o,". Old: ",e),t=Object.assign({},t,{timezoneChange:o});break}case"User data change":{let e=t.user,i=l.cloneDeep(r.data);Object.assign(i,{premium:Boolean(i.premium),guest:Boolean(i.guest),validUntil:Date.now()+3e5,version:Date.now()}),a.default.set("account",i);{let t=l.cloneDeep(e),r=l.cloneDeep(i);if("development"!==o.default.type)delete t.email,l.unset(t,"credentials.email"),delete r.email,l.unset(r,"credentials.email");(0,s.default)("Store: account update. New: ",(0,n.default)(r),". Old: ",(0,n.default)(t))}t=Object.assign({},t,{user:i});break}case"WebRTC blocking":{let e=t.webrtcBlock,o=r.data;a.default.set("webrtcBlock",o),(0,s.default)("Store: WebRTC blocking update. New: ",o,". Old: ",e),t=Object.assign({},t,{webrtcBlock:o});break}}return t}}},{"./getInitialState":153,config:"config","core/log":92,"core/storage":151,"tools/hideAccountData":260}],153:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("core/defaultPrices")),n=a(e("servers.json")),i=a(e("core/storage")),s=a(e("tools/validateServerList"));function a(e){return e&&e.__esModule?e:{default:e}}r.default=()=>({daysAfterInstall:(()=>{let e=i.default.get("daysAfterInstall");if(!e)return 0;else return Math.floor((Date.now()-e)/864e5)})(),domain:null,favorites:i.default.get("favorites")||[],pac:(()=>{let e=i.default.get("pac"),t={mode:"direct",country:null,broken:!1,filters:[]};if(e)e.broken=e.broken||!1;else for(;;){let e=i.default.get("connected");if(e&&"off"!==e){t.mode="proxy",t.country=e;break}let r=i.default.get("lastConnected");if(r)t.country=r;break}return e||t})(),page:"index:home",ping:i.default.get("ping")||[],prices:i.default.get("prices")||o.default,priceTrial:i.default.get("priceTrial"),promotions:(()=>{let e=i.default.get("promotions");if(!e||!Array.isArray(e))return[];else return e.filter(e=>(!e.banner||"object"==typeof e.banner&&"string"==typeof e.banner.link&&e.banner&&"object"==typeof e.banner.structure)&&"string"==typeof e.id&&"number"==typeof e.from&&["common","personal"].includes(e.kind)&&(!e.page||"string"==typeof e.page)&&"number"==typeof e.till)})(),promotionsBlock:i.default.get("promotionsBlock")||!1,servers:(()=>{let e=n.default,t=i.default.get("currentConfig");if(!t)return e;t=t.countries;let{valid:r}=(0,s.default)(t);if(r)return t;else return i.default.removeItem("currentConfig"),e})(),timezoneChange:i.default.get("timezoneChange")||!1,user:(()=>{let e=i.default.get("account");if(!e)return{guest:!0,premium:!1};else return e.premium=e.premium||!1,e})(),viewedPersonalBanners:i.default.get("viewed personal banners")||[],webrtcBlock:(()=>{let e=(()=>{let e=i.default.get("webrtcBlock");if("boolean"==typeof e)return e;else return i.default.get("webrtc")})();return"boolean"==typeof e?e:null})()})},{"core/defaultPrices":78,"core/storage":151,"servers.json":248,"tools/validateServerList":267}],154:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=e("redux"),n=a(e("./createReducer")),i=a(e("tools/Deferred")),s=a(e("core/storage"));function a(e){return e&&e.__esModule?e:{default:e}}const u=window._;let l=new function(){this.ready=(0,i.default)();let e=[];this.compare=(t,r)=>{let o={property:t,compare:r};return e.push(o),()=>{u.pull(e,o)}},this.initiate=()=>{let t=(0,o.createStore)((0,n.default)());["dispatch","getState","subscribe"].forEach(e=>{this[e]=t[e].bind(t)});let r=this.getState();this.subscribe(()=>{let t=this.getState(),o=e.reduce((e,{property:o,compare:n},i)=>{let s=[t,r].map(e=>o(e));if(!u.isEqual.apply(u,s))e.push({compare:n,values:s});return e},[]);r=t,o.forEach(({compare:e,values:t})=>{e.apply({},t)})}),this.ready.resolve()}};s.default.ready.then(()=>{l.initiate()});var c=l;r.default=c},{"./createReducer":152,"core/storage":151,redux:19,"tools/Deferred":251}],155:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("core/storage"))&&o.__esModule?o:{default:o};function i(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}var s=new function(){var e=this;let t,r=n.default.ready.then(()=>{t=n.default.get("timemarks")||{},this.get=e=>t[e]});this.set=(e,r=Date.now())=>{t[e]=r,n.default.set("timemarks",t)},this.start=function(){var t,o=(t=function*({action:t,delay:o,getOldMark:n=(()=>{}),name:i}){yield r;let s,a=e.get(i)||n();if(a)s=Date.now()-a;if(!a||"number"==typeof s&&(s<0||s>=o))return{startImmediately:!0,actionPromise:t()};if("number"==typeof s)setTimeout(t,o-s);return{startImmediately:!1}},function(){var e=this,r=arguments;return new Promise((function(o,n){var s=t.apply(e,r);function a(e){i(s,o,n,a,u,"next",e)}function u(e){i(s,o,n,a,u,"throw",e)}a(void 0)}))});return function(e){return o.apply(this,arguments)}}()};r.default=s},{"core/storage":151}],156:[function(e,t,r){"use strict";var o=s(e("core/browser")),n=s(e("core/store")),i=s(e("tools/urlToDomain"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,u,"next",e)}function u(e){a(i,o,n,s,u,"throw",e)}s(void 0)}))}}let l={id:null,url:null,domain:null},c=function(){var e=u((function*(e=null){if(l.url===e)return;l.url=e;let t=(0,i.default)(e);if(l.domain!==t)l.domain=t,yield n.default.ready,n.default.dispatch({type:"Domain change",domain:t})}));return function(){return e.apply(this,arguments)}}();if(o.default.tabs.onActivated)o.default.tabs.onActivated.addListener(function(){var e=u((function*({tabId:e}){let{id:t,url:r}=yield o.default.tabs.get(e);l.id=t,c(r)}));return function(t){return e.apply(this,arguments)}}());if(o.default.tabs.onUpdated)o.default.tabs.onUpdated.addListener((e,t,{url:r})=>{if(l.id===e)c(r)});if(o.default.windows.onFocusChanged)o.default.windows.onFocusChanged.addListener(function(){var e=u((function*(e){if(-1===e)return;let[t]=yield o.default.tabs.query({windowId:e,active:!0});if(!t)return l.id=null,void c();let{id:r,url:n}=t;l.id=r,c(n)}));return function(t){return e.apply(this,arguments)}}());u((function*(){let e=yield o.default.tabs.query({active:!0,currentWindow:!0});if(!e.length)e=yield o.default.tabs.query({active:!0});if(!e.length)return;let{id:t,url:r}=e.pop();l.id=t,c(r)}))()},{"core/browser":71,"core/store":154,"tools/urlToDomain":266}],157:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("core/ga")),n=s(e("core/log")),i=s(e("core/storage"));function s(e){return e&&e.__esModule?e:{default:e}}const a="Check auth limit. ",u="undefined"!=typeof browser?200:10;r.default=e=>{let{challenger:{host:t},timeStamp:r}=e,s=i.default.get("authHistory")||{},l=!1,c=s[t];if(!c||!c.periodStart||!c.authRequestsNum)c=s[t]={periodStart:r,authRequestsNum:1},(0,n.default)(a+"No host auth history. Create record: ",c);else{if((0,n.default)(a+"Host history record already exists: ",c),r-c.periodStart>1e4)(0,n.default)(a+"Time frame already finished. Create new row."),c.periodStart=r,c.authRequestsNum=1;else if((0,n.default)(a+"We are still in tracked time frame. Increase auth requests counter"),c.authRequestsNum++,c.authRequestsNum>=u)(0,n.default)(a+"Limit exceeded. Return true and clear host auth history"),delete c.periodStart,delete c.authRequestsNum,(0,o.default)("auth_request_limit_exceeded"),l=!0}return(0,n.default)(a+"Save auth history: ",s),i.default.set("authHistory",s),l}},{"core/ga":85,"core/log":92,"core/storage":151}],158:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("core/browser")),n=a(e("./onAuthRequired")),i=a(e("./onBeforeSendHeaders")),s=a(e("./onCompleted"));function a(e){return e&&e.__esModule?e:{default:e}}r.default=e=>{if(o.default.webRequest)(0,n.default)(e),(0,i.default)(),(0,s.default)()}},{"./onAuthRequired":159,"./onBeforeSendHeaders":160,"./onCompleted":161,"core/browser":71}],159:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=f(e("core/browser")),n=f(e("./checkAuthLimitExceeded")),i=f(e("config")),s=f(e("core/ga")),a=f(e("tools/internationalize")),u=f(e("core/log")),l=f(e("core/pac")),c=f(e("core/storage")),d=f(e("core/store"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}const m=window._;r.default=e=>{if(o.default.webRequest.onAuthRequired&&o.default.proxy)o.default.webRequest.onAuthRequired.addListener(e=>new Promise(function(){var t,r=(t=function*(t){{let t=m.cloneDeep(e);if("development"!==i.default.type)delete t.ip,delete t.url;(0,u.default)("onAuthRequired. Details",t)}if(!e.isProxy||"Browsec"!==e.realm)return void t();let{credentials:r}=d.default.getState().user,o=m.get(r,"email"),f=m.get(r,"access_token");if(!o||!f)return l.default.disable(),(0,s.default)("extension","auth_error"),void alert((0,a.default)("cant_authenticate_please_contact_browsec_support"));if(yield c.default.ready,(0,n.default)(e))l.default.disable(),(0,s.default)("extension","auth_limit_error"),alert((0,a.default)("premium_server_authentication_error"));else{if("development"!==i.default.type)(0,u.default)("Authenticate on proxy with email");else(0,u.default)("Authenticate on proxy with email: ",o);t({authCredentials:{username:o,password:f}})}},function(){var e=this,r=arguments;return new Promise((function(o,n){var i=t.apply(e,r);function s(e){p(i,o,n,s,a,"next",e)}function a(e){p(i,o,n,s,a,"throw",e)}s(void 0)}))});return function(e){return r.apply(this,arguments)}}()),"<all_urls>","asyncBlocking")}},{"./checkAuthLimitExceeded":157,config:"config","core/browser":71,"core/ga":85,"core/log":92,"core/pac":101,"core/storage":151,"core/store":154,"tools/internationalize":261}],160:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("core/browser")),n=a(e("config")),i=a(e("tools/encodeTokenCredentials")),s=a(e("core/store"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){u(i,o,n,s,a,"next",e)}function a(e){u(i,o,n,s,a,"throw",e)}s(void 0)}))}}var c=l((function*(){yield s.default.ready,o.default.webRequest.onBeforeSendHeaders.addListener(({url:e,requestHeaders:t})=>{if(!e.includes("/api/")&&!e.includes("/assets/")){t.push({name:"X-Browsec-Installed",value:"1"});let{credentials:e}=s.default.getState().user;if(e)t.push({name:"Authorization",value:(0,i.default)(e)})}return{requestHeaders:t}},n.default.baseUrl+"/*",["blocking","requestHeaders"])}));r.default=c},{config:"config","core/browser":71,"core/store":154,"tools/encodeTokenCredentials":256}],161:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("core/browser")),n=a(e("core/Counters")),i=a(e("core/store")),s=a(e("tools/urlToDomain"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}r.default=()=>{o.default.webRequest.onCompleted.addListener(function(){var e,t=(e=function*({url:e}){let t=(0,s.default)(e);if(!t)return;yield i.default.ready;let{mode:r,filters:o}=i.default.getState().pac,a=o.find(({disabled:e,domain:r})=>!e&&t.endsWith(r));if(!a||a.proxyMode)if("direct"!==r||a)n.default.increase("proxied pages")},function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){u(i,o,n,s,a,"next",e)}function a(e){u(i,o,n,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),{urls:["<all_urls>"],types:["main_frame"]})}},{"core/Counters":25,"core/browser":71,"core/store":154,"tools/urlToDomain":266}],162:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("core/ajaxes")),n=a(e("core/browser")),i=a(e("core/log")),s=a(e("core/store"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){u(i,o,n,s,a,"next",e)}function a(e){u(i,o,n,s,a,"throw",e)}s(void 0)}))}}const c=Object.freeze(["controllable_by_this_extension","controlled_by_this_extension"]);let d=l((function*(){if("undefined"!=typeof browser){let{version:e}=yield n.default.runtime.getBrowserInfo();return Number(e.split(".")[0])>55}try{return new ImageData(100,100),!0}catch(e){return!1}}))(),f=function(){var e=l((function*(){if(!(yield d))return"not available";let{permissions:e}=yield n.default.permissions.getAll();if(!e.includes("privacy"))return"permission not granted";let t=n.default.privacy.network,{levelOfControl:r}=yield t.webRTCIPHandlingPolicy.get();return c.includes(r)?"controlled":"not controlled"}));return function(){return e.apply(this,arguments)}}(),p=e=>{s.default.dispatch({type:"WebRTC blocking",data:e});let t=s.default.getState().user.credentials;if(t)o.default.setWebrtcBlock({credentials:t,webrtcBlock:e})};var m=new function(){var e=this;this.get=()=>s.default.getState().webrtcBlock,this.getControlState=f;let t=function(){var t=l((function*(t){n.default.resetAPI("privacy"),yield e.set(t)}));return function(e){return t.apply(this,arguments)}}();this.set=function(){var e=l((function*(e){if("controlled"!==(yield f()))throw new Error("WebRTC settings are controlled by another extension");let t=n.default.privacy.network,r=yield l((function*(){if(!e)return"default";if("undefined"==typeof browser)return"disable_non_proxied_udp";let{version:t}=yield n.default.runtime.getBrowserInfo();return Number(t.split(".")[0])>=70?"proxy_only":"disable_non_proxied_udp"}))();yield t.webRTCIPHandlingPolicy.set({value:r})}));return function(t){return e.apply(this,arguments)}}(),this.enable=l((function*(){let e="proxy"===s.default.getState().pac.mode;yield t(e),p(!0)})),this.disable=l((function*(){yield t(!1),p(!1)})),d.then(e=>{Object.defineProperty(this,"available",{get:()=>e})}),s.default.ready.then(l((function*(){s.default.compare(({pac:e})=>"proxy"===e.mode,function(){var t=l((function*(t){if(e.get())try{yield e.set(t)}catch(e){}}));return function(e){return t.apply(this,arguments)}}());let t=e.get();if(null!==t)if("controlled"===(yield e.getControlState()))l((function*(){try{if(t)yield e.enable();else yield e.disable()}catch(e){i.default.warn("Initial WebRTC setup failed")}}))()})))};r.default=m},{"core/ajaxes":57,"core/browser":71,"core/log":92,"core/store":154}],163:[function(e,t,r){"use strict";t.exports=()=>{let e,t,r=new Promise((r,o)=>{e=r,t=o});return r.resolve=e,r.reject=t,r}},{}],164:[function(e,t,r){"use strict";const o=e("../bindObjects"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.accessibilityFeatures||i)return n.accessibilityFeatures;else return o({},n.accessibilityFeatures,["animationPolicy","autoclick","caretHighlight","cursorHighlight","focusHighlight","highContrast","largeCursor","screenMagnifier","selectToSpeak","spokenFeedback","stickyKeys","switchAccess","virtualKeyboard"])}},{"../bindObjects":234,"../ns":238,"../promiseSupport":239}],165:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.alarms||i)return n.alarms;else return o({},n.bookmarks,{objects:["onAlarm"],methods:["create"],promises:{0:["getAll","clearAll"],"0-1":["clear","get"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],166:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.bookmarks||i)return n.bookmarks;else return o({},n.bookmarks,{objects:["onCreated","onRemoved","onChanged","onMoved","onChildrenReordered","onImportBegan","onImportEnded"],promises:{0:["getTree"],1:["create","get","getChildren","getRecent","getSubTree","removeTree","search"],2:["move","update"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],167:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../bindMethods"),i=e("../bindPromiseReturn"),s=e("../ns"),a=e("../promiseSupport"),u=e("../transform");t.exports=()=>{if(!s.browserAction)return;let e=o({},s.browserAction,{objects:["onClicked"],methods:["setTitle","setPopup","enable","disable"]});if(!a)i(e,s.browserAction,{1:["setIcon"]});else n(e,s.browserAction,["setIcon"]);if(s.browserAction.setBadgeText)e.setBadgeText=e=>{if("number"==typeof e||"string"==typeof e)e={text:String(e)};s.browserAction.setBadgeText(e)},e.removeBadgeText=()=>{e.setBadgeText("")};if(s.browserAction.setBadgeBackgroundColor)e.setBadgeBackgroundColor=e=>{if("string"==typeof e||Array.isArray(e))e={color:e};s.browserAction.setBadgeBackgroundColor(e)};return u(["getBadgeText","getTitle","getPopup","getBadgeBackgroundColor"],(e,t)=>{if(s.browserAction[t])e[t]=(e={})=>{if("number"==typeof e)e={tabId:e};return!a?new Promise(r=>{s.browserAction[t](e,r)}):s.browserAction[t](e)}},e)}},{"../bindAll":230,"../bindMethods":233,"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239,"../transform":240}],168:[function(e,t,r){"use strict";const o=e("../ns");t.exports=()=>o.browserSettings},{"../ns":238}],169:[function(e,t,r){"use strict";const o=e("../bindPromiseReturn"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.browsingData||i)return n.browsingData;else return o({},n.browsingData,{0:["settings"],1:["removeAppcache","removeCache","removeCookies","removeDownloads","removeFileSystems","removeFormData","removeHistory","removeIndexedDB","removeLocalStorage","removePluginData","removePasswords","removeWebSQL"],2:["remove"]})}},{"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239}],170:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.certificateProvider||i)return n.certificateProvider;else return o({},n.certificateProvider,{objects:["onCertificatesRequested","onSignDigestRequested"],promises:{1:["requestPin","stopPinRequest"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],171:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.commands||i)return n.commands;else return o({},n.commands,{objects:["onCommand"],promises:{0:["getAll"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],172:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.contextMenus||i)return n.contextMenus;return o({get ACTION_MENU_TOP_LEVEL_LIMIT(){return n.contextMenus.ACTION_MENU_TOP_LEVEL_LIMIT}},n.contextMenus,{objects:["onClicked"],fullPromises:{1:["create","remove"],2:["update"]},promises:{0:["removeAll"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],173:[function(e,t,r){"use strict";const o=e("../bindMethods"),n=e("../ns");t.exports=()=>{if(!n.contextualIdentities)return;let e=o({},n.contextualIdentities,["create","get","remove","update"]);if(n.contextualIdentities.query)e.query=e=>{if("string"==typeof e)e={name:e};return n.contextualIdentities.query(e)};return e}},{"../bindMethods":233,"../ns":238}],174:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.cookies||i)return n.cookies;else return o({},n.cookies,{objects:["onChanged"],promises:{0:["getAllCookieStores"],1:["get","getAll","set","remove"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],175:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.debugger||i)return n.debugger;else return o({},n.debugger,{objects:["onDetach","onEvent"],promises:{0:["getTargets"],1:["detach"],2:["attach"],"2-3":["sendCommand"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],176:[function(e,t,r){"use strict";const o=e("../bindObjects"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.declarativeContent||i)return n.declarativeContent;else return o({},n.declarativeContent,["onPageChanged"])}},{"../bindObjects":234,"../ns":238,"../promiseSupport":239}],177:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../Deferred"),i=e("../ns"),s=e("../promiseSupport");t.exports=()=>{if(!i.desktopCapture||s)return i.desktopCapture;let e=o({},i.desktopCapture,{methods:["cancelChooseDesktopMedia"]});return e.chooseDesktopMedia=(...e)=>{let t=n(),r=(()=>{let t=(()=>{let t=e.length>1?e.length:1;if(t>2)t=2;return t})();return Array.apply(Array,Array(t)).map((t,r)=>e[r])})();return r.push((e,r={})=>{t.resolve(Object.assign({},r,{streamId:e}))}),t.desktopMediaRequestId=i.desktopCapture.chooseDesktopMedia.apply(i.desktopCapture,r),t},e}},{"../Deferred":163,"../bindAll":230,"../ns":238,"../promiseSupport":239}],178:[function(e,t,r){"use strict";const o=e("../../ns"),n=e("./inspectedWindow"),i=e("./network"),s=e("./panels");t.exports=()=>{if(o.devtools)return{inspectedWindow:n(),network:i(),panels:s()}}},{"../../ns":238,"./inspectedWindow":179,"./network":180,"./panels":181}],179:[function(e,t,r){"use strict";const o=e("../../bindAll"),n=e("../../ns"),i=e("../../promiseSupport");t.exports=()=>{if(!n.devtools.inspectedWindow||i)return n.devtools.inspectedWindow;return o({get tabId(){return n.devtools.inspectedWindow.tabId}},n.devtools.inspectedWindow,{objects:["onResourceAdded","onResourceContentCommitted"],methods:["reload"],promises:{0:["getResources"],"1-2":["eval"]}})}},{"../../bindAll":230,"../../ns":238,"../../promiseSupport":239}],180:[function(e,t,r){"use strict";const o=e("../../bindAll"),n=e("../../ns"),i=e("../../promiseSupport");t.exports=()=>{if(!n.devtools.network||i)return n.devtools.network;else return o({},n.devtools.network,{objects:["onNavigated","onRequestFinished"],promises:{0:["getHAR"]}})}},{"../../bindAll":230,"../../ns":238,"../../promiseSupport":239}],181:[function(e,t,r){"use strict";const o=e("../../bindPromiseReturn"),n=e("../../ns"),i=e("../../promiseSupport");t.exports=()=>{if(!n.devtools.panels||i)return n.devtools.panels;return o({get elements(){return n.devtools.panels.elements},get sources(){return n.devtools.panels.sources},get themeName(){return n.devtools.panels.themeName}},n.devtools.panels,{0:["setOpenResourceHandler"],2:["openResource"],3:["create"]})}},{"../../bindPromiseReturn":235,"../../ns":238,"../../promiseSupport":239}],182:[function(e,t,r){"use strict";const o=e("../bindPromiseReturn"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.documentScan||i)return n.documentScan;else return o({},n.documentScan,{1:["documentScan"]})}},{"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239}],183:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.downloads||i)return n.downloads;else return o({},n.downloads,{objects:["onCreated","onErased","onChanged","onDeterminingFilename"],methods:["drag","open","setShelfEnabled","show","showDefaultFolder"],promises:{1:["acceptDanger","cancel","download","erase","pause","removeFile","resume","search"],"1-2":["getFileIcon"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],184:[function(e,t,r){"use strict";const o=e("../../bindPromiseReturn"),n=e("../../ns"),i=e("../../promiseSupport");t.exports=()=>{if(!n.enterprise.deviceAttributes||i)return n.enterprise.deviceAttributes;else return o({},n.enterprise.deviceAttributes,{0:["getDirectoryDeviceId"]})}},{"../../bindPromiseReturn":235,"../../ns":238,"../../promiseSupport":239}],185:[function(e,t,r){"use strict";const o=e("../../ns"),n=e("./deviceAttributes"),i=e("./platformKeys");t.exports=()=>{if(o.enterprise)return{deviceAttributes:n(),platformKeys:i()}}},{"../../ns":238,"./deviceAttributes":184,"./platformKeys":186}],186:[function(e,t,r){"use strict";const o=e("../../bindPromiseReturn"),n=e("../../ns"),i=e("../../promiseSupport");t.exports=()=>{if(!n.enterprise.platformKeys||i)return n.enterprise.platformKeys;else return o({},n.enterprise.platformKeys,{0:["getTokens"],1:["getCertificates"],2:["challengeUserKey","importCertificate","removeCertificate"],"1-2":["challengeMachineKey"]})}},{"../../bindPromiseReturn":235,"../../ns":238,"../../promiseSupport":239}],187:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.extension||i)return n.extension;return o({get lastError(){return n.extension.lastError},get inIncognitoContext(){return n.extension.inIncognitoContext}},n.extension,{methods:["getViews","getBackgroundPage","getURL","setUpdateUrlData"],promises:{0:["isAllowedIncognitoAccess","isAllowedFileSchemeAccess"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],188:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.fileBrowserHandler||i)return n.fileBrowserHandler;else return o({},n.fileBrowserHandler,{objects:["onExecute"],promises:{1:["selectFile"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],189:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.fileSystemProvider||i)return n.fileSystemProvider;else return o({},n.fileSystemProvider,{objects:["onAbortRequested","onAddWatcherRequested","onCloseFileRequested","onCreateDirectoryRequested","onCreateFileRequested","onConfigureRequested","onCopyEntryRequested","onDeleteEntryRequested","onExecuteActionRequested","onGetActionsRequested","onGetMetadataRequested","onMountRequested","onMoveEntryRequested","onOpenFileRequested","onReadDirectoryRequested","onReadFileRequested","onRemoveWatcherRequested","onTruncateRequested","onUnmountRequested","onWriteFileRequested"],promises:{0:["getAll"],1:["get","mount","notify","unmount"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],190:[function(e,t,r){"use strict";const o=e("../ns");t.exports=()=>o.find},{"../ns":238}],191:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.fontSettings||i)return n.fontSettings;else return o({},n.fontSettings,{objects:["onDefaultFixedFontSizeChanged","onDefaultFontSizeChanged","onFontChanged","onMinimumFontSizeChanged"],promises:{0:["getFontList"],1:["clearFont","getFont","setDefaultFixedFontSize","setDefaultFontSize","setMinimumFontSize","setFont"],"0-1":["clearDefaultFixedFontSize","clearDefaultFontSize","clearMinimumFontSize","getDefaultFixedFontSize","getDefaultFontSize","getMinimumFontSize"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],192:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.gcm||i)return n.gcm;else return o({},n.gcm,{methods:["onMessage","onMessagesDeleted","onSendError"],promises:{0:["unregister"],1:["register","send"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],193:[function(e,t,r){"use strict";const o=e("../bindMethods"),n=e("../bindObjects"),i=e("../bindPromiseReturn"),s=e("../ns"),a=e("../promiseSupport"),u=e("../transform");t.exports=()=>{if(!s.history)return;let e=n({},s.history,["onVisited","onVisitRemoved"]);if(!a)i(e,s.history,{0:["deleteAll"],1:["deleteRange","search"]});else o(e,s.history,["deleteAll","deleteRange","search"]);return u(["addUrl","deleteUrl","getVisits"],(e,t)=>{if(s.history[t])e[t]=e=>{if("string"==typeof e)e={url:e};return!a?new Promise(r=>{s.history[t](e,r)}):s.history[t](e)}},e)}},{"../bindMethods":233,"../bindObjects":234,"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239,"../transform":240}],194:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.i18n||i)return n.i18n;let e=o({},n.i18n,{methods:["getMessage"],promises:{0:["getAcceptLanguages"],1:["detectLanguage"]}});return e.getUILanguage=()=>n.i18n.getUILanguage&&n.i18n.getUILanguage()||navigator.language||navigator.userLanguage,e}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],195:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../bindMethods"),i=e("../bindPromiseReturn"),s=e("../ns"),a=e("../promiseSupport");t.exports=()=>{if(!s.identity)return;let e=o({},s.identity,{objects:["onSignInChanged"],methods:["getRedirectURL"]});if(!a)i(e,s.identity,{0:["getAccounts","getProfileUserInfo"],"0-1":["getAuthToken"],1:["launchWebAuthFlow"]});else n(e,s.identity,["getAccounts","getProfileUserInfo","getAuthToken","launchWebAuthFlow"]);if(s.identity.removeCachedAuthToken)e.removeCachedAuthToken=e=>{if("string"==typeof e)e={token:e};return!a?new Promise(t=>{s.identity.removeCachedAuthToken(e,t)}):s.identity.removeCachedAuthToken(e)};return e}},{"../bindAll":230,"../bindMethods":233,"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239}],196:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.idle||i)return n.idle;else return o({},n.idle,{objects:["onStateChanged"],methods:["setDetectionInterval"],promises:{1:["queryState"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],197:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(n.input&&n.input.ime)if(i)return n.input.ime;else return o({},n.input.ime,{objects:["onActivate","onBlur","onCandidateClicked","onCompositionBoundsChanged","onDeactivated","onFocus","onInputContextUpdate","onKeyEvent","onMenuItemActivated","onReset","onSurroundingTextChanged"],methods:["hideInputView","keyEventHandled"],promises:{0:["activate","deactivate"],1:["clearComposition","commitText","createWindow","deleteSurroundingText","hideWindow","sendKeyEvents","setMenuItems","setCandidates","setCandidateWindowProperties","setComposition","setCursorPosition","showWindow","updateMenuItems"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],198:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.instanceID||i)return n.instanceID;else return o({},n.instanceID,{objects:["onTokenRefresh"],promises:{0:["deleteID","getCreationTime","getID"],1:["deleteToken","getToken"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],199:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.management||i)return n.management;else return o({},n.management,{objects:["onInstalled","onUninstalled","onEnabled","onDisabled","ExtensionInfo"],promises:{0:["getAll","getSelf"],1:["get","getPermissionWarningsById","getPermissionWarningsByManifest","uninstallSelf","launchApp","createAppShortcut"],2:["setEnabled","uninstall","setLaunchType","generateAppForLink"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],200:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(n.networking&&n.networking.config)if(i)return n.networking.config;else return o({},n.networking.config,{objects:["onCaptivePortalDetected"],promises:{1:["setNetworkFilter"],2:["finishAuthentication"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],201:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.notifications||i)return n.notifications;else return o({},n.notifications,{objects:["onClosed","onClicked","onButtonClicked","onPermissionLevelChanged","onShowSettings"],promises:{0:["getAll","getPermissionLevel"],1:["clear"],"1-2":["create"],2:["update"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],202:[function(e,t,r){"use strict";const o=e("../ns");t.exports=()=>o.omnibox},{"../ns":238}],203:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../bindMethods"),i=e("../bindPromiseReturn"),s=e("../ns"),a=e("../promiseSupport"),u=e("../transform");t.exports=()=>{if(!s.pageAction)return;let e=o({},s.pageAction,{objects:["onClicked"],methods:["hide","show","setTitle","setPopup"]});if(!a)i(e,s.pageAction,{1:["setIcon"]});else n(e,s.pageAction,["setIcon"]);return u(["getTitle","getPopup"],(e,t)=>{if(s.pageAction[t])e[t]=e=>{if("number"==typeof e)e={tabId:e};return!a?new Promise(r=>{s.pageAction[t](e,r)}):s.pageAction[t](e)}},e)}},{"../bindAll":230,"../bindMethods":233,"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239,"../transform":240}],204:[function(e,t,r){"use strict";const o=e("../bindPromiseReturn"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.pageCapture||i)return n.pageCapture;else return o({},n.pageCapture,{1:["saveAsMHTML"]})}},{"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239}],205:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=e=>{if(!n.permissions||i)return n.permissions;let t=o({},n.permissions,{objects:["onAdded","onRemoved"],promises:{0:["getAll"],1:["contains","remove"]}});return t.request=t=>{let r=t.permissions||null;return new Promise((o,i)=>{n.permissions.request(t,t=>{if(!n.runtime.lastError){if(t)r.forEach(t=>{e.resetAPI(t)});o(t)}else i(n.runtime.lastError)})})},t}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],206:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.platformKeys||i)return n.platformKeys;else return o({},n.platformKeys,{methods:["subtleCrypto"],promises:{1:["selectClientCertificates","verifyTLSServerCertificate"],2:["getKeyPair"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],207:[function(e,t,r){"use strict";const o=e("../bindMethods"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.power||i)return n.power;else return o({},n.power,["releaseKeepAwake","requestKeepAwake"])}},{"../bindMethods":233,"../ns":238,"../promiseSupport":239}],208:[function(e,t,r){"use strict";const o=e("../bindObjects"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.printerProvider||i)return n.printerProvider;else return o({},n.printerProvider,["onGetCapabilityRequested","onGetPrintersRequested","onGetUsbPrinterInfoRequested","onPrintRequested"])}},{"../bindObjects":234,"../ns":238,"../promiseSupport":239}],209:[function(e,t,r){"use strict";const o=e("../bindBrowserSettings"),n=e("../buildBrowserSetting"),i=e("../ns"),s=e("../transform");t.exports=()=>{let e={};if(!i.privacy)return i.privacy;if(s(["IPHandlingPolicy","services","websites"],(e,t)=>{e[t]=i.privacy[t]},e),i.privacy.network){let t=o({},i.privacy.network,["networkPredictionEnabled","peerConnectionEnabled"]);if(i.privacy.network.webRTCIPHandlingPolicy)t.webRTCIPHandlingPolicy=n(i.privacy.network.webRTCIPHandlingPolicy);else if(i.privacy.network.webRTCNonProxiedUdpEnabled||i.privacy.network.webRTCMultipleRoutesEnabled)o(t,i.privacy.network,["webRTCNonProxiedUdpEnabled","webRTCMultipleRoutesEnabled"]);e.network=t}if(i.privacy.websites){let t=o({},i.privacy.websites,["hyperlinkAuditingEnabled","thirdPartyCookiesAllowed","referrersEnabled","protectedContentEnabled"]);e.websites=t}if(i.privacy.services){let t=o({},i.privacy.services,["alternateErrorPagesEnabled","autofillEnabled","hotwordSearchEnabled","passwordSavingEnabled","safeBrowsingEnabled","safeBrowsingExtendedReportingEnabled","searchSuggestEnabled","spellingServiceEnabled","translationServiceEnabled"]);e.services=t}return e}},{"../bindBrowserSettings":231,"../buildBrowserSetting":237,"../ns":238,"../transform":240}],210:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../promiseSupport"),i=e("../ns");t.exports=()=>{if("object"!=typeof i.proxy)return i.proxy;if(n)return o({onError:i.proxy.onError||i.proxy.onProxyError},i.proxy,{methods:["register","registerProxyScript","unregister"],objects:["onProxyError","onRequest","settings"]});else return o({onError:i.proxy.onError||i.proxy.onProxyError},i.proxy,{objects:["onProxyError"],browserSettings:["settings"]})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],211:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.runtime||i)return n.runtime;let e={get lastError(){return n.runtime.lastError}};if(o(e,n.runtime,{objects:["id","onStartup","onInstalled","onSuspend","onSuspendCanceled","onUpdateAvailable","onConnect","onConnectExternal","onMessageExternal"],methods:["getManifest","getURL","reload","restart","connect","connectNative"],promises:{0:["openOptionsPage","requestUpdateCheck","getPlatformInfo","getPackageDirectoryEntry"],1:["setUninstallURL","restartAfterDelay"],2:["sendNativeMessage"],"1-3":["sendMessage"]}}),n.runtime.onRestartRequired||n.runtime.onBrowserUpdateAvailable)e.onRestartRequired=n.runtime.onRestartRequired||n.runtime.onBrowserUpdateAvailable;e.onMessage={};{let t=[];e.onMessage.addListener=e=>{let r=(t,r,o)=>{let n=e(t,r,o);if(n instanceof Promise)n.then(e=>{o(e)});return!0};n.runtime.onMessage.addListener(r),t.push({original:e,modified:r})},e.onMessage.hasListener=e=>Boolean(t.find(({original:t})=>t===e)),e.onMessage.removeListener=e=>{let r=t.filter(({original:t})=>t===e);if(r.length)t=t.filter(({original:t})=>t!==e),r.forEach(({modified:e})=>{n.runtime.onMessage.removeListener(e)})}}return e.getBackgroundPage=()=>{let e,t=new Promise(t=>{e=n.runtime.getBackgroundPage(e=>{t(e)})});return e||t},e}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],212:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.sessions||i)return n.sessions;return o({get MAX_SESSION_RESULTS(){return n.sessions.MAX_SESSION_RESULTS}},n.sessions,{objects:["onChanged"],promises:{"0-1":["getDevices","getRecentlyClosed","restore"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],213:[function(e,t,r){"use strict";const o=e("../bindMethods"),n=e("../ns"),i=e("../transform");t.exports=()=>{if(!n.sidebarAction)return;let e=o({},n.sidebarAction,["setPanel","setTitle","setIcon"]);return i(["getPanel","getTitle"],(e,t)=>{if(n.sidebarAction[t])e[t]=(e={})=>{if("number"==typeof e)e={tabId:e};return n.sidebarAction[t](e)}},e)}},{"../bindMethods":233,"../ns":238,"../transform":240}],214:[function(e,t,r){"use strict";const o=e("../bindObjects"),n=e("../bindPromiseReturn"),i=e("../ns"),s=e("../promiseSupport"),a=e("../transform");t.exports=()=>{if(!i.storage||s)return i.storage;let e=o({},i.storage,["onChanged"]);return a(["sync","local","managed"],(e,t)=>{if(i.storage[t])e[t]=n({},i.storage[t],{0:["clear"],1:["remove","set","get","getBytesInUse"]})},e)}},{"../bindObjects":234,"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239,"../transform":240}],215:[function(e,t,r){"use strict";const o=e("../../bindPromiseReturn"),n=e("../../ns"),i=e("../../promiseSupport");t.exports=()=>{if(!n.system.cpu||i)return n.system.cpu;else return o({},n.system.cpu,{0:["getInfo"]})}},{"../../bindPromiseReturn":235,"../../ns":238,"../../promiseSupport":239}],216:[function(e,t,r){"use strict";const o=e("../../ns"),n=e("./cpu"),i=e("./memory"),s=e("./storage");t.exports=()=>{if(o.system)return{cpu:n(),memory:i(),storage:s()}}},{"../../ns":238,"./cpu":215,"./memory":217,"./storage":218}],217:[function(e,t,r){"use strict";const o=e("../../bindPromiseReturn"),n=e("../../ns"),i=e("../../promiseSupport");t.exports=()=>{if(!n.system.memory||i)return n.system.memory;else return o({},n.system.memory,{0:["getInfo"]})}},{"../../bindPromiseReturn":235,"../../ns":238,"../../promiseSupport":239}],218:[function(e,t,r){"use strict";const o=e("../../bindAll"),n=e("../../ns"),i=e("../../promiseSupport");t.exports=()=>{if(!n.system.storage||i)return n.system.storage;else return o({},n.system.storage,{objects:["onAttached","onDetached"],promises:{0:["getInfo"],1:["ejectDevice","getAvailableCapacity"]}})}},{"../../bindAll":230,"../../ns":238,"../../promiseSupport":239}],219:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.tabCapture||i)return n.tabCapture;else return o({},n.tabCapture,{objects:["onStatusChanged"],promises:{0:["getCapturedTabs"],1:["capture"],2:["captureOffscreenTab"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],220:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../bindFullPromiseReturn"),i=e("../bindMethods"),s=e("../bindPromiseReturn"),a=e("../ns"),u=e("../promiseSupport");t.exports=()=>{if(!a.tabs)return;let e=o({},a.tabs,{objects:["onCreated","onUpdated","onMoved","onSelectionChanged","onActiveChanged","onActivated","onHighlightChanged","onHighlighted","onDetached","onAttached","onRemoved","onReplaced","onZoomChange","TAB_ID_NONE"],methods:["connect"]});if(!u)s(e,a.tabs,{0:["getCurrent"],1:["duplicate","highlight","remove","detectLanguage","getZoom","discard"],2:["update","move","captureVisibleTab","executeScript","insertCSS","setZoom","setZoomSettings"],"2-3":["sendMessage"]}),n(e,a.tabs,{1:["get"]});else i(e,a.tabs,["getCurrent","get","duplicate","highlight","remove","detectLanguage","getZoom","discard","update","move","captureVisibleTab","executeScript","insertCSS","setZoom","setZoomSettings","sendMessage"]);if(a.tabs.create)e.create=e=>{if("string"==typeof e)e={url:e};return!u?new Promise(t=>{a.tabs.create(e,t)}):a.tabs.create(e)};if(a.tabs.query)e.query=(e={})=>!u?new Promise(t=>{a.tabs.query(e,t)}):a.tabs.query(e);if(a.tabs.reload){let t=!u?n({},a.tabs,{"0-2":["reload"]}).reload:a.tabs.reload.bind(a.tabs);e.reload=(...e)=>{let r,o;if(2===e.length)[r,o]=e;else if(1===e.length){let[t]=e;if("boolean"==typeof t)o=t;else if("number"==typeof t)r=t;else if(Array.isArray(t))r=t;else if(t&&"object"==typeof t)o=t}if(void 0!==r&&!Array.isArray(r))r=[r];if("boolean"==typeof o)o={bypassCache:o};if(r)return Promise.all(r.map(e=>{let r=[e];if(o)r.push(o);return t.apply({},r)}));else{if(e=[],o)e.push(o);return t.apply({},e)}}}return e}},{"../bindAll":230,"../bindFullPromiseReturn":232,"../bindMethods":233,"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239}],221:[function(e,t,r){"use strict";const o=e("../ns");t.exports=()=>o.theme},{"../ns":238}],222:[function(e,t,r){"use strict";const o=e("../bindPromiseReturn"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.topSites||i)return n.topSites;else return o({},n.topSites,{0:["get"]})}},{"../bindPromiseReturn":235,"../ns":238,"../promiseSupport":239}],223:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.tts||i)return n.tts;else return o({},n.tts,{methods:["pause","resume","stop"],promises:{0:["getVoices","isSpeaking"],"1-2":["speak"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],224:[function(e,t,r){"use strict";const o=e("../bindObjects"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.ttsEngine||i)return n.ttsEngine;else return o({},n.ttsEngine,["onPause","onResume","onSpeak","onStop"])}},{"../bindObjects":234,"../ns":238,"../promiseSupport":239}],225:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.vpnProvider||i)return n.vpnProvider;else return o({},n.vpnProvider,{objects:["onConfigCreated","onConfigRemoved","onPacketReceived","onPlatformMessage","onUIEvent"],promises:{1:["createConfig","destroyConfig","notifyConnectionStateChanged","sendPacket","setParameters"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],226:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.webNavigation||i)return n.webNavigation;let e={};return o(e,n.webNavigation,{objects:["onBeforeNavigate","onCommitted","onDOMContentLoaded","onCompleted","onErrorOccurred","onCreatedNavigationTarget","onReferenceFragmentUpdated","onTabReplaced","onHistoryStateUpdated"],promises:{1:["getFrame","getAllFrames"]}}),e}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],227:[function(e,t,r){"use strict";const o=e("../bindMethods"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.webRequest)return;let e={};if(n.webRequest.onAuthRequired){let t=[];e.onAuthRequired={addListener:(...e)=>{if("string"==typeof e[1])e[1]={urls:[e[1]]};else if(Array.isArray(e[1]))e[1]={urls:e[1]};if(3===e.length&&"string"==typeof e[2])e[2]=[e[2]];let r=e[0],o=3===e.length&&e[2].includes("asyncBlocking");if(o&&i)e[2]=e[2].map(e=>"asyncBlocking"===e?"blocking":e);let s=r;if(o&&!i){let t=e[0],r=(e,r)=>{t(e).then(r)};e[0]=s=r}return t.push({original:r,modified:s}),n.webRequest.onAuthRequired.addListener.apply(n.webRequest.onAuthRequired,e)},hasListener:e=>Boolean(t.find(({original:t})=>t===e)),removeListener:e=>{let r=t.filter(({original:t})=>t===e);t=t.filter(({original:t})=>t!==e),r.forEach(({modified:e})=>{n.webRequest.onAuthRequired.removeListener(e)})}}}return["onBeforeRedirect","onBeforeRequest","onBeforeSendHeaders","onCompleted","onErrorOccurred","onHeadersReceived","onResponseStarted","onSendHeaders"].forEach(t=>{((e,t)=>{if(!n.webRequest[t])return;let r=o({},n.webRequest[t],["hasListener","removeListener"]);r.addListener=(...e)=>{if("string"==typeof e[1])e[1]={urls:[e[1]]};else if(Array.isArray(e[1]))e[1]={urls:e[1]};if("string"==typeof e[2])e[2]=[e[2]];return n.webRequest[t].addListener.apply(n.webRequest[t],e)},e[t]=r})(e,t)}),e}},{"../bindMethods":233,"../ns":238,"../promiseSupport":239}],228:[function(e,t,r){"use strict";const o=e("../bindObjects"),n=e("../ns");t.exports=()=>{if(!n.webstore)return n.webstore;let e=o({},n.webstore,["onDownloadProgress","onInstallStageChanged"]);if(n.webstore.install)e.install=e=>new Promise((t,r)=>{let o=[];if(e)o.push(e);o.push(t),o.push((e,t)=>{r(new Error(e))}),n.webstore.install.apply(n.webstore,o)});return e}},{"../bindObjects":234,"../ns":238}],229:[function(e,t,r){"use strict";const o=e("../bindAll"),n=e("../ns"),i=e("../promiseSupport");t.exports=()=>{if(!n.windows||i)return n.windows;return o({get WINDOW_ID_NONE(){return n.windows.WINDOW_ID_NONE},get WINDOW_ID_CURRENT(){return n.windows.WINDOW_ID_CURRENT}},n.windows,{objects:["onCreated","onRemoved","onFocusChanged"],promises:{1:["remove"],2:["update"],"0-1":["getCurrent","getLastFocused","getAll","create"],"1-2":["get"]}})}},{"../bindAll":230,"../ns":238,"../promiseSupport":239}],230:[function(e,t,r){"use strict";const o=e("./bindBrowserSettings"),n=e("./bindFullPromiseReturn"),i=e("./bindMethods"),s=e("./bindObjects"),a=e("./bindPromiseReturn");t.exports=(e,t,r)=>{if(r.objects)s(e,t,r.objects);if(r.browserSettings)o(e,t,r.browserSettings);if(r.fullPromises)n(e,t,r.fullPromises);if(r.methods)i(e,t,r.methods);if(r.promises)a(e,t,r.promises);return e}},{"./bindBrowserSettings":231,"./bindFullPromiseReturn":232,"./bindMethods":233,"./bindObjects":234,"./bindPromiseReturn":235}],231:[function(e,t,r){"use strict";const o=e("./buildBrowserSetting"),n=e("./transform");t.exports=(e,t,r)=>n(r,(e,r)=>{if(t[r])e[r]=o(t[r])},e)},{"./buildBrowserSetting":237,"./transform":240}],232:[function(e,t,r){"use strict";const o=e("./ns"),n=e("./transform");t.exports=(e,t,r)=>{if(Array.isArray(r))r={1:r};return Object.keys(r).forEach(i=>{let s=r[i];i=!/\-/.test(i)?Number(i):i.split("-").map(e=>Number(e)),n(s,(e,r)=>{if(t[r])e[r]=(...e)=>new Promise((n,s)=>{let a=(()=>{let t=(()=>{if("number"==typeof i)return i;let t=i[0];if(e.length>t)t=e.length;if(t>i[1])t=i[1];return t})();return Array.apply(Array,Array(t)).map((t,r)=>e[r])})();a.push(e=>{if(!o.runtime.lastError)if(void 0===e)n();else n(e);else s(o.runtime.lastError)}),t[r].apply(t,a)})},e)}),e}},{"./ns":238,"./transform":240}],233:[function(e,t,r){"use strict";const o=e("./transform");t.exports=(e,t,r)=>o(r,(e,r)=>{if(t[r])e[r]=t[r].bind(t)},e)},{"./transform":240}],234:[function(e,t,r){"use strict";const o=e("./transform");t.exports=(e,t,r)=>o(r,(e,r)=>{if(t[r])e[r]=t[r]},e)},{"./transform":240}],235:[function(e,t,r){"use strict";const o=e("./transform");t.exports=(e,t,r)=>{if(Array.isArray(r))r={1:r};return Object.keys(r).forEach(n=>{let i=r[n];n=!/\-/.test(n)?Number(n):n.split("-").map(e=>Number(e)),o(i,(e,r)=>{if(t[r])e[r]=(...e)=>new Promise(o=>{let i=(()=>{let t=(()=>{if("number"==typeof n)return n;let t=n[0];if(e.length>t)t=e.length;if(t>n[1])t=n[1];return t})();return Array.apply(Array,Array(t)).map((t,r)=>e[r])})();i.push(e=>{if(void 0===e)o();else o(e)}),t[r].apply(t,i)})},e)}),e}},{"./transform":240}],236:[function(e,t,r){"use strict";t.exports=(()=>{if("undefined"==typeof browser)return"chrome";else return"webkitAppearance"in CSSStyleDeclaration.prototype?"edge":"firefox"})()},{}],237:[function(e,t,r){"use strict";const o=e("./bindMethods"),n=e("./bindPromiseReturn"),i=e("./promiseSupport"),s=e("./transform");t.exports=e=>{if(!e)return;let t={};if(!i)n(t,e,{1:["set"]});else o(t,e,["set"]);if(s(["get","clear"],(t,r)=>{t[r]=(t={})=>!i?new Promise(o=>{e[r](t,e=>{if(void 0===e)o(!0);else o(e)})}):e[r](t)},t),e.onChange)t.onChange=e.onChange;return t}},{"./bindMethods":233,"./bindPromiseReturn":235,"./promiseSupport":239,"./transform":240}],238:[function(e,t,r){"use strict";const o=e("./browserName");t.exports=(()=>{if("chrome"===o&&"undefined"==typeof chrome)return{};else return"chrome"===o?chrome:browser})()},{"./browserName":236}],239:[function(e,t,r){"use strict";const o=e("./browserName");t.exports="firefox"===o},{"./browserName":236}],240:[function(e,t,r){"use strict";t.exports=(e,t,r)=>{if(Array.isArray(e))return e.reduce((e,r,o)=>(t(e,r,o),e),r);else return Object.keys(e).forEach(o=>{let n=e[o];t(r,n,o)}),r}},{}],241:[function(e,t,r){"use strict";var o=m(e("core/browsecLink")),n=m(e("tools/internationalize")),i=m(e("core/log")),s=m(e("core/runtime.onMessage")),a=m(e("core/pageLinks")),u=m(e("tools/pricesPreView")),l=m(e("core/storage")),c=m(e("core/store")),d=m(e("./translation")),f=m(e("./translationReplaceCrawler")),p=m(e("tools/urlToDomain"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}let g=d.default.map(({language:e})=>e);var v,y;s.default.addListener({type:"notification:request:initial",callback:(v=function*({language:e,url:t}){yield c.default.ready;const r=(0,p.default)(t)||"",s=r.split(".").slice(-2).join(".");let m=c.default.getState(),h=m.user.premium,v=m.promotionsBlock,y=(()=>{let{mode:e,filters:t}=m.pac;if(!r)return!1;let o=t.find(({disabled:e,domain:t})=>!e&&r.endsWith(t));if(o)return o.proxyMode;else return"proxy"===e})(),{currency:b,duration:w,oldPrice:_,price:x,trialDays:k}=(0,u.default)({prices:m.prices,priceTrial:m.priceTrial});const S=!_?0:Math.floor(100*(_-x)/_);let P=y&&!h&&!v;if((0,i.default)("Notification. Show: ",P,". Proxy: ",y,". Premium user: ",h),!P)return{show:!1};let j=l.default.get("notificationHidden")||null,O=(()=>{if(!j)return!0;let e=j+6048e5;return Date.now()>e})(),{promotions:M}=m,C=Date.now(),A=M.find(({from:e,till:t,notifications:o})=>o&&o.length&&o.filter(({domains:e})=>!e||e.includes(r)||e.some(e=>r.endsWith("."+e))).length&&e<=C&&C<=t);return{html:(()=>{if(A){let{notifications:t}=A,o=t.find(({domains:e})=>!e||e.includes(r)||e.some(e=>r.endsWith("."+e)));if(!o)throw new Error("No notification object");let{html:n,texts:i}=o,a=e=>{if("a"===e.tag){if(!e.attributes)return;e.attributes.href=(()=>{let t=new URL(e.attributes.href);if(t.searchParams)return t.searchParams.set("utm_content",s),t.toString();let[r,o]=e.attributes.href.split("?"),n={};if(o)n=o.split("&").reduce((e,t)=>{let[r,o]=t.split("=");return e[r]=o,e},{});if(n.utm_content=s,!Object.keys(n).length)o="";else o=Object.keys(n).reduce((e,t,r)=>{let o=n[t],i=r?"&":"?";if(i+=t,o)i+="="+o;return e+i},"");return r+o})()}if(e.children)e.children.forEach(e=>{a(e)})};a(n);let u=i[Object.keys(i).includes(e)?e:"en"];return(0,f.default)(n,u)}let t=r.endsWith(".bbc.com")||r.endsWith(".bbc.co.uk"),i=(()=>{if(t)return"en";else return g.includes(e)?e:"en"})(),u="en"===e||!g.includes(e),l=Date.now(),c=m.promotions.find(({from:e,till:t,tariffs:r})=>e<=l&&l<=t&&r),p=c?c.id:"default_campaign",h=(()=>{switch(w){case 1:return"monthly";case 12:return"annual";case 24:return"biennial";default:throw new Error("Incorrect duration")}})(),v=(0,o.default)(c&&c.clickUrl||a.default.premium,e=>Object.assign(e,{plan_id:h,utm_campaign:p,utm_content:s,utm_medium:"inpage_notification",utm_source:"chromium extension",utm_term:i})),y=(()=>{let e=t?"bbc":"general";return d.default.find(({language:e})=>e===i)[e]})();if(!t)y.price_description=y.price_description.replace(/XXX/g,String(x));let P=(()=>{if(u){if(k)return(0,n.default)("get_N_days_free_premium_trial").replace(/XXX/g,String(k));if(S)return(0,n.default)("get_monthly_premium")}return y.upgrade_to_premium_now})(),j=[{tag:"span",class:"_Notification_Big_Button_Name"+(u&&k?" _Notification_Big_Button_Name_uppercase":""),text:P}];if(u&&!k&&S)j.push({tag:"span",class:"_Notification_Big_Button_Price",children:[{text:"for only "},{tag:"span",class:"_Notification_Big_Button_Price_Value",text:b+x},{text:" "},{tag:"span",class:"_Notification_Big_Button_Price_OldValue",text:b+_}]}),j.push({tag:"span",class:"_Notification_Big_Button_Discount",children:[{tag:"span",class:"_Notification_Big_Button_Discount_In",children:[{tag:"span",class:"_Notification_Big_Button_Discount_In_In",children:[{tag:"span",class:"_Notification_Big_Button_Discount_Minus",text:"-"},{tag:"span",class:"_Notification_Big_Button_Discount_Value",text:S},{tag:"span",class:"_Notification_Big_Button_Discount_Percent",text:"%"}]}]}]});return{tag:"div",class:"_Notification_Big_In",children:[{tag:"div",class:"_Notification_Big_In_In",children:[{tag:"div",class:"_Notification_Big_Title",text:y.title},{tag:"div",class:"_Notification_Big_Text",text:y.price_description},{tag:"a",class:"_Notification_Big_Button"+(u&&!k&&S?" _Notification_Big_Button_long":""),attributes:{href:v,target:"_blank"},children:[{tag:"span",class:"_Notification_Big_Button_In",children:j}]},{tag:"div",class:"_Notification_Later",children:[{attributes:{"data-click":"close"},tag:"div",class:"_Notification_Later_In",text:y.remind_me_later}]}]}]}})(),show:!0,size:O?"big":"small"}},y=function(){var e=this,t=arguments;return new Promise((function(r,o){var n=v.apply(e,t);function i(e){h(n,r,o,i,s,"next",e)}function s(e){h(n,r,o,i,s,"throw",e)}i(void 0)}))},function(e){return y.apply(this,arguments)})}),s.default.addListener({type:"notification:request:setVisibility",callback:({visible:e})=>{if(e)l.default.removeItem("notificationHidden");else l.default.setItem("notificationHidden",Date.now())}}),s.default.addListener({type:"notification:ping",callback:()=>"ok"})},{"./translation":242,"./translationReplaceCrawler":243,"core/browsecLink":70,"core/log":92,"core/pageLinks":102,"core/runtime.onMessage":148,"core/storage":151,"core/store":154,"tools/internationalize":261,"tools/pricesPreView":264,"tools/urlToDomain":266}],242:[function(e,t,r){t.exports=[{language:"en",general:{title:"You’re using Browsec Free",price_description:"Buy Browsec Premium for only $XXX with Turbo Speed for HD quality streaming!",upgrade_to_premium_now:"Upgrade to Premium Now",remind_me_later:"Remind me later"},bbc:{title:"Upgrade to watch BBC iPlayer",price_description:"BBC iPlayer is only available using UK Premium virtual location",upgrade_to_premium_now:"Upgrade now to watch iPlayer",remind_me_later:"Remind me later"},netflix:{title:"Upgrade to watch Netflix",price_description:"Netflix is only available using US West Premium virtual location",upgrade_to_premium_now:"Upgrade now to watch Netflix",remind_me_later:"Remind me later"}},{language:"ar",general:{title:"أنت تستخدم Browsec المجاني",price_description:"اشتري Browsec الرئيسي مقابل XXX دولار فقط مع سرعة تيربو للبث بسرعة فائقة HD!",upgrade_to_premium_now:"قم بالترقية إلى الإصدار الأساسي الآن",remind_me_later:"تذكير لاحقًا"}},{language:"de",general:{title:"Sie nutzen die kostenlose Version von Browsec",price_description:"Kaufen Sie für nur 3,33 $ Browsec Premium mit Turbo-Geschwindigkeit und HD Streaming in hoher Qualität!",upgrade_to_premium_now:"Jetzt auf Premium upgraden",remind_me_later:"Später erinnern"}},{language:"es",general:{title:"Estás usando Browsec Free",price_description:"¡Compra Browsec Premium por solo $3,33 con Velocidad Turbo para transmisión en calidad HD!",upgrade_to_premium_now:"Pasar a Premium ahora",remind_me_later:"Recordarme más tarde"}},{language:"fr",general:{title:"Vous utilisez la version gratuite de Browsec",price_description:"Achetez la version premium de Browsec pour 3,33 $ seulement avec Turbo Speed pour une diffusion en qualité HD !",upgrade_to_premium_now:"Devenez premium dès maintenant",remind_me_later:"Me le rappeler plus tard"}},{language:"id",general:{title:"Anda sedang menggunakan Browsec Gratis",price_description:"Beli Browsec Premiun hanya seharga $3,33 dengan Kecepatan Turbo untuk streaming berkualitas HD!",upgrade_to_premium_now:"Tingkatkan ke Premium Sekarang",remind_me_later:"Ingatkan saya nanti"}},{language:"it",general:{title:"Stai usando Browsec Free",price_description:"Acquista Browsec Premium per soli $XXX con Turbo Speed per streaming ad alta qualità!",upgrade_to_premium_now:"Passa subito a Premium",remind_me_later:"Ricordamelo più tardi"}},{language:"ko",general:{title:"Browsec Free를 사용 중입니다",price_description:"단 $XXX에 HD 품질 스트리밍을 위한 터보 속도를 갖춘 Browsec Premium을 구입하세요!",upgrade_to_premium_now:"지금 프리미엄으로 업그레이드",remind_me_later:"나중에 알림"}},{language:"pt",general:{title:"Está a utilizar o Browsec Free",price_description:"Comprar Browsec Premium por apenas $XXX com Turbo Speed para streaming em qualidade HD!",upgrade_to_premium_now:"Fazer upgrade agora para o Premium",remind_me_later:"Lembrar-me mais tarde"}},{language:"ru",general:{title:"Вы используете бесплатный план Browsec",price_description:"Купите Премиум всего за $XXX для просмотра видео в HD-качестве!",upgrade_to_premium_now:"Купить премиум",remind_me_later:"Напомните мне позже"}},{language:"th",general:{title:"คุณกำลังใช้งาน Browsec Free",price_description:"ซื้อ Browsec Premium ในราคาเพียง $XXX พร้อมด้วย Turbo Speed สำหรับสตรีมมิ่งคุณภาพระดับ HD!",upgrade_to_premium_now:"อัปเกรดเป็น Premium ตอนนี้เลย",remind_me_later:"เตือนฉันภายหลัง"}},{language:"tr",general:{title:"Ücretsiz Browsec kullanıyorsunuz",price_description:"Sadece XXX$ 'a Browsec Premium'u Turbo Hız ve HD yayın kalitesi için satın alın!",upgrade_to_premium_now:"Şimdi Premium'a Geç!",remind_me_later:"Daha sonra hatırlat"}},{language:"vi",general:{title:"Bạn đang sử dụng Browsec Miễn phí",price_description:"Mua Browsec Cao cấp chỉ với 3,33$ với Turbo Speed cho tốc độ truyền dữ liệu chất lượng HD!",upgrade_to_premium_now:"Nâng cấp ngay lên hạng Cao cấp.",remind_me_later:"Nhắc lại sau."}},{language:"uk",general:{title:"Ви використовуєте безкоштовний план Browsec",price_description:"Купуйте Преміум всього за $ XXX для перегляду відео в HD-якості!",upgrade_to_premium_now:"Купити преміум",remind_me_later:"Нагадати мені пізніше"}}]},{}],243:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const o=/%[a-z0-9_]+%/gi;let n=(e,t)=>{let r=Object.keys(t);if(e.text){let n=e.text.match(o);if(n){Array.from(new Set(n)).map(e=>e.slice(1,-1)).filter(e=>r.includes(e)).forEach(r=>{e.text=e.text.replace(new RegExp(`%${r}%`,"g"),t[r])})}}if(e.style){let n=e.style.match(o);if(n){Array.from(new Set(n)).map(e=>e.slice(1,-1)).filter(e=>r.includes(e)).forEach(r=>{e.style=e.style.replace(new RegExp(`%${r}%`,"g"),t[r])})}}if(e.children)e.children.forEach(e=>{n(e,t)});return e};var i=n;r.default=i},{}],244:[function(e,t,r){"use strict";(()=>{if(!window.Promise.prototype.finally)window.Promise.prototype.finally=function(e){return this.then(e,e),this}})()},{}],245:[function(e,t,r){"use strict";if(!String.prototype.padEnd)String.prototype.padEnd=function(e,t){if(e>>=0,t=String(void 0!==t?t:" "),this.length>e)return String(this);else{if((e-=this.length)>t.length)t+=t.repeat(e/t.length);return String(this)+t.slice(0,e)}}},{}],246:[function(e,t,r){"use strict";if(!String.prototype.padStart)String.prototype.padStart=function(e,t){if(e>>=0,t=String(void 0!==t?t:" "),this.length>e)return String(this);else{if((e-=this.length)>t.length)t+=t.repeat(e/t.length);return t.slice(0,e)+String(this)}}},{}],247:[function(e,t,r){"use strict";!function(e){var r=Object.prototype,o=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag",u="object"==typeof t,l=e.regeneratorRuntime;if(!l){(l=e.regeneratorRuntime=u?t.exports:{}).wrap=h;var c={},d={};d[i]=function(){return this};var f=Object.getPrototypeOf,p=f&&f(f(j([])));if(p&&p!==r&&o.call(p,i))d=p;var m=b.prototype=v.prototype=Object.create(d);y.prototype=m.constructor=b,b.constructor=y,b[a]=y.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===y||"GeneratorFunction"===(t.displayName||t.name):!1},l.mark=function(e){if(Object.setPrototypeOf)Object.setPrototypeOf(e,b);else if(e.__proto__=b,!(a in e))e[a]="GeneratorFunction";return e.prototype=Object.create(m),e},l.awrap=function(e){return{__await:e}},w(_.prototype),_.prototype[s]=function(){return this},l.AsyncIterator=_,l.async=function(e,t,r,o){var n=new _(h(e,t,r,o));return l.isGeneratorFunction(t)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},w(m),m[a]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},l.values=j,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)if("t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1)))this[t]=void 0},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){if(s.type="throw",s.arg=e,t.next=r,o)t.method="next",t.arg=void 0;return!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);else if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else if(u){if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}if(i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc)i=null;var s=i?i.completion:{};if(s.type=e,s.arg=t,i)return this.method="next",this.next=i.finallyLoc,c;else return this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;if("break"===e.type||"continue"===e.type)this.next=e.arg;else if("return"===e.type)this.rval=this.arg=e.arg,this.method="return",this.next="end";else if("normal"===e.type&&t)this.next=t;return c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;S(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){if(this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method)this.arg=void 0;return c}}}else if(u)t.exports=l;function h(e,t,r,o){var n=t&&t.prototype instanceof v?t:v,i=Object.create(n.prototype),s=new P(o||[]);return i._invoke=function(e,t,r){var o="suspendedStart";return function(n,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===n)throw i;return O()}for(r.method=n,r.arg=i;;){var s=r.delegate;if(s){var a=x(s,r);if(a){if(a===c)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else if("return"===r.method)r.abrupt("return",r.arg);o="executing";var u=g(e,t,r);if("normal"===u.type){if(o=r.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:r.done}}else if("throw"===u.type)o="completed",r.method="throw",r.arg=u.arg}}}(e,r,s),i}function g(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function v(){}function y(){}function b(){}function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e){var t;this._invoke=function(r,n){function i(){return new Promise((function(t,i){!function t(r,n,i,s){var a=g(e[r],e,n);if("throw"===a.type)s(a.arg);else{var u=a.arg,l=u.value;if(l&&"object"==typeof l&&o.call(l,"__await"))return Promise.resolve(l.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)}));else return Promise.resolve(l).then((function(e){u.value=e,i(u)}),s)}}(r,n,t,i)}))}return t=t?t.then(i,i):i()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return)if(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var o=g(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,c;var n=o.arg;if(!n)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c;if(n.done){if(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method)t.method="next",t.arg=void 0}else return n;return t.delegate=null,c}function k(e){var t={tryLoc:e[0]};if(1 in e)t.catchLoc=e[1];if(2 in e)t.finallyLoc=e[2],t.afterLoc=e[3];this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this?this:"undefined"!=typeof self?self:void 0}()||Function("return this")())},{}],248:[function(e,t,r){t.exports={at:{timezoneOffset:60,premium_servers:[{host:"at11.lunrac.com",port:443}]},au:{timezoneOffset:660,premium_servers:[{host:"au1.lunrac.com",port:443},{host:"au2.lunrac.com",port:443},{host:"au3.lunrac.com",port:443},{host:"au4.lunrac.com",port:443},{host:"au5.lunrac.com",port:443},{host:"au6.lunrac.com",port:443},{host:"au7.lunrac.com",port:443}]},be:{timezoneOffset:60,premium_servers:[{host:"be1.lunrac.com",port:443},{host:"be2.lunrac.com",port:443},{host:"be3.lunrac.com",port:443},{host:"be4.lunrac.com",port:443},{host:"be5.lunrac.com",port:443},{host:"be6.lunrac.com",port:443},{host:"be7.lunrac.com",port:443},{host:"be8.lunrac.com",port:443},{host:"be9.lunrac.com",port:443},{host:"be10.lunrac.com",port:443},{host:"be11.lunrac.com",port:443},{host:"be12.lunrac.com",port:443},{host:"be13.lunrac.com",port:443},{host:"be14.lunrac.com",port:443},{host:"be15.lunrac.com",port:443},{host:"be16.lunrac.com",port:443},{host:"be17.lunrac.com",port:443}]},bg:{timezoneOffset:120,premium_servers:[{host:"bg1.lunrac.com",port:443},{host:"bg2.lunrac.com",port:443},{host:"bg3.lunrac.com",port:443},{host:"bg4.lunrac.com",port:443}]},br:{timezoneOffset:-180,premium_servers:[{host:"br1.lunrac.com",port:443}]},ca:{timezoneOffset:-240,premium_servers:[{host:"ca1.lunrac.com",port:443}]},ch:{timezoneOffset:60,premium_servers:[{host:"ch1.lunrac.com",port:443}]},cl:{timezoneOffset:-180,premium_servers:[{host:"cl1.lunrac.com",port:443}]},cz:{timezoneOffset:60,premium_servers:[{host:"cz1.lunrac.com",port:443},{host:"cz2.lunrac.com",port:443},{host:"cz3.lunrac.com",port:443},{host:"cz4.lunrac.com",port:443},{host:"cz5.lunrac.com",port:443}]},de:{timezoneOffset:60,premium_servers:[{host:"de1.lunrac.com",port:443},{host:"de2.lunrac.com",port:443},{host:"de3.lunrac.com",port:443}]},dk:{timezoneOffset:60,premium_servers:[{host:"dk1.lunrac.com",port:443},{host:"dk2.lunrac.com",port:443},{host:"dk3.lunrac.com",port:443},{host:"dk4.lunrac.com",port:443},{host:"dk5.lunrac.com",port:443},{host:"dk6.lunrac.com",port:443},{host:"dk7.lunrac.com",port:443}]},es:{timezoneOffset:60,premium_servers:[{host:"es1.lunrac.com",port:443},{host:"es2.lunrac.com",port:443},{host:"es3.lunrac.com",port:443}]},fi:{timezoneOffset:120,premium_servers:[{host:"fi1.lunrac.com",port:443},{host:"fi2.lunrac.com",port:443},{host:"fi3.lunrac.com",port:443},{host:"fi4.lunrac.com",port:443},{host:"fi5.lunrac.com",port:443},{host:"fi6.lunrac.com",port:443}]},fr:{timezoneOffset:60,premium_servers:[{host:"fr1.lunrac.com",port:443},{host:"fr2.lunrac.com",port:443}]},hk:{timezoneOffset:480,premium_servers:[{host:"hk19.lunrac.com",port:443}]},hu:{timezoneOffset:120,premium_servers:[{host:"hu1.lunrac.com",port:443}]},ie:{timezoneOffset:0,premium_servers:[{host:"ie1.lunrac.com",port:443},{host:"ie2.lunrac.com",port:443},{host:"ie3.lunrac.com",port:443},{host:"ie4.lunrac.com",port:443}]},il:{timezoneOffset:180,premium_servers:[{host:"il1.lunrac.com",port:443}]},in:{timezoneOffset:330,premium_servers:[{host:"in1.lunrac.com",port:443},{host:"in2.lunrac.com",port:443}]},is:{timezoneOffset:0,premium_servers:[{host:"is1.lunrac.com",port:443},{host:"is2.lunrac.com",port:443}]},it:{timezoneOffset:60,premium_servers:[{host:"it1.lunrac.com",port:443},{host:"it2.lunrac.com",port:443}]},jp:{timezoneOffset:540,premium_servers:[{host:"jp1.lunrac.com",port:443},{host:"jp2.lunrac.com",port:443},{host:"jp3.lunrac.com",port:443},{host:"jp4.lunrac.com",port:443},{host:"jp5.lunrac.com",port:443},{host:"jp6.lunrac.com",port:443},{host:"jp7.lunrac.com",port:443},{host:"jp8.lunrac.com",port:443},{host:"jp9.lunrac.com",port:443},{host:"jp10.lunrac.com",port:443},{host:"jp11.lunrac.com",port:443},{host:"jp12.lunrac.com",port:443},{host:"jp13.lunrac.com",port:443},{host:"jp14.lunrac.com",port:443},{host:"jp15.lunrac.com",port:443},{host:"jp16.lunrac.com",port:443},{host:"jp17.lunrac.com",port:443},{host:"jp18.lunrac.com",port:443},{host:"jp19.lunrac.com",port:443},{host:"jp20.lunrac.com",port:443},{host:"jp21.lunrac.com",port:443},{host:"jp22.lunrac.com",port:443},{host:"jp23.lunrac.com",port:443},{host:"jp24.lunrac.com",port:443},{host:"jp25.lunrac.com",port:443},{host:"jp26.lunrac.com",port:443},{host:"jp27.lunrac.com",port:443},{host:"jp28.lunrac.com",port:443},{host:"jp29.lunrac.com",port:443},{host:"jp30.lunrac.com",port:443}]},kr:{timezoneOffset:540,premium_servers:[{host:"kr2.lunrac.com",port:443},{host:"kr3.lunrac.com",port:443}]},lt:{timezoneOffset:120,premium_servers:[{host:"lt4.lunrac.com",port:443},{host:"lt5.lunrac.com",port:443},{host:"lt6.lunrac.com",port:443}]},lu:{timezoneOffset:60,premium_servers:[{host:"lu2.lunrac.com",port:443}]},lv:{timezoneOffset:120,premium_servers:[{host:"lv1.lunrac.com",port:443}]},nl:{timezoneOffset:60,servers:[{host:"nl52.tcdn.me",port:443},{host:"nl53.tcdn.me",port:443},{host:"nl54.tcdn.me",port:443},{host:"nl55.tcdn.me",port:443},{host:"nl56.tcdn.me",port:443},{host:"nl57.tcdn.me",port:443},{host:"nl58.tcdn.me",port:443},{host:"nl59.tcdn.me",port:443},{host:"nl60.tcdn.me",port:443},{host:"nl61.tcdn.me",port:443},{host:"nl62.tcdn.me",port:443},{host:"nl63.tcdn.me",port:443},{host:"nl64.tcdn.me",port:443},{host:"nl65.tcdn.me",port:443},{host:"nl66.tcdn.me",port:443},{host:"nl67.tcdn.me",port:443},{host:"nl68.tcdn.me",port:443},{host:"nl69.tcdn.me",port:443},{host:"nl70.tcdn.me",port:443},{host:"nl71.tcdn.me",port:443},{host:"nl72.tcdn.me",port:443},{host:"nl73.tcdn.me",port:443},{host:"nl74.tcdn.me",port:443},{host:"nl75.tcdn.me",port:443},{host:"nl76.tcdn.me",port:443},{host:"nl77.tcdn.me",port:443},{host:"nl78.tcdn.me",port:443},{host:"nl79.tcdn.me",port:443},{host:"nl80.tcdn.me",port:443},{host:"nl81.tcdn.me",port:443},{host:"nl82.tcdn.me",port:443},{host:"nl83.tcdn.me",port:443},{host:"nl84.tcdn.me",port:443},{host:"nl85.tcdn.me",port:443},{host:"nl86.tcdn.me",port:443},{host:"nl87.tcdn.me",port:443},{host:"nl88.tcdn.me",port:443},{host:"nl89.tcdn.me",port:443},{host:"nl90.tcdn.me",port:443},{host:"nl91.tcdn.me",port:443},{host:"nl92.tcdn.me",port:443},{host:"nl93.tcdn.me",port:443},{host:"nl94.tcdn.me",port:443},{host:"nl95.tcdn.me",port:443}],premium_servers:[{host:"nl1.lunrac.com",port:443},{host:"nl2.lunrac.com",port:443},{host:"nl3.lunrac.com",port:443},{host:"nl4.lunrac.com",port:443},{host:"nl5.lunrac.com",port:443},{host:"nl6.lunrac.com",port:443},{host:"nl7.lunrac.com",port:443},{host:"nl8.lunrac.com",port:443}]},no:{timezoneOffset:60,premium_servers:[{host:"no1.lunrac.com",port:443},{host:"no2.lunrac.com",port:443},{host:"no3.lunrac.com",port:443}]},nz:{timezoneOffset:780,premium_servers:[{host:"nz1.lunrac.com",port:443}]},pl:{timezoneOffset:60,premium_servers:[{host:"pl1.lunrac.com",port:443}]},ro:{timezoneOffset:120,premium_servers:[{host:"ro1.lunrac.com",port:443},{host:"ro2.lunrac.com",port:443},{host:"ro3.lunrac.com",port:443}]},rs:{timezoneOffset:120,premium_servers:[{host:"rs1.lunrac.com",port:443}]},ru:{timezoneOffset:180,premium_servers:[{host:"ru6.lunrac.com",port:443},{host:"ru7.lunrac.com",port:443},{host:"ru8.lunrac.com",port:443},{host:"ru9.lunrac.com",port:443},{host:"ru10.lunrac.com",port:443},{host:"ru11.lunrac.com",port:443},{host:"ru12.lunrac.com",port:443},{host:"ru13.lunrac.com",port:443},{host:"ru18.lunrac.com",port:443}]},se:{timezoneOffset:60,premium_servers:[{host:"se1.lunrac.com",port:443},{host:"se2.lunrac.com",port:443},{host:"se3.lunrac.com",port:443},{host:"se4.lunrac.com",port:443},{host:"se5.lunrac.com",port:443}]},sg:{timezoneOffset:480,servers:[{host:"sg14.tcdn.me",port:443},{host:"sg15.tcdn.me",port:443},{host:"sg16.tcdn.me",port:443},{host:"sg17.tcdn.me",port:443},{host:"sg18.tcdn.me",port:443},{host:"sg19.tcdn.me",port:443},{host:"sg20.tcdn.me",port:443},{host:"sg21.tcdn.me",port:443},{host:"sg22.tcdn.me",port:443},{host:"sg23.tcdn.me",port:443},{host:"sg24.tcdn.me",port:443},{host:"sg25.tcdn.me",port:443},{host:"sg26.tcdn.me",port:443}],premium_servers:[{host:"sg5.lunrac.com",port:443},{host:"sg6.lunrac.com",port:443},{host:"sg7.lunrac.com",port:443},{host:"sg8.lunrac.com",port:443},{host:"sg9.lunrac.com",port:443},{host:"sg10.lunrac.com",port:443},{host:"sg11.lunrac.com",port:443},{host:"sg12.lunrac.com",port:443}]},si:{timezoneOffset:120,premium_servers:[{host:"si1.lunrac.com",port:443}]},tr:{timezoneOffset:180,premium_servers:[{host:"tr1.lunrac.com",port:443},{host:"tr2.lunrac.com",port:443},{host:"tr3.lunrac.com",port:443},{host:"tr4.lunrac.com",port:443}]},ua:{timezoneOffset:180,premium_servers:[{host:"ua01.lunrac.com",port:443}]},uk:{timezoneOffset:0,servers:[{host:"uk1.tcdn.me",port:443},{host:"uk2.tcdn.me",port:443},{host:"uk4.tcdn.me",port:443},{host:"uk5.tcdn.me",port:443},{host:"uk6.tcdn.me",port:443},{host:"uk7.tcdn.me",port:443},{host:"uk8.tcdn.me",port:443},{host:"uk9.tcdn.me",port:443},{host:"uk10.tcdn.me",port:443},{host:"uk11.tcdn.me",port:443},{host:"uk12.tcdn.me",port:443},{host:"uk13.tcdn.me",port:443},{host:"uk14.tcdn.me",port:443},{host:"uk15.tcdn.me",port:443},{host:"uk16.tcdn.me",port:443},{host:"uk17.tcdn.me",port:443},{host:"uk18.tcdn.me",port:443},{host:"uk19.tcdn.me",port:443},{host:"uk20.tcdn.me",port:443},{host:"uk21.tcdn.me",port:443}],premium_servers:[{host:"uk5.lunrac.com",port:443},{host:"uk6.lunrac.com",port:443},{host:"uk24.lunrac.com",port:443},{host:"uk26.lunrac.com",port:443},{host:"uk28.lunrac.com",port:443},{host:"uk29.lunrac.com",port:443},{host:"uk33.lunrac.com",port:443},{host:"uk34.lunrac.com",port:443},{host:"uk35.lunrac.com",port:443},{host:"uk37.lunrac.com",port:443},{host:"uk38.lunrac.com",port:443},{host:"uk40.lunrac.com",port:443},{host:"uk41.lunrac.com",port:443},{host:"uk44.lunrac.com",port:443},{host:"uk45.lunrac.com",port:443},{host:"uk47.lunrac.com",port:443}]},us:{timezoneOffset:-300,servers:[{host:"us1.tcdn.me",port:443},{host:"us2.tcdn.me",port:443},{host:"us3.tcdn.me",port:443},{host:"us4.tcdn.me",port:443},{host:"us5.tcdn.me",port:443},{host:"us6.tcdn.me",port:443},{host:"us7.tcdn.me",port:443},{host:"us8.tcdn.me",port:443},{host:"us9.tcdn.me",port:443},{host:"us10.tcdn.me",port:443},{host:"us11.tcdn.me",port:443},{host:"us13.tcdn.me",port:443},{host:"us14.tcdn.me",port:443},{host:"us15.tcdn.me",port:443},{host:"us16.tcdn.me",port:443},{host:"us17.tcdn.me",port:443},{host:"us18.tcdn.me",port:443},{host:"us19.tcdn.me",port:443},{host:"us20.tcdn.me",port:443},{host:"us22.tcdn.me",port:443},{host:"us27.tcdn.me",port:443}],premium_servers:[{host:"us3.lunrac.com",port:443},{host:"us4.lunrac.com",port:443},{host:"us5.lunrac.com",port:443},{host:"us6.lunrac.com",port:443},{host:"us8.lunrac.com",port:443},{host:"us9.lunrac.com",port:443}]},usw:{timezoneOffset:-360,premium_servers:[{host:"usw9.lunrac.com",port:443},{host:"usw10.lunrac.com",port:443},{host:"usw11.lunrac.com",port:443},{host:"usw12.lunrac.com",port:443},{host:"usw13.lunrac.com",port:443},{host:"usw14.lunrac.com",port:443},{host:"usw15.lunrac.com",port:443}]},za:{timezoneOffset:120,premium_servers:[{host:"za1.lunrac.com",port:443},{host:"za2.lunrac.com",port:443},{host:"za3.lunrac.com",port:443}]}}},{}],249:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("core/ajaxes")),n=i(e("core/store"));function i(e){return e&&e.__esModule?e:{default:e}}var s=new function(){this.get=()=>n.default.getState().timezoneChange,this.set=e=>{n.default.dispatch({type:"Timezone change",data:e});let{credentials:t,premium:r}=n.default.getState().user;if(t&&r)o.default.setTimezoneChange({credentials:t,timezoneChange:e})}};r.default=s},{"core/ajaxes":57,"core/store":154}],250:[function(e,t,r){"use strict";var o=u(e("config")),n=u(e("./index")),i=u(e("core/runtime.onMessage")),s=u(e("core/store")),a=u(e("tools/urlToDomain"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}const c=window._,d=o.default.proxy.defaultCountry||"nl";var f,p;i.default.addListener({type:"date",callback:(f=function*({url:e}){yield s.default.ready;let t=(()=>{let t=(0,a.default)(e),r=s.default.getState(),{pac:{broken:o,country:i,filters:u,mode:l},servers:f,user:{premium:p}}=r;if(!p||o||!n.default.get())return null;let m=c.transform(f,(e,t,r)=>{if(t[p?"premium_servers":"servers"])e.push(r)},[]),h=c.transform(f,(e,{timezoneOffset:t},r)=>{e[r]=t},{}),g=(e=>{if("direct"===l)e=null;if(!t)return e;let r=u.find(e=>t.endsWith(e.domain));if(r){if(!r.proxyMode)return null;let{country:e}=r;return m.includes(e)?e:d}return e})(i);if(!g)return null;else return h[g]||null})();return{original:-(new Date).getTimezoneOffset(),proxy:t}},p=function(){var e=this,t=arguments;return new Promise((function(r,o){var n=f.apply(e,t);function i(e){l(n,r,o,i,s,"next",e)}function s(e){l(n,r,o,i,s,"throw",e)}i(void 0)}))},function(e){return p.apply(this,arguments)})})},{"./index":249,config:"config","core/runtime.onMessage":148,"core/store":154,"tools/urlToDomain":266}],251:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=()=>{let e,t,r=new Promise((r,o)=>{e=r,t=o});return r.resolve=e,r.reject=t,r}},{}],252:[function(e,t,r){"use strict";function o(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,u,"next",e)}function u(e){o(s,n,i,a,u,"throw",e)}a(void 0)}))}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({request:e,syncAction:t}){let r=!1,o=null;this.set=function(){var i=n((function*(i){if(r)return o=i,void t(i);else return r=!0,t(i),new Promise(t=>{let s=function(){var a=n((function*(){if(s.started&&null===o)return r=!1,void t();let n=o;if(yield e(!s.started?i:o),!s.started)s.started=!0;else if(n===o)o=null;s()}));return function(){return a.apply(this,arguments)}}();s()})}));return function(e){return i.apply(this,arguments)}}(),Object.defineProperties(this,{inProcess:{get:()=>r},currentQueueItem:{get:()=>o}})}},{}],253:[function(e,t,r){"use strict";function o(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const n=window._;var i=function(){var e,t=(e=function*(e,t={}){let r={method:t.method||"POST"};if(t.headers||"POST"===r.method)r.headers=t.headers||{"Content-Type":"application/x-www-form-urlencoded"};if(t.data)r.body=n.transform(t.data,(e,t,r)=>{e.push(r+"="+encodeURIComponent(t))},[]).join("&");r.credentials=t.credentials||"include";let o=t.dataType||"text";t=["headers","data","dataType"].reduce((e,t)=>(delete e[t],e),n.cloneDeep(t)),Object.assign(r,t);let i=yield fetch(e,r);if(i.ok)return"json"===o?i.json():i.text();let s=new Error(i.statusText);s.status=i.status;try{s.responseText=yield i.text()}catch(s){}throw s},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,u,"next",e)}function u(e){o(s,n,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=i},{}],254:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("tools/ajax")),n=i(e("tools/encodeTokenCredentials"));function i(e){return e&&e.__esModule?e:{default:e}}r.default=(e,r)=>{let{body:i,cache:s,credentials:a,data:u,dataType:l,headers:c,method:d,tokenCredentials:f}=r;if(!c)c={};if(c["X-Browsec-Version"]=t,f)c.Authorization=(0,n.default)(f);if(!c["Content-Type"])c["Content-Type"]="application/x-www-form-urlencoded";let p={body:i,cache:s,credentials:a,data:u,dataType:l,headers:c,method:d};return Object.keys(p).forEach(e=>{if(void 0===p[e])delete p[e]}),(0,o.default)(e,p)}}).call(this,"3.27.5")},{"tools/ajax":253,"tools/encodeTokenCredentials":256}],255:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const o=Object.freeze(["autocomplete","colspan","height","href","name","rowspan","src","target","type","width"]);let n=(e,t=(e=>e))=>{if(!(e=>"string"==typeof e.tag)(e)){if("string"!=typeof e.text)throw new Error("createElement called without text property");return document.createTextNode(e.text)}if("string"!=typeof e.tag)throw new Error("TreeElement without tag");let r=document.createElement(e.tag);if(e.class){let o=t(e.class);r.setAttribute("class",o)}if(e.style)r.setAttribute("style",e.style);if(e.attributes)Object.keys(e.attributes).forEach(t=>{if(!o.includes(t)&&!t.startsWith("data-"))return;if("src"===t&&"img"!==e.tag)return;let n=e.attributes[t];r.setAttribute(t,n)});if(e.node)e.node(r);if(e.text)r.textContent=e.text;if(e.children){let o=[];e.children.forEach(e=>{o.push(n(e,t))}),o.forEach(e=>{r.appendChild(e)})}return r};var i=n;r.default=i},{}],256:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=({access_token:e})=>`Token token="${e}"`},{}],257:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=({domain:e},{domain:t})=>{let r=e.split(".").length,o=t.split(".").length;if(r>o)return-1;if(r<o)return 1;if(e>t)return 1;if(e<t)return-1;else return 0}},{}],258:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=(e,...t)=>e.replace(/\{(\d+)\}/g,(e,r)=>void 0!==t[r]?t[r]:e)},{}],259:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;let o=()=>Math.random().toString(16).slice(-4);r.default=()=>o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()},{}],260:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e("config"))&&o.__esModule?o:{default:o};const{_:i}=window;var s="development"===n.default.type?e=>e:e=>{let t=i.cloneDeep(e);if(t.email)t.email="--@--.--";if(t.credentials&&"object"==typeof t.credentials){if(t.credentials.email)t.credentials.email="--@--.--";if(t.credentials.access_token)t.credentials.access_token="exist";if(t.credentials.ipsec_password)t.credentials.ipsec_password="exist"}return t};r.default=s},{config:"config"}],261:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;let o="undefined"!=typeof browser?browser:chrome;r.default=e=>{try{return o.i18n.getMessage(e)||e}catch(t){return e}}},{}],262:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=(e,t)=>{try{return e&&JSON.parse(e)||t}catch(e){return t}}},{}],263:[function(e,t,r){"use strict";function o(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}if(a.done)t(u);else Promise.resolve(u).then(o,n)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(){var e,t=(e=function*(e){if("undefined"!=typeof browser)return;let t="http://connectivitycheck.android.com/generate_204";if(e)t+="?"+e;try{yield fetch(t,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},method:"GET"})}catch(e){}},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,u,"next",e)}function u(e){o(s,n,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();r.default=n},{}],264:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=({prices:e,priceTrial:t})=>{let r=e.slice().sort((e,t)=>e.value/e.duration-t.value/t.duration)[0],o=e.slice().sort((e,t)=>t.value/t.duration-e.value/e.duration)[0],{currency:n,oldValue:i}=o;if("USD"===n)n="$";let s=Math.floor(100*r.value/r.duration)/100,a=i?Math.floor(100*i/o.duration)/100:0,u=t||0;return{currency:n,duration:r.duration,oldPrice:a,price:s,trialDays:u}}},{}],265:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const o=window._;r.default=(e,t)=>{let r=new URL(e),n=r.search?o.transform(r.search.replace(/^\?/,"").split("&"),(e,t)=>{let[r,o]=t.split("=");e[r]=o?decodeURIComponent(o):!0},{}):{};return n=t(n),r.search=(()=>{let e=o.transform(n,(e,t,r)=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(t))},[]);return e.length?"?"+e.join("&"):""})(),r.toString()}},{}],266:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=e=>{if(!e)return null;try{let{protocol:t,hostname:r}=new URL(e);if(!["http:","https:"].includes(t))return null;else return r}catch(e){return null}}},{}],267:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;let o=e=>{for(let t=0;t<e.length;t++){let{host:r,port:o}=e[t];if("string"!=typeof r)return"server must have a 'host' property";if("string"!=typeof o&&"number"!=typeof o)return"server must have a 'port' property"}return null};r.default=e=>{if(!e||"object"!=typeof e)return{valid:!1,error:"settings should be an object"};if(0===Object.keys(e).length)return{valid:!1,error:"config should have at least one key (country)"};for(let t in e){let r=e[t],n={free:r.servers,premium:r.premium_servers};if(!Array.isArray(n.free)&&!Array.isArray(n.premium))return{valid:!1,error:"country must have either 'servers' or 'premium_servers' fields set to an array of servers"};if(Array.isArray(n.free)){let e=o(n.free);if(e)return{valid:!1,error:e}}if(Array.isArray(n.premium)){let e=o(n.premium);if(e)return{valid:!1,error:e}}}return{valid:!0}}},{}],268:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=(...e)=>{if(e[0]===e[1])return 0;let[t,r]=e.map(e=>e.split(".").map(e=>Number(e))),o=Math.min(t.length,r.length);for(let e=0;e<o;e++){if(t[e]>r[e])return 1;if(t[e]<r[e])return-1}if(t.length>r.length)return 1;if(t.length<r.length)return-1;else return 0}},{}],269:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=e=>{let t=0,r=e.map(({weight:e})=>{let r=t;return t+=e=e||1,{start:r,end:t}});var o,n=(o=t,Math.floor(Math.random()*o));for(let t=0;t<r.length;t++)if(n>=r[t].start&&n<r[t].end)return e[t]}},{}],browserConfig:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default={name:"chrome"}},{}],config:[function(e,t,r){"use strict";const o=e("./proxySettings");t.exports={type:"production",name:"Browsec VPN - Free and Unlimited VPN",shortName:"Browsec",apiServerUrls:["https://browsec.com/api/v1","https://drah7iczdw1tu.cloudfront.net/v1"],baseUrl:"https://browsec.com",ga:{enabled:!0,extension_id:["omghfjlpggmjjaagoclmmobgdodcjboh","dknfpcdpbkjijldegonllfnnfhabjpde","05908b89-695d-4687-aa36-6d87f42a464d"],tracking_id:"UA-43024042-1",chance:.01,firstPremiumBuy:"UA-43024042-2"},auth:{enabled:!0},proxy:{defaultCountry:"nl",settings:o}}},{"./proxySettings":1}],"crossbrowser-webextension":[function(e,t,r){(function(r){"use strict";const o=e("./api/accessibilityFeatures"),n=e("./api/alarms"),i=e("./api/bookmarks"),s=e("./api/browserAction"),a=e("./api/browserSettings"),u=e("./api/browsingData"),l=e("./api/certificateProvider"),c=e("./api/commands"),d=e("./api/contextMenus"),f=e("./api/contextualIdentities"),p=e("./api/cookies"),m=e("./api/declarativeContent"),h=e("./api/debugger"),g=e("./api/desktopCapture"),v=e("./api/devtools"),y=e("./api/documentScan"),b=e("./api/downloads"),w=e("./api/enterprise"),_=e("./api/extension"),x=e("./api/fileBrowserHandler"),k=e("./api/fileSystemProvider"),S=e("./api/find"),P=e("./api/fontSettings"),j=e("./api/gcm"),O=e("./api/history"),M=e("./api/identity"),C=e("./api/idle"),A=e("./api/input.ime"),R=e("./api/instanceID"),T=e("./api/i18n"),L=e("./api/management"),E=e("./api/networking.config"),D=e("./api/notifications"),I=e("./api/omnibox"),q=e("./api/pageAction"),z=e("./api/pageCapture"),B=e("./api/permissions"),N=e("./api/platformKeys"),U=e("./api/power"),F=e("./api/printerProvider"),H=e("./api/privacy"),W=e("./api/proxy"),V=e("./api/runtime"),G=e("./api/sessions"),$=e("./api/sidebarAction"),X=e("./api/storage"),K=e("./api/system"),J=e("./api/tabCapture"),Z=e("./api/tabs"),Y=e("./api/theme"),Q=e("./api/topSites"),ee=e("./api/tts"),te=e("./api/ttsEngine"),re=e("./api/vpnProvider"),oe=e("./api/webNavigation"),ne=e("./api/webRequest"),ie=e("./api/webstore"),se=e("./api/windows");let ae={accessibilityFeatures:o,alarms:n,bookmarks:i,browserAction:s,browserSettings:a,browsingData:u,certificateProvider:l,commands:c,contextMenus:d,contextualIdentities:f,cookies:p,declarativeContent:m,debugger:h,desktopCapture:g,devtools:v,documentScan:y,downloads:b,enterprise:w,extension:_,fileBrowserHandler:x,fileSystemProvider:k,find:S,fontSettings:P,gcm:j,history:O,identity:M,idle:C,instanceID:R,i18n:T,management:L,notifications:D,omnibox:I,pageAction:q,pageCapture:z,permissions:B,platformKeys:N,power:U,printerProvider:F,privacy:H,proxy:W,runtime:V,sessions:G,sidebarAction:$,storage:X,system:K,tabCapture:J,tabs:Z,theme:Y,topSites:Q,tts:ee,ttsEngine:te,vpnProvider:re,webNavigation:oe,webRequest:ne,webstore:ie,windows:se},ue=(()=>{let e={};return Object.assign(e,{accessibilityFeatures:o(),alarms:n(),bookmarks:i(),browserAction:s(),browserSettings:a(),browsingData:u(),certificateProvider:l(),commands:c(),contextMenus:d(),contextualIdentities:f(),cookies:p(),declarativeContent:m(),debugger:h(),desktopCapture:g(),devtools:v(),documentScan:y(),downloads:b(),enterprise:w(),extension:_(),fileBrowserHandler:x(),fileSystemProvider:k(),find:S(),fontSettings:P(),gcm:j(),history:O(),identity:M(),idle:C(),input:(()=>{let e=A();if(e)return{ime:e}})(),instanceID:R(),i18n:T(),management:L(),networking:(()=>{let e=E();if(e)return{config:e}})(),notifications:D(),omnibox:I(),pageAction:q(),pageCapture:z(),permissions:B(e),platformKeys:N(),power:U(),printerProvider:F(),privacy:H(),proxy:W(),runtime:V(),sessions:G(),sidebarAction:$(),storage:X(),system:K(),tabCapture:J(),tabs:Z(),theme:Y(),topSites:Q(),tts:ee(),ttsEngine:te(),vpnProvider:re(),webNavigation:oe(),webRequest:ne(),webstore:ie(),windows:se()}),Object.keys(e).forEach(t=>{if(!e[t])delete e[t]}),e})();if(ue.resetAPI=e=>{if(!ae[e])return;let t=ae[e]();ue[e]=t},"object"!=typeof r||r+""!="[object process]")window.Browser=ue;t.exports=ue}).call(this,e("_process"))},{"./api/accessibilityFeatures":164,"./api/alarms":165,"./api/bookmarks":166,"./api/browserAction":167,"./api/browserSettings":168,"./api/browsingData":169,"./api/certificateProvider":170,"./api/commands":171,"./api/contextMenus":172,"./api/contextualIdentities":173,"./api/cookies":174,"./api/debugger":175,"./api/declarativeContent":176,"./api/desktopCapture":177,"./api/devtools":178,"./api/documentScan":182,"./api/downloads":183,"./api/enterprise":185,"./api/extension":187,"./api/fileBrowserHandler":188,"./api/fileSystemProvider":189,"./api/find":190,"./api/fontSettings":191,"./api/gcm":192,"./api/history":193,"./api/i18n":194,"./api/identity":195,"./api/idle":196,"./api/input.ime":197,"./api/instanceID":198,"./api/management":199,"./api/networking.config":200,"./api/notifications":201,"./api/omnibox":202,"./api/pageAction":203,"./api/pageCapture":204,"./api/permissions":205,"./api/platformKeys":206,"./api/power":207,"./api/printerProvider":208,"./api/privacy":209,"./api/proxy":210,"./api/runtime":211,"./api/sessions":212,"./api/sidebarAction":213,"./api/storage":214,"./api/system":216,"./api/tabCapture":219,"./api/tabs":220,"./api/theme":221,"./api/topSites":222,"./api/tts":223,"./api/ttsEngine":224,"./api/vpnProvider":225,"./api/webNavigation":226,"./api/webRequest":227,"./api/webstore":228,"./api/windows":229,_process:12}]},{},[23]);